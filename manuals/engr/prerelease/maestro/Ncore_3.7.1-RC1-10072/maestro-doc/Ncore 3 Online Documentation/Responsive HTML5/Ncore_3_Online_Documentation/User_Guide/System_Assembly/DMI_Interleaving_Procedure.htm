<html lang="en-US">
<head>
<meta content="IE=edge" http-equiv="X-UA-Compatible" />
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
<title>DMI_Interleaving_Procedure</title>
<meta content="DMI Interleaving Procedure" name="title_original" />
<link href="../../../rhstylemapping.css" rel="stylesheet" type="text/css" />
<link href="../User_Guide.css" rel="stylesheet" type="text/css" />
<link href="../../../editstyle.css" rel="stylesheet" type="text/css" /><script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>
 <meta name="generator" content="Adobe FrameMaker v17.0" />
<script type="text/javascript" src="../../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../../..";
gCommonRootRelPath = "../../..";
gTopicId = "3.4.2";
</script>
 <meta name="brsprev" value="Ncore_3_Online_Documentation/User_Guide/System_Assembly/Memory_Map.htm">
 <meta name="brsnext" value="Ncore_3_Online_Documentation/User_Guide/System_Assembly/System_Assembly__47_Communication.htm">
 <meta name="topic-breadcrumbs" content="User Guide > System Assembly (Phase 2)" />
</head>
<body dir="ltr">
<script type="text/javascript" src="../../../ehlpdhtm.js"></script>
<div><p class="Heading1" id="1043789"><a id="1018_Heading1_1043789" name="1018_Heading1_1043789"></a>4.4 <a id="XREF_39063__4_5_DMI_Interleaving_Procedure11" name="XREF_39063__4_5_DMI_Interleaving_Procedure11">D</a><a id="index_1113098" name="index_1113098"></a><a data-indexterm="DMI%20Interleaving%20Procedure" id="DMI_Interleaving_Procedure" name="DMI_Interleaving_Procedure"></a>MI Interleaving Procedure</p><p class="Body" id="1043791">Sockets that are defined with the MEMORY can be interleaved. The Ncore units attached to sockets configured as MEMORY are the DMIs. The address regions mapped to the DMIs can be interleaved. All DMIs are assigned to one or more Memory Groups.</p><p class="Body" id="1043793">A maximum of 16 DMIs per Memory Group is permitted. The DMIs can only be placed in ascending order and allotted to Memory Groups. Even a single DMI must be assigned a memory group. You can have 16 DMIs in a memory group.</p><p class="Heading3" id="1098340"><span style="padding-right:18pt ;">&#8203</span><a id="index_1099963" name="index_1099963"></a><a data-indexterm="DMI%20Configuration%20Example" id="DMI_Configuration_Example" name="DMI_Configuration_Example"></a>DMI Configuration Example</p><p class="Body" id="1101168">The following example is based on setting assignments for five DMIs. Ncore can create a maximum of two Memory Sets.</p><p class="Body" id="1101172">MemorySet is created under Memory Map. For each MemorySet, you must declare one or more Dynamic Memory Groups. A Memory Set will contain the entire set of MEMORY sockets distributed into different Dynamic Memory Groups.</p><p class="Bullet_1" id="1101175"><span class="BulletSymbol">&#x2022; </span>MemorySet <span style="font-family : Consolas ; ">&#x30;</span> contains 3 groups &#x2014;MemoryGroup<span style="font-family : Consolas ; ">&#x30;&#x30;</span>, MemoryGroup<span style="font-family : Consolas ; ">&#x30;</span>1, and MemoryGroup<span style="font-family : Consolas ; ">&#x30;</span>2&#x3A;</p><p class="Bullet_2" id="1101177"><span class="BulletSymbol"> &#x2D; </span>DMI<span style="font-family : Consolas ; font-size : 10.00pt;">&#x30;</span>, DMI1 in MemoryGroup<span style="font-family : Consolas ; font-size : 10.00pt;">&#x30;&#x30;</span></p><p class="Bullet_2" id="1101178"><span class="BulletSymbol"> &#x2D; </span>DMI2, DMI3 in MemoryGroup<span style="font-family : Consolas ; font-size : 10.00pt;">&#x30;</span>1</p><p class="Bullet_2" id="1101179"><span class="BulletSymbol"> &#x2D; </span>DMI4 in MemoryGroup<span style="font-family : Consolas ; font-size : 10.00pt;">&#x30;</span>2</p><p class="Bullet_1" id="1101181"><span class="BulletSymbol">&#x2022; </span>MemorySet 1 contains 2 groups &#x2014; MemoryGroup1<span style="font-family : Consolas ; ">&#x30;</span> and MemoryGroup11&#x3A;</p><p class="Bullet_2" id="1101183"><span class="BulletSymbol"> &#x2D; </span>DMI<span style="font-family : Consolas ; font-size : 10.00pt;">&#x30;</span>, DMI1, DMI2, DMI3 in MemoryGroup1<span style="font-family : Consolas ; font-size : 10.00pt;">&#x30;</span></p><p class="Bullet_2" id="1101184"><span class="BulletSymbol"> &#x2D; </span>DMI4 in MemoryGroup11</p><p class="Heading2" id="1101771"><a id="1018_Heading2_1101771" name="1018_Heading2_1101771"></a>4.4.1 <a><a id="index_1101798" name="index_1101798"></a><a data-indexterm="Memory%20Interleaving%20Function" id="Memory_Interleaving_Function" name="Memory_Interleaving_Function"></a></a></p><p class="BodyAfterHead" id="1101773">The Memory Interleaving Function specifies the selection bits for 2&#x2D;way and 4&#x2D;way interleaving schemes. When the number of DMIs in a Memory Group is two, the two&#x2D;way interleaving function is used. When the number of DMIs in a MemoryGroup is four, the four&#x2D;way interleaving function is used.</p><p class="BodyAfterHead" id="1101777">The primary and secondary selection bits are defined in the interleaving functions.</p><p class="BodyAfterHead" id="1101779">Referring to the example of the five DMIs&#x3A;</p><p class="Bullet_1" id="1101780"><span class="BulletSymbol">&#x2022; </span>MemoryGroup<span style="font-family : Consolas ; ">&#x30;</span> of MemorySet<span style="font-family : Consolas ; ">&#x30;</span> uses a two&#x2D;way interleaving function because there are only two DMIs&#x3A; DMI<span style="font-family : Consolas ; ">&#x30;</span> and DMI1. MemoryGroup<span style="font-family : Consolas ; ">&#x30;</span> of MemorySet<span style="font-family : Consolas ; ">&#x30;</span> requires 1 primary bit to specify which bits of the address are used to interleave the addresses.</p><p class="Bullet_1" id="1101784"><span class="BulletSymbol">&#x2022; </span>MemoryGroup<span style="font-family : Consolas ; ">&#x30;</span> of MemorySet1 uses four&#x2D;way interleaving function because the memory group has four DMIs&#x3A; DMI<span style="font-family : Consolas ; ">&#x30;</span>, DMI1, DMI2, DMI4. MemoryGroup<span style="font-family : Consolas ; ">&#x30;</span> of MemorySet1 requires two primary bits to specify which bits of the address are used to interleave the addresses.</p><p class="BodyAfterHead" id="1101790">A maximum of two interleaving functions are defined for each interleaving scheme.</p><p class="Heading2" id="1021983"><a id="1018_Heading2_1021983" name="1018_Heading2_1021983"></a>4.4.2 Create <a id="index_1101755" name="index_1101755"></a><a data-indexterm="Memory%20Map:create" id="Memory_Map_create" name="Memory_Map_create"></a>Memory Map</p><p class="Step1" id="1024254"><span class="StepNumber">1.  </span>Select Project View.</p><p class="step_contd" id="1024279"><span class="StepNumber">2.  </span>Right&#x2D;click Memory Map. A menu is displayed.</p><p class="step_contd" id="1022745"><span class="StepNumber">3.  </span>Select Create from the menu.</p><p class="step_contd" id="1022782"><span class="StepNumber">4.  </span>Select a name for the Memory Map and click OK.</p><p class="Body" id="1031704">The name of the new Memory Map is displayed below the Memory Map directory.</p><p class="Heading2" id="1109116"><a id="1018_Heading2_1109116" name="1018_Heading2_1109116"></a>4.4.3 Create <a id="index_1110175" name="index_1110175"></a><a data-indexterm="Initiator%20Groups" id="Initiator_Groups" name="Initiator_Groups"></a>Initiator Groups</p><p class="BodyAfterHead" id="1110011">Initiator Groups are groups of identical initiator sockets. Initiator groups allow initiator sockets to be interleaved just like memory maps allow DMIs to be interleaved. </p><p class="Body" id="1110427">DMIs, DCEs, and Initiator Groups can all be interleaved. If all of these components are interleaved using the same bits, the amount of routing connectivity in the topology can be reduced dramatically. </p><p class="Body" id="1110430">As an example, assume we have an initiator group of 4 initiators and a memory map of 4 DMIs and 4 DCEs, which are all interleaved using bits 8 and 9. In this configuration each Initiator would be connected to one DMI and one DCE. Without interleaving every initiator would need to connect to every DMI and every DCE. Interleaving allows large coherent NoCs to still be implementable.</p><p class="Heading2" id="1109138"><a id="1018_Heading2_1109138" name="1018_Heading2_1109138"></a>4.4.4 <a id="index_1110184" name="index_1110184"></a><a data-indexterm="DCE%20Interleaving" id="DCE_Interleaving" name="DCE_Interleaving"></a>DCE Interleaving</p><p class="BodyAfterHead" id="1110435">DCE interleaving functions similar to interleaving for initiator groups and for DMIs. By specifying common interleaving bits between the various components,  Ncore is able to dramatically reduce the connectivity of the coherent NoC.</p><p class="Heading2" id="1027526"><a id="1018_Heading2_1027526" name="1018_Heading2_1027526"></a>4.4.5 Create a <a id="index_1110189" name="index_1110189"></a><a data-indexterm="Memory%20Sets" id="Memory_Sets" name="Memory_Sets"></a>Memory Set</p><p class="Step1" id="1027521"><span class="StepNumber">1.  </span>In the Project Tree, expand the right arrow next to the Memory Map directory.</p><p class="step_contd" id="1027757"><span class="StepNumber">2.  </span>Right&#x2D;click the name of the Memory Map. A list of actions is displayed.</p><p class="step_contd" id="1027793"><span class="StepNumber">3.  </span>Select Create &#x3E; MemorySet. The Create MemorySet window is displayed.</p><p class="step_contd" id="1027947"><span class="StepNumber">4.  </span>Enter the name of the new MemorySet in the text field. Select OK. </p><p class="Body" id="1098797">The name of the new MemorySet is displayed in the Object Editor and the Parameter View. The name of the new Memory Set is displayed in the Project Tree beneath the directory of the selected Memory Map name.</p><p class="Body" id="1098800">To create a second MemorySet, repeat steps 1&#x2D;4.</p><p class="Heading2" id="1027880"><a id="1018_Heading2_1027880" name="1018_Heading2_1027880"></a>4.4.6 Create a <a id="index_1099973" name="index_1099973"></a><a data-indexterm="Memory%20Interleave%20Group%20Set" id="Memory_Interleave_Group_Set" name="Memory_Interleave_Group_Set"></a>Memory Interleave Group Set</p><p class="Step1" id="1027673"><span class="StepNumber">1.  </span>Right&#x2D;click the name of a MemorySet. </p><p class="step_contd" id="1028348"><span class="StepNumber">2.  </span>Select Create &#x3E; Dynamic Memory Group. The window displays the Create Dynamic Memory Group window.</p><p class="step_contd" id="1028478"><span class="StepNumber">3.  </span>Enter the name of the new Dynamic Memory Group. Select OK. </p><p class="Body" id="1098865">The name of the new Dynamic Memory Group is displayed below the name of the selected MemorySet directory in the Project Tree.</p><p class="Heading2" id="1029024"><a id="1018_Heading2_1029024" name="1018_Heading2_1029024"></a>4.4.7 Create <a id="index_1099978" name="index_1099978"></a><a data-indexterm="Memory%20Interleaving%20Function" id="Memory_Interleaving_Function" name="Memory_Interleaving_Function"></a>Memory Interleaving Function</p><p class="Step1" id="1029069"><span class="StepNumber">1.  </span>Expand the Memory Interleaving Functions directory.</p><p class="step_contd" id="1029771"><span class="StepNumber">2.  </span>Select the Memory Interleaving Functions directory. </p><p class="step_contd" id="1098895"><span class="StepNumber">3.  </span>Select Create &#x3E; Memory Interleaving Function. The Create Memory Interleaving Function window is displayed.</p><p class="step_contd" id="1029974"><span class="StepNumber">4.  </span>Enter the name of the new Memory Interleaving Function.</p><p class="step_contd" id="1030030"><span class="StepNumber">5.  </span>Select OK. The name of the new Memory Interleaving Function is displayed in the Memory Interleaving Function directory.</p><p class="step_contd" id="1030163"><span class="StepNumber">6.  </span>Select the name of a Memory Interleaving Function. The Object Editor and Parameter View display the parameter names and values of the selected Memory Interleaving Function.</p><p class="step_contd" id="1030309"><span class="StepNumber">7.  </span>As required, configure values for&#x3A;</p><p class="ss1_StepSub1" id="1030362"> a.  Memory Interleaving Function Identifier</p><p class="ss_StepSub" id="1098935"> b.  Primary Interleaving Bit &#x23;1 (LSB)</p><p class="ss_StepSub" id="1030445"> c.  Primary Interleaving Bit &#x23;2</p><p class="ss_StepSub" id="1030505"> d.  Primary Interleaving Bit &#x23;3</p><p class="Body" id="1030053">The Object Editor and the Parameter View display the selected Interleaving Function &#x23;1 and Interleaving Function&#x23;2 values. If there are 16 DMI, you might need to have 4 interleaving bits.</p><p class="Heading2" id="1022665"><a id="1018_Heading2_1022665" name="1018_Heading2_1022665"></a>4.4.8 Create <a id="index_1099983" name="index_1099983"></a><a data-indexterm="Boot%20Region:create" id="Boot_Region_create" name="Boot_Region_create"></a>Boot Region</p><p class="BodyAfterHead" id="1031994">Complete the following steps to create a boot region.</p><p class="Step1" id="1024314"><span class="StepNumber">1.  </span>In the Project Tree, right&#x2D;click on a Memory Map. The Create &#x3E; Boot Region page is displayed.</p><p class="step_contd" id="1024416"><span class="StepNumber">2.  </span>Enter a name for the new Boot Region in the text field.</p><p class="step_contd" id="1024527"><span class="StepNumber">3.  </span>Select OK. The name of the new Boot Region is added to the Boot Region directory in the Project Tree. </p><p class="step_contd" id="1024929"><span class="StepNumber">4.  </span>Left&#x2D;click the name of the new Boot Region. The Object Editor and the Parameter View display parameter names and values for the new Boot Region. </p><p class="step_contd" id="1024979"><span class="StepNumber">5.  </span>Select the path to a Target Socket. Place the cursor in the field to display a list of the paths to each configured socket. Select a path from the list. For example, you might select project&#47;chip&#47;system&#47;subsystem&#47;sock_caiu<span style="font-family : Consolas ; ">&#x30;</span>. The selected path is displayed in the Target Socket field.</p><p class="step_contd" id="1025381"><span class="StepNumber">6.  </span>Define the value for the Base Address. The unit for the Base Address is (kb). Enter a value for the Base Address, or select the up&#47;down arrows to select a value. The Base Address field displays the selected value.</p><p class="step_contd" id="1025663"><span class="StepNumber">7.  </span>Define the Memory Size value. Enter the value or select the up&#47;down arrows to select a value. The Size field displays the selected value.</p><p class="ParamHeading" id="1030645">Base Address</p><p class="Body" id="1032099">Specify the Boot Region base address. This address must be aligned to the size specified.</p><p class="ParamHeading" id="1032189">Boot Region Size</p><p class="Body" id="1032222">Specifies the size of the Boot Region. The minimum size is 4KB and must be a power of two.</p><p class="Heading2" id="1021992"><a id="1018_Heading2_1021992" name="1018_Heading2_1021992"></a>4.4.9 Create <a id="index_1099988" name="index_1099988"></a><a data-indexterm="Configuration%20Region:create" id="Configuration_Region_create" name="Configuration_Region_create"></a>Configuration Region</p><p class="BodyAfterHead" id="1031891">To create a Configuration Region, complete the following steps.</p><p class="Step1" id="1026535"><span class="StepNumber">1.  </span>In the Project Tree, right&#x2D;click  on a Memory Map. The Create &#x3E; MemoryMap Region page is displayed.</p><p class="step_contd" id="1026536"><span class="StepNumber">2.  </span>Enter a name for the new Configuration Region in the text field.</p><p class="step_contd" id="1026537"><span class="StepNumber">3.  </span>Select OK. The name of the new Configuration Region is displayed in the Configuration Region directory in the Project Tree.</p><p class="step_contd" id="1026754"><span class="StepNumber">4.  </span>Left&#x2D;click the name of the Configuration Region. The Object Editor and the Parameter View display parameter names and values for the selected Configuration Region.</p><p class="step_contd" id="1112175"><span class="StepNumber">5.  </span>Check the console for messages, select the Flow Navigator ribbon and expand the System Assembly menu entry. Once complete, proceed to the System Assembly&#47;Communication phase.</p></div>
</body>
</html>