<html lang="en-US">
<head>
<meta content="IE=edge" http-equiv="X-UA-Compatible" />
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
<title>Q_channel_clock_gating_sequence</title>
<meta content="Q channel clock gating sequence" name="title_original" />
<link href="../../../rhstylemapping.css" rel="stylesheet" type="text/css" />
<link href="../Reference_Guide.css" rel="stylesheet" type="text/css" />
<link href="../../../editstyle.css" rel="stylesheet" type="text/css" /><script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>
 <meta name="generator" content="Adobe FrameMaker v17.0" />
<script type="text/javascript" src="../../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../../..";
gCommonRootRelPath = "../../..";
gTopicId = "4.5.0_2";
</script>
 <meta name="brsprev" value="Ncore_3_Online_Documentation/Reference_Guide/SysSoftwareGuide/Reset_and_Initialization.htm">
 <meta name="brsnext" value="Ncore_3_Online_Documentation/Reference_Guide/Appendix/System_Address_Map.htm">
 <meta name="topic-breadcrumbs" content="Reference Guide > System Software Guidelines" />
</head>
<body dir="ltr">
<script type="text/javascript" src="../../../ehlpdhtm.js"></script>
<div><p class="Heading1" id="1001765"><a id="1092_Heading1_1001765" name="1092_Heading1_1001765"></a>5.2 <a id="XREF_76244__5_2_Q_channel_Power_sequence22" name="XREF_76244__5_2_Q_channel_Power_sequence22">Q</a> channel clock gating sequence</p><p class="BodyAfterHead" id="1001766"><a id="1092_BodyAfterHead_1001766" name="1092_BodyAfterHead_1001766"></a> The Q channel clock gating sequence is as follows&#x3A;</p><p class="Step1" id="1001767"><span class="StepNumber">1.  </span>Software must go through the processes of turning off all traffic to the Ncore components that are within the clock domain and are going to be clock gated. Steps included are&#x3A;</p><p class="ss1_StepSub1" id="1005485"> a.  &#160;&#160;&#160;Stop all coherent traffic at the native interface of the target Ncore components.</p><p class="ss_StepSub" id="1001768"> b.  Flush and disable all caches above the native interface or within the target Ncore components.</p><p class="ss_StepSub" id="1004550"> c.  Any CAIUs, Proxy cache and DVM capable NCAIUs must be transitioned to non&#x2D;coherent&#47;detached state either via SYSCOREQ&#47;SYSCOACK interface signaling or via xTAR&#47;XTCR registers. If an NCAIU with ProxyCache is clock gated, the ProxyCache should be flushed.</p><p class="step_contd" id="1001770"><span class="StepNumber">2.  </span>Trigger the CMU (Clock gating Management Unit) to send a Q channel  request which includes the following&#x3A;</p><p class="ss1_StepSub1" id="1001771"> a.  REQn is asserted on the Q Channel Interface.</p><p class="ss_StepSub" id="1001772"> b.  Ncore component will assert ACCEPTn and accept the request once it is not busy (no active transactions are pending in the Ncore component). </p><p class="BodyAfterHead" id="1001773">The software or CMU is required to implement a timeout counter to cover cases where the Ncore component may not accept the power down request. In this case ACCEPTn will not be asserted, at timeout REQn must be de&#x2D;asserted (Clock gating aborted) and that Ncore component stays in up state.</p><p class="BodyAfterHead" id="1001774">In the Clock gated state, the Ncore components will not block any transactions and have no special behavior. Depending on the system design on successful completion of  Q channel request,&#160;the Ncore subsystem clock can be turned off. The ACTIVE signal indicates if the block is busy and this signal can toggle at any time during normal operation.</p><p class="BodyAfterHead" id="1001775">The wake&#x2D;up sequence is as follows&#x3A;</p><p class="Step1" id="1001776"><span class="StepNumber">1.  </span>Enable the clock.</p><p class="step_contd" id="1001778"><span class="StepNumber">2.  </span>De&#x2D;assert REQn.</p><p class="step_contd" id="1001779"><span class="StepNumber">3.  </span>Go through the process of transitioning any CAIUs, Proxy cache, and DVM capable NCAIUs to coherent state. </p><p class="step_contd" id="1001780"><span class="StepNumber">4.  </span>Start normal traffic.</p><p class="BodyAfterHead" id="1001781">Initial system power up with Ncore clock domains in state is not supported.</p></div>
</body>
</html>