<html lang="en-US">
<head>
<meta content="IE=edge" http-equiv="X-UA-Compatible" />
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
<title>System_Address_Map</title>
<meta content="System Address Map" name="title_original" />
<link href="../../../rhstylemapping.css" rel="stylesheet" type="text/css" />
<link href="../Reference_Guide.css" rel="stylesheet" type="text/css" />
<link href="../../../editstyle.css" rel="stylesheet" type="text/css" /><script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>
 <meta name="generator" content="Adobe FrameMaker v17.0" />
<script type="text/javascript" src="../../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../../..";
gCommonRootRelPath = "../../..";
gTopicId = "4.6.0_1";
</script>
 <meta name="brsprev" value="Ncore_3_Online_Documentation/Reference_Guide/SysSoftwareGuide/Q_channel_clock_gating_sequence.htm">
 <meta name="brsnext" value="Ncore_3_Online_Documentation/Reference_Guide/Appendix/PCIe_Producer_consumer_example_scenario.htm">
 <meta name="topic-breadcrumbs" content="Reference Guide > Appendix" />
</head>
<body dir="ltr">
<script type="text/javascript" src="../../../ehlpdhtm.js"></script>
<div><p class="Heading1" id="949075">A.1 System Address Map</p><p class="Body" id="949329">This section describes an example setup for Ncore address space. Before proceeding further, read <a href="../System_Attributes/Addressing_and_Memory_Regions.htm#XREF_80839__3_2_Addressing_and_Memory_Regions23" style="font-family : Georgia ; font-weight:normal;font-style:Italic;font-size : 10.00pt;text-decoration:none;text-transform:none;font-stretch:normal;color:#0000ff;background-color:transparent;letter-spacing : 0.00em;"> Addressing and Memory Regions</a> and&#160;<a href="../System_Attributes/Addressing_and_Memory_Regions.htm#XREF_41564__3_2_1_Interleaving23" style="font-family : Georgia ; font-weight:normal;font-style:Italic;font-size : 10.00pt;text-decoration:none;text-transform:none;font-stretch:normal;color:#0000ff;background-color:transparent;letter-spacing : 0.00em;"> Interleaving</a> capabilities of Ncore. The following build time configurations are assumed. <div align="left"><table class="normal" style="max-width: 100% ;height: auto;"><caption class="ttw-TableTitleWide"><p class="ttw_TableTitleWide" id="949376">Table&#160;2&#x30;. </p></caption><col width="149.75px"/><col width="207.65px"/><col width="260.80px"/><thead><tr height="31.33px"><th><p class="CellHeading" id="949382">Description of parameter</p></th><th><p class="CellHeading" id="949384" style="text-align:left;">Value</p></th><th><p class="CellHeading" id="949386" style="text-align:left;">Notes</p></th></tr></thead><tr height="22.67px"><td><p class="CellBody" id="949388">Number of GPRAS </p></td><td><p class="CellBody" id="949390">6</p></td><td/></tr><tr height="22.67px"><td><p class="CellBody" id="949394">DCE interleaving </p></td><td><p class="CellBody" id="949396">3&#x30;&#x3A;39</p></td><td><p class="CellBody" id="949398">4 way interleaving at 512 MB</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="949400">Number of DMIs</p></td><td><p class="CellBody" id="949402">6</p></td><td><p class="CellBody" id="949404">They are named DMI&#x30; to DMI5 </p></td></tr><tr height="37.33px"><td><p class="CellBody" id="949406">MIGS (option 1)</p></td><td><p class="CellBody" id="949408">&#x7B;[DMI&#x30;, DMI1, DMI2, DMI3], [DMI4, DMI5]&#x7D;</p></td><td><p class="CellBody" id="949410">2 groups, first one is 4 way interleaved second one is 2 way interleaved. </p></td></tr><tr height="22.67px"><td><p class="CellBody" id="949412">MIGS (option 2)</p></td><td><p class="CellBody" id="949414">&#x7B;[DMI&#x30;, DMI1], </p></td><td/></tr><tr height="22.67px"><td><p class="CellBody" id="949418">[DMI2, DMI3], </p></td><td/><td/></tr><tr height="22.67px"><td><p class="CellBody" id="949424">[DMI4], </p></td><td/><td/></tr><tr height="52.00px"><td><p class="CellBody" id="949430">[DMI5]&#x7D;</p></td><td><p class="CellBody" id="949432">4 groups, first 2 are 2 way interleaved and the last 2 are single DMIs &#x2D; i.e., no interleaving </p></td><td/></tr><tr height="37.33px"><td><p class="CellBody" id="949436">2 way interleaving (options 1)</p></td><td><p class="CellBody" id="949438">9</p></td><td><p class="CellBody" id="949440">512Byte interleaving</p></td></tr><tr height="37.33px"><td><p class="CellBody" id="949442">2 way interleaving (options 2)</p></td><td><p class="CellBody" id="949444">8</p></td><td><p class="CellBody" id="949446">256Byte interleaving </p></td></tr><tr height="37.33px"><td><p class="CellBody" id="949448">4 way interleaving (options 1)</p></td><td><p class="CellBody" id="949450">7,6</p></td><td><p class="CellBody" id="949452">64B interleaving</p></td></tr><tr height="37.33px"><td><p class="CellBody" id="949454">4 way interleaving (options 2)</p></td><td><p class="CellBody" id="949456">13,12</p></td><td><p class="CellBody" id="949458">4KB interleaving</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="949460">Number of DIIs </p></td><td><p class="CellBody" id="949462">1</p></td><td/></tr><tr height="22.67px"><td><p class="CellBody" id="949472">Boot region base address</p></td><td><p class="CellBody" id="949474">&#x30;x&#x30;</p></td><td/></tr><tr height="22.67px"><td><p class="CellBody" id="949478">Boot region map </p></td><td><p class="CellBody" id="949480">DII </p></td><td><p class="CellBody" id="949482">Mapped to the single DII in the system</p></td></tr></table></div></p><p class="Body" id="949490">For simplicity CSR address space and ordering configurations are not shown. This example is for CAIU that does not consider the ordering configuration and the bits must be set as zeros. The address map registers for a single GPRAS in detail is shown in <a  href="#XREF_86895__Figure%1120__GPRAS_Address21" style="color:#0000ff;">Table&#160;21</a>. For a detailed description of each field, refer to the CSR description document. <a  href="#XREF_82352__Figure%1122__GPRAS_Address21" style="color:#0000ff;">Figure&#160;22</a> includes a brief description.&#160;</p><p class="Body" id="952415"><div align="left"><table class="normal" style="max-width: 100% ;height: auto;"><caption class="ttw-TableTitleWide"><p class="ttw_TableTitleWide" id="950884">Table&#160;21. <a id="XREF_86895__Figure%1120__GPRAS_Address21" name="XREF_86895__Figure%1120__GPRAS_Address21">GPRAS Address </a></p></caption><col width="99.20px"/><col width="123.20px"/><col width="373.40px"/><thead><tr height="31.33px"><th><p class="CellHeading" id="950888"><a id="1088_CellHeading_950888" name="1088_CellHeading_950888"></a>Bit</p></th><th><p class="CellHeading" id="950964">Name</p></th><th><p class="CellHeading" id="950890" style="text-align:left;">Description</p></th></tr></thead><tr height="62.67px"><td><p class="CellBody" id="950892" style="text-align:center;">31</p></td><td><p class="CellBody" id="950966" style="text-align:center;">Valid</p></td><td><p class="CellBody" id="950894">This bit indicates if the region is valid. </p><p class="CellBody" id="951050">&#x30;&#x3A; Invalid mapping</p><p class="CellBody" id="951072">1&#x3A; Valid region mapping read&#x2D;write none &#x30;x&#x30;</p></td></tr><tr height="62.67px"><td><p class="CellBody" id="950896" style="text-align:center;">3&#x30;</p></td><td><p class="CellBody" id="950968" style="text-align:center;">HUT</p></td><td><p class="CellBody" id="950898">This bit indicates the Home Unit Type.</p><p class="CellBody" id="951174">&#x30;&#x3A; System Memory</p><p class="CellBody" id="951192">1&#x3A; Peripheral Storage read&#x2D;write none &#x30;x&#x30;</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="950900" style="text-align:center;">29&#x3A;25</p></td><td><p class="CellBody" id="950970" style="text-align:center;">Rsvd</p></td><td><p class="CellBody" id="950902">Reserved</p></td></tr><tr height="45.87px"><td><p class="CellBody" id="950904" style="text-align:center;">24&#x3A;2&#x30;</p></td><td><p class="CellBody" id="950972" style="text-align:center;">Size</p></td><td><p class="CellBody" id="950906">Size &#x3D; (IG) x 2<sup>(Size + 12)</sup> bytes</p><p class="CellBody" id="951313">IG &#x3D; 1, 2, 4, &#x30;r 9</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="950908" style="text-align:center;">19&#x3A;14</p></td><td><p class="CellBody" id="950974" style="text-align:center;">Rsvd</p></td><td><p class="CellBody" id="950910">Reserved</p></td></tr><tr height="42.67px"><td><p class="CellBody" id="950912" style="text-align:center;">13&#x3A;9</p></td><td><p class="CellBody" id="950976" style="text-align:center;">HUI</p></td><td><p class="CellBody" id="950914">This bit  indicates the Home Unit ID&#x3A; DII &#x2D;&#x3E; &#x30;..number of (DII &#x2D;1)</p><p class="CellBody" id="951456">DMI &#x2D;&#x3E; MIG number withing the&#160;MIGS</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="950916" style="text-align:center;">8</p></td><td><p class="CellBody" id="950978" style="text-align:center;">Rsvd</p></td><td><p class="CellBody" id="950918">Reserved</p></td></tr><tr height="72.00px"><td><p class="CellBody" id="950920" style="text-align:center;">7&#x3A;6</p></td><td><p class="CellBody" id="950980" style="text-align:center;">NSX</p></td><td><p class="CellBody" id="950922">This bit indicates the NSX security level required to access this region. NSX [&#x30;] is mapped to NS(non&#x2D;secure). </p><p class="CellBody" id="951644">NSX [1] is mapped to NSE(non&#x2D;secure extension, reserved for future use) read&#x2D;write none &#x30;x&#x30;</p></td></tr><tr height="57.33px"><td><p class="CellBody" id="950924" style="text-align:center;">5</p></td><td><p class="CellBody" id="950982" style="text-align:center;">NC</p></td><td><p class="CellBody" id="950926">Non&#x2D;coherent. &#x30;&#x3A; Use coherent mode as indicated by incoming transaction. </p><p class="CellBody" id="951847">1&#x3A; Enforce non&#x2D;coherent transaction read&#x2D;write none &#x30;x&#x30;</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="950928" style="text-align:center;">4&#x3A;3</p></td><td><p class="CellBody" id="950984" style="text-align:center;">Policy response</p></td><td><p class="CellBody" id="950930">Policy response policy read&#x2D;writer &#x30;x&#x30;</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="951993" style="text-align:center;">2</p></td><td><p class="CellBody" id="951995" style="text-align:center;">WriteID</p></td><td><p class="CellBody" id="951997">Write ID no ordering by ASID read&#x2D;write none &#x30;x&#x30;</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="951987" style="text-align:center;">1</p></td><td><p class="CellBody" id="951989" style="text-align:center;">ReadID</p></td><td><p class="CellBody" id="951991">ReadID No ordering by ARID, read&#x2D;write none &#x30;x&#x30;</p></td></tr><tr height="22.67px"><td><p class="CellBody" id="951981" style="text-align:center;">&#x30;</p></td><td><p class="CellBody" id="951983" style="text-align:center;">Hazard Ignore</p></td><td><p class="CellBody" id="951985">Reserved</p></td></tr></table></div></p><p class="Figure" id="949491">Figure&#160;22.<a id="XREF_82352__Figure%1122__GPRAS_Address21" name="XREF_82352__Figure%1122__GPRAS_Address21">GPRAS Address</a><img align="" alt="Address_GPRAS_new2" class="imageSettings" height="auto" preserveAspectRatio="none" src="../assets/Address_GPRAS_new2.jpg" style="max-width: 100% ;height: auto;display:block;margin:auto;" width="489.797516" x="9.666667" y="4.666667" /></p><p class="Body" id="949504"><a id="1088_Body_949504" name="1088_Body_949504"></a>&#160;The example has 6 GPRAS out of which first 5 are configured as follows&#x3A;</p><p class="Bullet_1" id="949506"><span class="BulletSymbol">&#x2022; </span>GPRAS<span style="font-family : Consolas ; ">&#x30;</span></p><p class="b2_bullet2" id="949507"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Mapped to MIG <span style="font-family : Consolas ; ">&#x30;</span> which is four ways interleaved and uses option <span style="font-family : Consolas ; ">&#x30;</span> of 64byte interleaving</p><p class="b2_bullet2" id="949508"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>The memory size is specified as 4GB, size value in CSR is <span style="font-family : Consolas ; ">&#x30;</span>x12 which calculates to 1GB multiplied by 4 way interleaving.</p><p class="b2_bullet2" id="949509"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Start address is <span style="font-family : Consolas ; ">&#x30;</span></p><p class="b2_bullet2" id="949510"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>This region remaps Boot address space </p><p class="Bullet_1" id="949511"><span class="BulletSymbol">&#x2022; </span>GPRAS1</p><p class="b2_bullet2" id="949512"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Mapped to MIG <span style="font-family : Consolas ; ">&#x30;</span> which is four ways interleaved and uses option <span style="font-family : Consolas ; ">&#x30;</span> of 64byte interleaving</p><p class="b2_bullet2" id="949513"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>The memory size is specified as 2GB, size value in CSR is &#x30;x11 which calculates to 512MB multiplied by 4 way interleaving.</p><p class="b2_bullet2" id="949514"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Start address is 4GB</p><p class="Bullet_1" id="949515"><span class="BulletSymbol">&#x2022; </span>GPRAS2</p><p class="b2_bullet2" id="949516"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Mapped to MIG &#x30; which is four ways interleaved and uses option &#x30; of 64byte interleaving</p><p class="b2_bullet2" id="949517"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>The memory size is specified as 2GB, size value in CSR is &#x30;x11 which calculates to 512MB multiplied by 4 way interleaving.</p><p class="b2_bullet2" id="949518"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Start address is 8GB</p><p class="Bullet_1" id="949519"><span class="BulletSymbol">&#x2022; </span>GPRAS3</p><p class="b2_bullet2" id="949520"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Mapped to MIG 1 which is tow ways interleaved and uses option 1 of 256byte interleaving</p><p class="b2_bullet2" id="949521"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>The memory size is specified as 2GB, size value in CSR is &#x30;x12 which calculates to 1GB multiplied by 2&#x2D;way interleaving.</p><p class="b2_bullet2" id="949522"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Start address is 12GB</p><p class="Bullet_1" id="949523"><span class="BulletSymbol">&#x2022; </span>GPRAS4</p><p class="b2_bullet2" id="949524"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Mapped to DII &#x30;, Note that DIIs cannot be interleaved</p><p class="b2_bullet2" id="949525"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>The memory size is specified as 1GB, size value in CSR is &#x30;x12 which calculates to 1GB.</p><p class="b2_bullet2" id="949526"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>Start address is 1&#x30;GB</p><p class="b2_bullet2" id="949527"><span class="Bullet_2">&#x30; <span style="padding-right:5pt ;">&#8203</span></span>This region remaps Boot address DII to other IO space</p><p class="Body" id="949529">In addition, the figure also shows address compaction mapping for DMI<span style="font-family : Consolas ; ">&#x30;</span> where the base address <span style="font-family : Consolas ; ">&#x30;</span> is mapped to <span style="font-family : Consolas ; ">&#x30;</span>, 4GB is mapped to <span style="font-family : Consolas ; ">&#x30;</span>x1GB,  and 8GB is mapped to 1.5GB giving a total address space of 2GB. <a  href="#XREF_39956__Figure%1124__Address_Translation21" style="color:#0000ff;">Figure&#160;24</a> illustrates the address translation mechanism. </p><p class="Body" id="949621">The address map for the example system is shown in <a  href="#XREF_95392__Figure%1123__Address_Map21" style="color:#0000ff;">Figure&#160;23</a>.</p><p class="Body" id="949622">Descriptions in yellow are build time settings like boot region, interleaving for DCE, MIGS etc. In this example the Boot region is overwritten by a different address region after boot up. As shown in the following figure, the boot region is mapped to a DII, it can be mapped to a DMI provided that it will always have to be one of the memory interleaving groups within MIGS<span style="font-family : Consolas ; ">&#x30;</span>.</p><p class="Figure" id="949708">Figure&#160;23.<a id="XREF_95392__Figure%1123__Address_Map21" name="XREF_95392__Figure%1123__Address_Map21">Address Map</a><img align="" alt="Address_Sapce_Example" class="imageSettings" height="auto" preserveAspectRatio="none" src="../assets/Address_Sapce_Example.jpg" style="max-width: 100% ;height: auto;display:block;margin:auto;" width="608.000000" x="8.000000" y="8.000000" /></p><p class="Body" id="952833"><a id="1088_Body_952833" name="1088_Body_952833"></a><br/></p><p class="Figure" id="949735">Figure&#160;24.&#160;<a id="XREF_39956__Figure%1124__Address_Translation21" name="XREF_39956__Figure%1124__Address_Translation21">Address Translation</a><img align="" alt="Address_translation" class="imageSettings" height="auto" preserveAspectRatio="none" src="../assets/Address_translation.jpg" style="max-width: 100% ;height: auto;display:block;margin:auto;" width="578.485901" x="8.000000" y="8.000000" /></p><p class="Body" id="952808"><a id="1088_Body_952808" name="1088_Body_952808"></a>&#160;</p></div>
</body>
</html>