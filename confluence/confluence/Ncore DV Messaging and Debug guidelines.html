<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759724412483 {padding: 0px;}
div.rbtoc1759724412483 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724412483 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759724412483'>
<ul class='toc-indentation'>
<li><a href='#NcoreDVMessagingandDebugguidelines-1.Purpose'>1. Purpose</a></li>
<li><a href='#NcoreDVMessagingandDebugguidelines-2.Timeoutfailuretriage'>2. Timeout failure triage</a></li>
<li><a href='#NcoreDVMessagingandDebugguidelines-3.DVTransactionIDs'>3. DV Transaction IDs</a></li>
<li><a href='#NcoreDVMessagingandDebugguidelines-4.Relateddocuments'>4. Related documents</a></li>
</ul>
</div></p><p><br/></p><h2 id="NcoreDVMessagingandDebugguidelines-1.Purpose">1. Purpose</h2><p>This document is to specify what needs to be done in NCore 3.4, especially in message printing, to make debug faster, especially regression triage.</p><p>In some places in this document an exact common string will be specified that all units need to use, in order for FSYS debug to quickly find the unit(s) responsible for a failure.</p><p>One priority is timeout debug, as this took a significant amount of time in NCore 3.2.</p><h2 id="NcoreDVMessagingandDebugguidelines-2.Timeoutfailuretriage">2. Timeout failure triage</h2><p>The goal is to easily triage any type of timeout error, such as a Heart Beat failure. Especially, FSYS timeouts in Jenkins regressions need to print out enough information to point to which block(s) are hung.</p><p>Starting with Ncore 3.4, in the report phase<strong>, at the end of every simulation</strong>, pass or fail, every unit should print at <strong>UVM_NONE</strong> verbosity a list of pending transactions.</p><p>It should contain one of the following:</p><p><strong>[IOAIU PENDING TXN]</strong></p><p>[CHI_AIU PENDING TXN]</p><p>etc.</p><p>Here is a message from 3.2.0 which needs to be improved by specifically adding the AIU type between the []s,</p><p>UVM_INFO @ 1000000.00 ns: reporter [PENDING TXN] 135651.55 ns: ACERdReq: ACE READ AR: ID:0x1b Addr:0x7578bdc0fc6 Type:RDONCE Len:0x0 Size:0x2 BurstType:0x1 Prot:0x3 Lock:0x0 Bar:0x2 Cache=0x7 QoS=0xf ardomain:2 arsnoop:0x0 Time:135650.88 ns</p><p>This will allow us to send the failure to the appropriate unit.</p><p>Within the unit the following, something like the following is recommended at UVM_NONE for FSYS debug to narrow it down to a particular instance of the block.</p><p>UVM_INFO @ 1000000.00 ns: reporter [IO AIU SCB] ---------------Pending IO AIU 0 scb transactions---------------</p><p>(followed by a list of [IOAIU PENDING TXN] messages).</p><p>Note that for passing simulations, there should be no PENDING TXNs and it will not fill up our logfile. In failing simulations, we want this basic amount of information printed in order to be able to triage without rerunning with UVM_LOW or other verbosity.</p><p><br/></p><h2 id="NcoreDVMessagingandDebugguidelines-3.DVTransactionIDs">3. DV Transaction IDs</h2><p>TODO: Need to come up with a common format for this.</p><p><br/></p><h2 id="NcoreDVMessagingandDebugguidelines-4.Relateddocuments">4. Related documents</h2><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16777692/NCORE+DV+Coding+Guidelines" data-linked-resource-id="16777692" data-linked-resource-version="25" data-linked-resource-type="page">link to NCORE DV Coding Guidelines</a></p>