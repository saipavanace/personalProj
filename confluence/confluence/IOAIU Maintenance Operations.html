<div class="table-wrap"><style>[data-colorid=f8b4rthkw5]{color:#091e42} html[data-color-mode=dark] [data-colorid=f8b4rthkw5]{color:#bdd2f6}[data-colorid=f5wr8fw87e]{color:#091e42} html[data-color-mode=dark] [data-colorid=f5wr8fw87e]{color:#bdd2f6}[data-colorid=d3efe3e4in]{color:#091e42} html[data-color-mode=dark] [data-colorid=d3efe3e4in]{color:#bdd2f6}[data-colorid=byjc9lcfwa]{color:#091e42} html[data-color-mode=dark] [data-colorid=byjc9lcfwa]{color:#bdd2f6}[data-colorid=qwd51ydsas]{color:#091e42} html[data-color-mode=dark] [data-colorid=qwd51ydsas]{color:#bdd2f6}[data-colorid=t9fhklw3qi]{color:#091e42} html[data-color-mode=dark] [data-colorid=t9fhklw3qi]{color:#bdd2f6}[data-colorid=dm5ln83ggd]{color:#091e42} html[data-color-mode=dark] [data-colorid=dm5ln83ggd]{color:#bdd2f6}[data-colorid=m292vgg6o9]{color:#091e42} html[data-color-mode=dark] [data-colorid=m292vgg6o9]{color:#bdd2f6}</style><table class="relative-table confluenceTable" style="width: 62.4794%;"><colgroup><col style="width: 16.8717%;" /><col style="width: 23.9895%;" /><col style="width: 26.4499%;" /><col style="width: 5.6239%;" /><col style="width: 9.05097%;" /><col style="width: 5.71178%;" /><col style="width: 12.3023%;" /></colgroup><tbody><tr><th class="confluenceTh">Maintenance Operation</th><th class="confluenceTh">Testcase/Sequence Description</th><th class="confluenceTh">Checks</th><th class="confluenceTh">Hash-Tag</th><th class="confluenceTh">Reference Document</th><th class="confluenceTh">Status</th><th class="confluenceTh">Notes/Comments</th></tr><tr><td class="confluenceTd">flush_by_addr</td><td class="confluenceTd"><p>sequence:ioaiu_csr_flush_by_addr_seq</p><ul><li>wait for cache to be filled up. Pick a random address:(m_addr,m_ns) from the cache_model&nbsp;&rarr;&nbsp;m_ncbu_cache_q</li><li>poll XAIUPCMAR.MntOpActv until it reads 0</li><li>program XAIUPCMLR0/LR1 registers with the m_addr,m_ns</li></ul><p>wr_data (LR0) = m_addr &gt;&gt; offset;&nbsp;<br /><em>[offset =&nbsp;wCacheLineOffset]</em></p><p>wr_data (LR1) = m_addr &gt;&gt; (32+offset)<br /><em>Note - LR1 is only set when (wAddr-wCacheLineOffset) &gt; 32</em></p><ul><li>program XAIUPCMCR with OpCode=6 (flush_by_addr)&nbsp;&nbsp;</li></ul><p>wr_data = {9'h0,m_ns,22'h6};</p><ul><li>poll XAIUPCMAR.MntOpActv until it reads 0</li></ul></td><td class="confluenceTd"><p>ioaiu_scoreboard checks that EvictAddr = {LR1_data, LR0_data, offset_bits}</p><p>scoreboard also checks for security bit</p></td><td class="confluenceTd"><span data-colorid="t9fhklw3qi">#Check.IOAIU.MaintOp.FlushByAddr</span></td><td class="confluenceTd"><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164545/Ncore+3.4_IOAIU+Micro-Architecture+Specification" data-linked-resource-id="16164545" data-linked-resource-version="8" data-linked-resource-type="page">Ncore 3.4_IOAIU Micro-Architecture Specification</a></p><p>

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="CONC-9814">
                <a href="https://arterisip.atlassian.net/browse/CONC-9814?src=confmacro" class="jira-issue-key">CONC-9814</a>
                            </span>
</p></td><td class="confluenceTd">RTL bug: <br />

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="CONC-9792">
                <a href="https://arterisip.atlassian.net/browse/CONC-9792?src=confmacro" class="jira-issue-key">CONC-9792</a>
                            </span>
</td><td class="confluenceTd"><br /></td></tr><tr><td class="confluenceTd">flush_by_addr_range</td><td class="confluenceTd"><p>sequence:ioaiu_csr_flush_by_addr_range_seq</p><ul><li><span class="legacy-color-text-red2">wait for cache size to be non-zero</span>.</li><li>Pick a random address:(m_addr,m_ns) from the cache_model&nbsp;&rarr;&nbsp;m_ncbu_cache_q</li><li>poll XAIUPCMAR.MntOpActv until it reads 0</li><li>program XAIUPCMLR0/LR1 registers with the m_addr,m_ns</li></ul><p>maddr = maddr - (maddr%64)</p><p>wr_data (LR0) = m_addr - (maddr%64);</p><p>wr_data (LR1) = m_addr &gt;&gt; (32)</p><ul><li>Calculate Range between 1 to Size of cache such that upper address falls into the memregion boundaries.</li><li>program XAIUPCMCR with OpCode=7 (flush address range)</li></ul><p>wr_data = {9'h0,m_ns,22'h7};</p><ul><li>poll XAIUPCMAR.MntOpActv until it reads 0</li></ul></td><td class="confluenceTd"><p>ioaiu_scoreboard checks that EvictAddr = {LR1_data, LR0_data, offset_bits}</p><p>scoreboard also checks for security bit</p></td><td class="confluenceTd"><span data-colorid="f5wr8fw87e">#Check.IOAIU.MaintOp.FlushByAddrRange</span></td><td class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164545/Ncore+3.4_IOAIU+Micro-Architecture+Specification" data-linked-resource-id="16164545" data-linked-resource-version="8" data-linked-resource-type="page">Ncore 3.4_IOAIU Micro-Architecture Specification</a></td><td class="confluenceTd"><br /></td><td class="confluenceTd"><br /></td></tr><tr><td class="confluenceTd">flush_by_index_way</td><td class="confluenceTd"><p>sequence:ioaiu_csr_flush_by_index_way_seq</p><ul><li><span class="legacy-color-text-red2">wait for cache size to be non-zero</span>.</li><li>Pick a random Set &amp; Way:(m_nSets,m_nWays) from the cache_model&nbsp;&rarr;&nbsp;m_ncbu_cache_q</li><li>poll XAIUPCMAR.MntOpActv until it reads 0</li><li>program XAIUPCMLR0.MntSet with m_nSets</li><li>program XAIUPCMLR0.MntWay with m_nWays</li><li>program XAIUPCMCR with OpCode=5 (flush entry at set &amp; way)<br />wr_data = 'h5;</li><li>poll XAIUPCMAR.MntOpActv until it reads 0</li></ul></td><td class="confluenceTd">ioaiu_scoreboard checks for Set/Index</td><td class="confluenceTd"><span data-colorid="f8b4rthkw5">#Check.IOAIU.MaintOp.FlushByIndexWay</span></td><td class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164545/Ncore+3.4_IOAIU+Micro-Architecture+Specification" data-linked-resource-id="16164545" data-linked-resource-version="8" data-linked-resource-type="page">Ncore 3.4_IOAIU Micro-Architecture Specification</a></td><td class="confluenceTd"><br /></td><td class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">flush_by_index_way_range</td><td colspan="1" class="confluenceTd"><p>sequence:ioaiu_csr_flush_by_index_way_range_seq</p><ul><li><span class="legacy-color-text-red2">wait for cache size to be non-zero</span></li><li>Pick a random Set &amp; Way:(m_nSets,m_nWays) from the cache_model&nbsp;&rarr;&nbsp;m_ncbu_cache_q</li><li>poll XAIUPCMAR.MntOpActv until it reads 0</li><li>program XAIUPCMLR0.MntSet with m_nSets</li><li>program XAIUPCMLR0.MntWay with 0 (As range will be multiple of number of ways, the ways will be set to 0, to flush whole index/set)</li><li>program XAIUPCMLR0.MntRange with Multiple of&nbsp; m_nWays.</li><li>program XAIUPCMCR with OpCode=8 (flush set way range)<br />wr_data = 'h8;</li><li>poll XAIUPCMAR.MntOpActv until it reads 0</li></ul></td><td colspan="1" class="confluenceTd">ioaiu_scoreboard checks for Set/Index</td><td colspan="1" class="confluenceTd"><span data-colorid="byjc9lcfwa">#Check.IOAIU.MaintOp.FlushBy<span data-colorid="d3efe3e4in">IndexWayRange</span></span></td><td colspan="1" class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164545/Ncore+3.4_IOAIU+Micro-Architecture+Specification" data-linked-resource-id="16164545" data-linked-resource-version="8" data-linked-resource-type="page">Ncore 3.4_IOAIU Micro-Architecture Specification</a></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">flush_all_entries</td><td colspan="1" class="confluenceTd"><p>sequence:ioaiu_csr_flush_all_seq</p><ul><li>check for IO cache to be not empty.</li><li>poll XAIUPCMAR.MntOpActv until it reads 0</li><li>program XAIUPCMCR with OpCode=4 (flush all entries)</li><li>poll XAIUPCMAR.MntOpActv again for it to assert (1) so that operation is active and then deassert (0)</li><li>Final check the IO cache is empty (flushed out)</li></ul></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span data-colorid="dm5ln83ggd"><span data-colorid="qwd51ydsas">#Check.IOAIU.MaintOp.FlushAllEntries</span></span></td><td colspan="1" class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164545/Ncore+3.4_IOAIU+Micro-Architecture+Specification" data-linked-resource-id="16164545" data-linked-resource-version="8" data-linked-resource-type="page">Ncore 3.4_IOAIU Micro-Architecture Specification</a></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">flush_random_all_type</td><td colspan="1" class="confluenceTd"><p>sequence:&nbsp;ioaiu_csr_run_all_type_flush_seq</p><p>circles through all types of maintenance ops sequences</p></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span data-colorid="m292vgg6o9">#Check.IOAIU.MaintOp.FlushAllType</span></td><td colspan="1" class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164545/Ncore+3.4_IOAIU+Micro-Architecture+Specification" data-linked-resource-id="16164545" data-linked-resource-version="8" data-linked-resource-type="page">Ncore 3.4_IOAIU Micro-Architecture Specification</a></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td></tr></tbody></table></div>