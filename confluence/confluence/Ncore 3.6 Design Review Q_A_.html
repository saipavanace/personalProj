<p><style>[data-colorid=gtukzhj9jg]{color:#bf2600} html[data-color-mode=dark] [data-colorid=gtukzhj9jg]{color:#ff6640}[data-colorid=qee3ooj057]{color:#bf2600} html[data-color-mode=dark] [data-colorid=qee3ooj057]{color:#ff6640}</style>uArch for CHI-E : <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/59080889/Ncore+3.6_CHI-AIU+Micro-Architecture+Specification" data-linked-resource-id="59080889" data-linked-resource-version="5" data-linked-resource-type="page">Ncore 3.6 CHI-E Support</a> </p><div class="table-wrap"><table data-layout="wide" data-local-id="a2e3c3d0-8ccd-4f84-8471-a7cfbab23256" class="confluenceTable"><colgroup><col /><col style="width: 226.67px;" /><col style="width: 226.67px;" /><col style="width: 226.67px;" /></colgroup><tbody><tr><th class="numberingColumn confluenceTh" /><th class="confluenceTh"><p><strong>Question</strong></p></th><th class="confluenceTh"><p><strong>Answer</strong></p></th><th class="confluenceTh"><p><strong>Comments / JIRA (if any)</strong></p></th></tr><tr><td class="numberingColumn confluenceTd">1</td><td class="confluenceTd"><p>[sai] - what does it mean when these commands have no concerto command mapping? <br /></p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="https://arterisip.atlassian.net/wiki/download/attachments/202145945/image-20230406-194606.png?api=v2" /></span><p>We dont have to send these commands on the native interface?</p><p><a class="confluence-userlink user-mention" data-account-id="624b371ead6b7e006aa7d7f4" href="https://arterisip.atlassian.net/wiki/people/624b371ead6b7e006aa7d7f4?ref=confluence" target="_blank" data-linked-resource-id="755377" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Boon Chuan</a> <a class="confluence-userlink user-mention" data-account-id="624b3741ed4d6b0070161f12" href="https://arterisip.atlassian.net/wiki/people/624b3741ed4d6b0070161f12?ref=confluence" target="_blank" data-linked-resource-id="788105" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Balaji Krishnaswamy</a> </p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="numberingColumn confluenceTd">2</td><td class="confluenceTd"><p>[Neha] Do we have CHI-E opcodes to Concerto opcode mapping table?  I see a table in Arch spec. However, no details in uArch. How will AIU handle combine commands? Same OTT entry or 2 entries? How will the transaction flow look like?</p></td><td class="confluenceTd"><p>Found it: CHIAIU uArch spec. section 12.5.18 &amp; 12.5.19.</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="numberingColumn confluenceTd">3</td><td class="confluenceTd"><p>[Neha] CCMP spec: Typo in section 4.12.1.1.3? &ldquo;Whenever an <span data-colorid="gtukzhj9jg">RBRrsp</span> has been sent to a DMI while the previous generation of RB is still allocated, i.e. RB is valid, that DMI shall respond with an RBRrsp to release the previous generation alias.&rdquo; &ndash; Should be RbrReq? <a class="confluence-userlink user-mention" data-account-id="624b371ead6b7e006aa7d7f4" href="https://arterisip.atlassian.net/wiki/people/624b371ead6b7e006aa7d7f4?ref=confluence" target="_blank" data-linked-resource-id="755377" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Boon Chuan</a> <a class="confluence-userlink user-mention" data-account-id="624b36fe258562006fa6923c" href="https://arterisip.atlassian.net/wiki/people/624b36fe258562006fa6923c?ref=confluence" target="_blank" data-linked-resource-id="787347" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Benjamin Madon</a> </p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>Spec uploaded <a href="https://arterisip.atlassian.net/wiki/download/attachments/59605622/ConcertoCProtocolArch_NoCB_3.6_97.pdf?version=1&amp;modificationDate=1682538841807&amp;cacheVersion=1&amp;api=v2" rel="nofollow">HERE</a></p></td></tr><tr><td class="numberingColumn confluenceTd">4</td><td class="confluenceTd"><p>[Neha] CCMP Spec(version 0.97):  section 4.12.1.1.3: &ldquo;Alternatively, the DCE may simply re-reserve a reserved RB via RBRreq for another CMDreq. <span data-colorid="qee3ooj057">But to avoid race conditions, the SNPreqs for that CMDreq must not be issued until the RBRrsp for the re-reservation is received. </span>Plus, the RBRreq must be issued with RL[1:0] set to 0b10 to ensure protocol-level response (see Section 4.12.4.5.2)&rdquo;</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>JIRA: <a class="external-link" href="https://arterisip.atlassian.net/browse/CONC-11859" rel="nofollow">CONC-11859</a></p><ol start="1"><li><p>This doesn&rsquo;t seem to align with uArch discussion. DCE presented DTW coming into DMI before RbrRsp. This would only happen if DCE isn&rsquo;t waiting to generate snoops on re-reservation.</p></li><li><p>Why is only Snoops mentioned &amp; not STRs? Will DCE wait for RbrRsp before generating snoops but not wait before generating STRs?</p></li></ol></td></tr></tbody></table></div><hr /><ol start="1"><li><p>CHI-E/F standard specs : <a class="external-link" data-card-appearance="inline" href="https://arterisip.atlassian.net/l/cp/91J8YJii" rel="nofollow">https://arterisip.atlassian.net/l/cp/91J8YJii</a> </p></li></ol><div class="table-wrap"><table data-layout="wide" data-local-id="ef5654b0-3ac1-4846-b182-c2d5f7512a02" class="confluenceTable"><colgroup><col /><col style="width: 226.67px;" /><col style="width: 226.67px;" /><col style="width: 226.67px;" /></colgroup><tbody><tr><th class="numberingColumn confluenceTh" /><th class="confluenceTh"><p><strong>Question</strong></p></th><th class="confluenceTh"><p><strong>Answer</strong></p></th><th class="confluenceTh"><p><strong>Comments / JIRA (if any)</strong></p></th></tr><tr><td class="numberingColumn confluenceTd">1</td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="numberingColumn confluenceTd">2</td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><hr /><p />