<style type='text/css'>/*<![CDATA[*/
div.rbtoc1759725146313 {padding: 0px;}
div.rbtoc1759725146313 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759725146313 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759725146313'>
<ul class='toc-indentation'>
<li><a href='#ProxyCacheRegisters(PCTCR)-Overview'>Overview</a></li>
<li><a href='#ProxyCacheRegisters(PCTCR)-StimulusDescriptions'>Stimulus Descriptions</a></li>
<li><a href='#ProxyCacheRegisters(PCTCR)-FunctionalChecksandCoverage'>Functional Checks and Coverage</a></li>
<li><a href='#ProxyCacheRegisters(PCTCR)-DirectedTests'>Directed Tests</a></li>
<li><a href='#ProxyCacheRegisters(PCTCR)-Configs/RandomTestcases'>Configs/Random Testcases</a></li>
</ul>
</div><h1 id="ProxyCacheRegisters(PCTCR)-Overview">Overview</h1><p>This testplan covers the IOAIU with proxyCache (CCP) behavior on enabling/disabling fields (LookupEn, AllocEn, UpdateDis) of PCTCR register. </p><p>Refer to <a data-card-appearance="inline" href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703" rel="nofollow">https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703</a> </p><h1 id="ProxyCacheRegisters(PCTCR)-StimulusDescriptions">Stimulus Descriptions </h1><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="06405678-c9de-408c-a5b4-a6fb9c061a40" class="confluenceTable"><colgroup><col style="width: 68.0px;"/><col style="width: 68.0px;"/><col style="width: 68.0px;"/><col style="width: 68.0px;"/><col style="width: 68.0px;"/><col style="width: 68.0px;"/><col style="width: 68.0px;"/><col style="width: 68.0px;"/><col style="width: 68.0px;"/><col style="width: 68.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Name of Field</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Constraint</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc </strong></p></th><th class="confluenceTh"><p><strong>Hash tag</strong></p></th><th class="confluenceTh"><p><strong>Tb Location</strong></p></th><th class="confluenceTh"><p><strong>Priority </strong></p></th><th class="confluenceTh"><p><strong>Implemented </strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>PCTCR.LookupEn</p></td><td class="confluenceTd"><p>This bit enables proxy cache</p></td><td class="confluenceTd"><p>Default setting: 0, write 1 in initialization sequence for all random traffic testcases to enable proxyCache</p></td><td class="confluenceTd"><p><a data-card-appearance="inline" href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703" rel="nofollow">https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703</a> </p><p>11  Proxy Cache Procedures</p><p>11.1 Initialization </p></td><td class="confluenceTd"><p>#Stimulus.IOAIU.PCTCR_LookupEn</p></td><td class="confluenceTd"><p>ioaiu_csr_seq_lib.sv</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>PCTCR.AllocEn</p></td><td class="confluenceTd"><p>This bit enables allocation into proxy cache</p></td><td class="confluenceTd"><p>Default setting: 0, write 1 in initialization sequence for all random traffic testcases to enable allocations into proxyCache</p></td><td class="confluenceTd"><p><a data-card-appearance="inline" href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703" rel="nofollow">https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703</a> </p><p>11  Proxy Cache Procedures</p><p>11.1 Initialization </p></td><td class="confluenceTd"><p>#Stimulus.IOAIU.PCTCR_AllocEn</p></td><td class="confluenceTd"><p>ioaiu_csr_seq_lib.sv</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>PCTCR.UpdateDis</p></td><td class="confluenceTd"><p>Setting XAIUPCTCR[UpdateDis] can be used to disable update commands to DCE. This bit affects update commands in general irrespective of the original allocating transaction is coherent or non-coherent.</p></td><td class="confluenceTd"><p>Default setting: 1, write 0 in initialization sequence for all random traffic testcases to enable update request</p><p>write 1: disable_update testcase. </p></td><td class="confluenceTd"><p><a data-card-appearance="inline" href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703" rel="nofollow">https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703</a> </p><p>9.5      Non-Coherent Configuration with AXI-4</p></td><td class="confluenceTd"><p>#Stimulus.IOAIU.PCTCR_UpdateDis</p></td><td class="confluenceTd"><p>ioaiu_csr_seq_lib.sv</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><p /><h1 id="ProxyCacheRegisters(PCTCR)-FunctionalChecksandCoverage">Functional Checks and Coverage</h1><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="3fff89d7-382c-4fc2-8a79-fada7b40365a" class="confluenceTable"><colgroup><col style="width: 292.0px;"/><col style="width: 363.0px;"/><col style="width: 193.0px;"/><col style="width: 166.0px;"/><col style="width: 131.0px;"/><col style="width: 125.0px;"/><col style="width: 210.0px;"/><col style="width: 320.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash Tag</strong></p></th><th class="confluenceTh"><p><strong>Where</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>cross on AXI4 nativeInterface x PCTCR.LookupEn==0,1 &amp;&amp; PCTCR.AllocEn==0,1 &amp;&amp; PCTCR.UpdateDis=0,1</p><p>PCTCR.LookEn=0 then, AllocEn=x(don’t care), UpdateDis=x (don’t care)</p></td><td class="confluenceTd"><p><a data-card-appearance="inline" href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703" rel="nofollow">https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703</a> </p><p>1         Proxy Cache Procedures</p><p>1.1       Initialization</p></td><td class="confluenceTd"><p>Cover.IOAIU.LookupEn_AllocEn_UpdateDis</p></td><td class="confluenceTd"><p>ioaiu_coverage.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h1 id="ProxyCacheRegisters(PCTCR)-DirectedTests">Directed Tests</h1><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="bf501a85-0086-451b-8fbc-890179eb99e2" class="confluenceTable"><colgroup><col style="width: 130.0px;"/><col style="width: 323.0px;"/><col style="width: 270.0px;"/><col style="width: 273.0px;"/><col style="width: 114.0px;"/><col style="width: 198.0px;"/><col style="width: 176.0px;"/><col style="width: 338.0px;"/><col style="width: 118.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>testcase Name</strong></p></th><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc </strong></p></th><th class="confluenceTh"><p><strong>Hash-Tag</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status </strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>ccp_switch_on_off</p></td><td class="confluenceTd"><p>Test starts with PCTCR.LookupEn=0 and PCTCR.AllocEn=0, </p><p>→   Do random traffic. Check to make sure all go out to the bus, and no CCP lookup happens.</p><p>→ Wait for IOAIU to be idle, turn on LookupEn, do random traffic. Check to make sure there is no cache allocation </p><p>→ Wait for IOAIU to be idle, turn on AllocEn, do random traffic. Check that CCP gets allocated. </p><p>→ Wait for IOAIU to be idle, take CCP snapshot of contents and turn off AllocEn,  and do random traffic.</p><p>→ Wait for IOAIU to be idle, check that no allocations are happening into cache. In other words, cache is locked. Check the ncbu-cache model contents are intact, by matching current CCP snapshot with previous one, contents and addresses. Note: This check is enabled on only on k_num_snoops=0 testcase. </p><p>→ now initiate a cache-flush sequence to empty the cache.</p><p>→ Turn off LookupEn.</p><p>→ Run random traffic, check that no cache lookup happens and all transactions go to bus. </p><p>→ Turn on LookupEn and AllocEn and run random-traffic. </p></td><td rowspan="2" class="confluenceTd"><p><a data-card-appearance="inline" href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703" rel="nofollow">https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/208666703</a> </p><p>1         Proxy Cache Procedures</p><p>1.1       Initialization</p></td><td class="confluenceTd"><p>Test.IOAIU.ccp_switch_on_off<br/>Check.IOAIU.ccp_switch_on_off</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>ccp_disable_update</p></td><td class="confluenceTd"><p>PCTCR.UpdateDis=1 (Default setting), and run random traffic </p><p>Check that evictions are predicted but no UPDreq is issued. </p></td><td class="confluenceTd"><p>Test.IOAIU.ccp_update_disable<br/>Check.IOAIU.ccp_update_disable</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h1 id="ProxyCacheRegisters(PCTCR)-Configs/RandomTestcases">Configs/Random Testcases</h1><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="fb2209fc-ecab-4e08-b6a2-ca736cf9b592" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Configs</strong></p></th><th class="confluenceTh"><p><strong>Random Testcases</strong></p></th></tr><tr><td class="confluenceTd"><p>ioc →  1-core AXI4 w/ proxyCache </p></td><td rowspan="2" class="confluenceTd"><p>No random testcases for this feature. Only directed testcase mentioned in above section are run on the configs indicated. </p></td></tr><tr><td class="confluenceTd"><p>ioc_4c → 4-core AXI4 w/ proxyCache</p></td></tr></tbody></table></div><p /><p />