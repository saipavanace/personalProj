<h2 id="RunningSpyglassLint-Using$WORK_TOP/rtl/scripts/lint/run_lint"><u><strong>Using  $WORK_TOP/rtl/scripts/lint/run_lint</strong></u></h2><p><br/></p><p>This bash script allows to run lint using :</p><ul style="list-style-type: square;"><li>A centrally deployed version of maestro</li><li>A local version of maestro created using refresh_rtl</li><li>An already built rtl</li></ul><p>It does not depend on any external file and the lint.prj, waiver and run.tcl files are created by the script.</p><p>The options are the folowing : </p><p style="margin-left: 60.0px;"><strong>--local</strong> to use current already sourced maestro<br/><strong>-t</strong> to use existing rtl<br/><strong>-u</strong> &lt;flist_name.flit&gt; to overwrite the file list. default is top.flis<br/><strong>-b</strong> &lt;master,Ncore3&gt; to select whch branch to select the build from<br/><strong>-v</strong> &lt;bleeding_edge,stable,id_number,date&gt; to select which build<br/><strong>-c</strong> &lt;config_path&gt; absolute if not using -l option otherwise relateive to MAESTRO_EXAMPLES<br/><strong>-l</strong> toggles between relative path and absolute path<br/><strong>-w</strong> directory of existing rtl/where rtl will be generated default is ./<br/><strong>-sv</strong> to use system verilog option in lint</p><p style="margin-left: 60.0px;"><br/></p><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-Examples:"><strong>Examples :</strong></h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-1)runsbleedingedgeofNcore3.4forMobileyeconfiguration:"><br/>1 )runs bleeding edge of Ncore3.4 for Mobil eye configuration : </h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-$WORK_TOP/rtl/scripts/lint/run_lint-bmaster-vbleeding_edge-c/hw_config_meye_q7_latest/EyeQ7_sysncore.tcl-l-w$WORK_TOP">$WORK_TOP/rtl/scripts/lint/run_lint -b master -v bleeding_edge -c /hw_config_meye_q7_latest/EyeQ7_sysncore.tcl -l -w $WORK_TOP </h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-2)runsstableofNcore3.2.xforNXPconfigurationfromconfigurationin$MAESTRO_EXAMPLES:"><br/>2 )runs stable of Ncore3.2.x for NXP configuration from configuration in $MAESTRO_EXAMPLES : </h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-$WORK_TOP/rtl/scripts/lint/run_lint-bNcore3-vstable-c/hw_config_nxpauto/hw_config_nxpauto.tcl-l-w$WORK_TOP">$WORK_TOP/rtl/scripts/lint/run_lint -b Ncore3 -v stable -c /hw_config_nxpauto/hw_config_nxpauto.tcl -l -w $WORK_TOP </h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-3)Runslintonrtlbuiltusingrunsimandoverwritetheflisttoonlylintdmi:"><br/>3 ) Runs lint on rtl built using runsim and overwrite the flist to only lint dmi : </h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-$WORK_TOP/dv/scripts/refresh_rtl.$WORK_TOP/SOURCEME_imagerunsim-edmi-cconfig4-trandom_tchl-i0$WORK_TOP/rtl/scripts/lint/run_lint--local-u&quot;dmi_a.flist&quot;-t-l-w$WORK_TOP/debug/dmi/config4/exe/output/rtl/design-sv">$WORK_TOP/dv/scripts/refresh_rtl<br/>. $WORK_TOP/SOURCEME_image<br/>runsim -e dmi -c config4 -t random_tchl -i 0 <br/>$WORK_TOP/rtl/scripts/lint/run_lint --local -u &quot;dmi_a.flist&quot; -t -l -w $WORK_TOP/debug/dmi/config4/exe/output/rtl/design -sv</h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-4)RunlintonMEconfigurationusinglocalmaestro"><br/>4 )Run lint on ME configuration using local maestro</h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-$WORK_TOP/dv/scripts/refresh_rtl.$WORK_TOP/SOURCEME_image$WORK_TOP/rtl/scripts/lint/run_lint--local-c/hw_config_meye_q7_latest/EyeQ7_sysncore.tcl-l-w$WORK_TOP">$WORK_TOP/dv/scripts/refresh_rtl<br/>. $WORK_TOP/SOURCEME_image<br/>$WORK_TOP/rtl/scripts/lint/run_lint --local -c /hw_config_meye_q7_latest/EyeQ7_sysncore.tcl -l -w $WORK_TOP</h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-5)Runlintonnxpconfigurationconfigurationfromconfigurationin$MAESTRO_EXAMPLES"><br/>5 )Run lint on nxp configuration configuration from configuration in $MAESTRO_EXAMPLES</h3><h3 style="margin-left: 30.0px;" id="RunningSpyglassLint-$WORK_TOP/dv/scripts/refresh_rtl.$WORK_TOP/SOURCEME_image$WORK_TOP/rtl/scripts/lint/run_lint--local-c/hw_config_nxpauto/hw_config_nxpauto.tcl-l-w$WORK_TOPbash-4.2$">$WORK_TOP/dv/scripts/refresh_rtl<br/>. $WORK_TOP/SOURCEME_image<br/>$WORK_TOP/rtl/scripts/lint/run_lint --local -c /hw_config_nxpauto/hw_config_nxpauto.tcl -l -w $WORK_TOP<br/>bash-4.2$</h3><p><br/></p><p><br/></p><p>See also <a class="external-link" href="https://confluence.arteris.com/pages/viewpage.action?pageId=30512029" rel="nofollow">How to run spyglass on Beta releases? - Engineering - Confluence (arteris.com)</a></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Running Spyglass for NXP Auto V9 config:

cd $WORK_TOP
dv/scripts/refresh_rtl
source $WORK_TOP/SOURCEME_image

cd $WORK_TOP/debug
mkdir lint
cd lint

maestro -c -s $MAESTRO_EXAMPLES/hw_config_nxpauto_v9/hw_config_nxpauto_v9.tcl

cd output/rtl/design
cp ../placeholders/*.v .
cp ../models/memories/*.v .
cp /scratch/bmadon/spyglass/* .

setenv SNPSLMD_LICENSE_FILE 5285@lic-node0.arteris.com:5285@lic-node1.arteris.com
setenv SPYGLASS_HOME /engr/dev/tools/synopsys/SpyGlass_vQ-2020.03-SP1-1/SPYGLASS_HOME/
$SPYGLASS_HOME/bin/sg_shell -project lint.prj &lt; run.tcl | tee spyglass.log</pre>
</div></div><p><br/></p><p>(1)</p><p>Open a new terminal.</p><p><br/></p><p>/engr/dev/tools/script/setup_concerto</p><p>source SOURCEME.csh</p><p>cd $WORK_TOP</p><p>mkdir &lt;my_spyglass_work_dir&gt;</p><p>cd &lt;my_spyglass_work_dir&gt;</p><p><br/></p><p>Run maestro to generate RTL output directory. Example command line:</p><p><s>maestro -c -s /scratch/bhavyak/maestro_jan25_2021/maestro/tests/cases/test_tcl/ncore4_configs/hw_config_02/hw_config_02.tcl</s></p><p>maestro -c -s /home/alobo/dev/maestro/tests/cases/test_tcl/hw_config_02/hw_config_02.tcl</p><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/></colgroup><tbody><tr><th class="confluenceTh"><p>OR using this node qrsim command line to generate RTL:</p><p>node $WORK_TOP/../scripts/qrsim.js -a -m -q -e fsys -n hw_config_2_lint -d INHOUSE_APB_VIP,DUMP_ON,ASSERT_ON,DATA_ADEPT -z $WORK_TOP/../test_projects/ncore_v3.0_configs/lint_configs/hw_config_02/hw_config_02.tcl</p><p>The Maestro-generated &quot;output&quot; directory is located in $WORK_TOP/debug/fsys/hw_config_2_lint/exe directory. </p></th></tr></tbody></table></div><p><br/></p><p>cd output/rtl/design</p><p>cp ../placeholders/*.v .</p><p>cp ../models/memories/*.v .<br/>cp $WORK_TOP/dv/scripts/spyglass/lint.prj .<br/>cp $WORK_TOP/dv/scripts/spyglass/waivers.swl .<br/>cp $WORK_TOP/dv/scripts/spyglass/run.tcl .<br/>sg_shell -project lint.prj &lt; run.tcl | tee spyglass.log</p><p>vi lint/consolidated_reports/lint_lint_rtl/moresimple.rpt</p><p>vi lint/consolidated_reports/lint_lint_rtl/*Comb*.rpt</p><p><br/></p><p>(2)</p><p>Command line:</p><p>cp $WORK_TOP/dv/scripts/spyglass/lint.prj .</p><p>cp $WORK_TOP/dv/scripts/spyglass/run.tcl .</p><p>cp $WORK_TOP/dv/scripts/spyglass/waivers.swl .</p><p><s>/engr/dev/tools/atrenta/SpyGlass/5.4.1.1/SPYGLASS_HOME/bin/sg_shell -project lint.prj &lt; run.tcl | tee spyglass.log</s></p><p>/engr/dev/tools/synopsys/SpyGlass_vQ-2020.03-SP1-1/SPYGLASS_HOME/bin/sg_shell -project lint.prj &lt; run.tcl | tee spyglass.log</p><p><br/></p><p>run.tcl<br/>=====<br/>#set_option enableSV yes<br/>run_goal -goal lint/lint_rtl</p><p><br/></p><p>lint.prj <br/>=====</p><p>#read_file -type hdl &lt;your_rtl_directory&gt;/*.v</p><p>#set flistName &quot;top.flist&quot;<br/>set flistName &quot;flist.f&quot;</p><p>set fp [open $flistName r]<br/>set data [read -nonewline $fp]<br/>close $fp<br/>foreach line $data {<br/>  if {$line ne &quot;&quot; &amp;&amp; [string first # $line] != 0} {<br/>    set v $line<br/>    read_file -type hdl $v<br/>  }<br/>}</p><p>read_file -type waiver waivers.swl<br/>set_option define ARTERIS_LINT<br/>set_option projectwdir .<br/>set_option language_mode mixed<br/>set_option designread_enable_synthesis no<br/>set_option designread_disable_flatten no<br/>set_option active_methodology /engr/dev/tools/synopsys/SpyGlass-M-2017.03-SP1-1/SpyGlass-M2017.03-SP1-1/SPYGLASS_HOME/GuideWare/latest/block/rtl_handoff<br/>#set_option enableSV09 yes<br/>set_option incdir &lt;your_rtl_directory&gt;<br/>set_option ignoredu { no_project_name__noc* }<br/>set_option ignoredu { no_project_name }<br/>set_option ignoredu { root }<br/>set_option inferblackbox yes<br/>set_option define_cell_sim_depth 12<br/>set_option set_option sgsyn_loop_limit 4096<br/>current_methodology /engr/dev/tools/synopsys/SpyGlass-M-2017.03-SP1-1/SpyGlass-M2017.03-SP1-1/SPYGLASS_HOME/GuideWare/latest/block/rtl_handoff<br/>current_goal lint/lint_rtl<br/>set_goal_option ignorerules { W240 }<br/>set_goal_option addrules { W241 }<br/>set_goal_option addrules { W287a }<br/>set_goal_option addrules { W164a }<br/>set_goal_option addrules { W164b }<br/>set_goal_option addrules { W164c }<br/>set_goal_option addrules { W415a }<br/>set_goal_option addrules { W443 }<br/>set_goal_option addrules { W444 }<br/>set_goal_option addrules { W576 }<br/>set_goal_option addrules { W110 }<br/>set_goal_option addrules { InferLatch }<br/>set_goal_option addrules { UndrivenInTerm-ML }<br/>set_goal_option addrules { NoGenLabel-ML }<br/>set_goal_option addrules { W154 }<br/>set_goal_option ignorerules { FlopEConst }<br/>set_goal_option ignorerules { CMD_overloadrule01 }<br/>set_goal_option ignorerules { WRN_69 }<br/>set_goal_option ignorerules { STARC05-1.3.1.3 }<br/>set_goal_option ignorerules { STARC05-2.11.3.1 }<br/>set_option overloadrules BlockHeader+severity=Error<br/>set_option overloadrules BufClock+severity=Error<br/>set_option overloadrules CheckDelayTimescale-ML+severity=Error<br/>set_option overloadrules DuplicateCaseLabel-ML+severity=Error<br/>set_option overloadrules NoAssignX-ML+severity=Error<br/>set_option overloadrules NoXInCase-ML+severity=Error<br/>set_option overloadrules ParamWidthMismatch-ML+severity=Error<br/>set_option overloadrules sim_race02+severity=Error<br/>set_option overloadrules STARC05-1.4.3.4+severity=Error<br/>set_option overloadrules STARC05-2.1.3.1+severity=Error<br/>set_option overloadrules STARC05-2.1.4.5+severity=Error<br/>set_option overloadrules STARC05-2.1.5.3+severity=Error<br/>set_option overloadrules STARC05-2.1.6.5+severity=Error<br/>set_option overloadrules STARC05-2.10.2.3+severity=Error<br/>set_option overloadrules STARC05-2.2.3.3+severity=Error<br/>set_option overloadrules STARC05-2.3.1.6+severity=Error<br/>set_option overloadrules STARC05-2.5.1.7+severity=Error<br/>set_option overloadrules STARC05-2.5.1.9+severity=Error</p><p>set_option overloadrules W110a+severity=Error<br/>set_option overloadrules W116+severity=Error<br/>set_option overloadrules W164a+severity=Error<br/>set_option overloadrules W164b+severity=Error<br/>set_option overloadrules W164c+severity=Error<br/>set_option overloadrules W215+severity=Error<br/>set_option overloadrules W216+severity=Error<br/>set_option overloadrules W215+severity=Error<br/>set_option overloadrules W263L+severity=Error<br/>set_option overloadrules W263+severity=Error<br/>set_option overloadrules W241+severity=Error<br/>set_option overloadrules W292+severity=Error<br/>set_option overloadrules W317+severity=Error<br/>set_option overloadrules W336+severity=Error<br/>set_option overloadrules W337+severity=Error<br/>set_option overloadrules W362+severity=Error<br/>set_option overloadrules W392+severity=Error<br/>set_option overloadrules W415a+severity=Error<br/>set_option overloadrules W424+severity=Error<br/>set_option overloadrules W426+severity=Error<br/>set_option overloadrules W443+severity=Error<br/>set_option overloadrules W444+severity=Error<br/>set_option overloadrules W450L+severity=Error<br/>set_option overloadrules W467+severity=Error<br/>set_option overloadrules W480+severity=Error<br/>set_option overloadrules W481a+severity=Error<br/>set_option overloadrules W481b+severity=Error<br/>set_option overloadrules W486+severity=Error<br/>set_option overloadrules W496a+severity=Error<br/>set_option overloadrules W496b+severity=Error<br/>set_option overloadrules W499+severity=Error<br/>set_option overloadrules W502+severity=Error<br/>set_option overloadrules W576+severity=Error<br/>set_option overloadrules W154+severity=Error<br/>set_option overloadrules W110+severity=Error<br/>set_option overloadrules W287a+severity=Error<br/>set_option overloadrules NoGenLabel-ML+severity=Error<br/>set_option overloadrules InferLatch+severity=Error<br/>set_parameter check_initialization_assignment yes<br/>set_parameter handle_large_bus yes</p><p><br/></p><p>waivers.swl<br/>=========<br/>#waive -rule &quot;WarnAnalyzeBBox&quot;<br/>waive -rule &quot;ErrorAnalyzeBBox&quot;<br/>waive -rule &quot;SYNTH_5273&quot;<br/>#waive -rule &quot;SYNTH_12611&quot; -regexp -msg &quot;ignored for synthesis&quot;<br/>#waive -rule &quot;SYNTH_5064&quot; -regexp -msg &quot;Ignoring for synthesis&quot;<br/>#waive -rule &quot;SYNTH_89&quot; -regexp -msg &quot;ignored by synthesis&quot;<br/>#waive -rule &quot;W415a&quot; -regexp -msg &quot;Signal data_in_with_edc_int* is being assigned multiple times&quot;<br/>#waive -rule &quot;W415a&quot; -regexp -msg &quot;Signal data_out_with_edc_int* is being assigned multiple times&quot;<br/>#waive -rule &quot;W415a&quot; -regexp -msg &quot;Signal CCU* is being assigned multiple times&quot;<br/>#waive -rule &quot;W528&quot; -regexp -msg &quot;Variable * set but not read&quot;<br/>#waive -rule &quot;FlopEConst&quot; -regexp -msg &quot;Enable pin EN on Flop * is always enabled (tied high)&quot;</p>