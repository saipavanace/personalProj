<p>This is a JS class that can be found in the following path and file:<br/><strong>hw-lib/js/sym_csr_lib.js</strong></p><h2 id="HW-SYMclassPmonStatsExtraConfig-BaseClass">Base Class</h2><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16171969/HW-SYM+class+PmonStatsStdConfig+PMON+Stats+Standard+Configuration" data-linked-resource-id="16171969" data-linked-resource-version="25" data-linked-resource-type="page">HW-SYM class PmonStatsStdConfig (PMON Stats Standard Configuration)</a></p><p>This means the ExtraConfig has all the features (events, interrupts, and registers) mentioned below in addition to that in the base class.</p><h2 id="HW-SYMclassPmonStatsExtraConfig-Purpose">Purpose</h2><p>The class is meant to be used for generating JSON params for the <a class="external-link" href="https://confluence.arteris.com/display/ENGR/pmon_stats" rel="nofollow">pmon_stats</a> blocks in the <a class="external-link" href="https://confluence.arteris.com/display/ENGR/AXI+N+X+M+single-switch+with+standard+PMON+configuration" rel="nofollow">AXI N X M single-switch with standard PMON configuration</a>. This works in conjunction with the <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16172029/HW-SYM+class+PmonProbeExtraConfig" data-linked-resource-id="16172029" data-linked-resource-version="14" data-linked-resource-type="page">HW-SYM class PmonProbeExtraConfig</a>. In addition to the base class features, this class includes the following features:</p><p><strong>Bandwidth measurement</strong><strong>:</strong> A 32-bit counter, <em>BW</em> and a 32-bit timer, <em>BW_REF</em> are provided. The setup requires the programming of the duration of measurement in the <em>BW_REF_LIMIT</em> register. To trigger the measurement a register field bit is provided, <em>en_bw_measurement</em>. Writing a 1 to it triggers the measurement for the duration programmed. The <em>BW_REF</em> counts every clock and the <em>BW</em> counts every beat sent using the <em>ref_evt_beat_sent_</em> event from the probe (See <a class="external-link" href="https://confluence.arteris.com/pages/viewpage.action?pageId=13441144" rel="nofollow">class PmonProbeStdConfig (PMON Probe Standard Configuration)</a>).</p><p><strong>Roundtrip Latency Binning:</strong> This provides a number of bin counters as many as the number of bins the instance of this class is configured with. They are named <em>BIN0</em>, <em>BIN1</em>, <em>BIN2</em>...etc. Associated with each of these counters are four registers - Value, Limit, En_mode, and Ctrl registers (Refer <a class="external-link" href="https://confluence.arteris.com/display/ENGR/pmon_stats" rel="nofollow">pmon_stats</a> for details of these registers).</p><p>In order to set up the boundaries of these bins, nBins - 1 registers are provided. nBins = 3 for this configuration. They are named <em>bin0_ul</em>, <em>bin1_ul</em>, <em>bin2_ul</em>...etc. Each of these can be used to program the upper boundary of each Bin. The lower boundary of the first bin and the upper boundary of the last bin is assumed to e 0 and infinity respectively.</p><p><strong>Packet Count:</strong> This provides two counters, <em>REQ_COUNT</em> and <em>RESP_COUNT</em>. The REQ_COUNT counts every request packet (either write, or read, or how the <em>cnd_evt_req_count_addr_hit_</em> is selected in the associated request probe). The RESP_COUNT counts every packet that goes across the response link.</p><h2 id="HW-SYMclassPmonStatsExtraConfig-Interrupts">Interrupts</h2><p>In addition to the base class interrupts, there are two interrupts that will be generated in this configuration:</p><ol><li>A  <em>response_time_out</em> interrupt will be generated every time the round-trip latency falls in the last bin.</li><li>A<em> limit_reached</em> interrupt will be generated once the BW_REF timer reaches the programmed limit. This is generated by the timerOut Event from the BW_REF timer.</li></ol><h2 id="HW-SYMclassPmonStatsExtraConfig-Interface(Methods)">Interface (Methods)</h2><p>The class provides the following interface methods:</p><p><em><strong>constructor(nodeId, nBins, reqProbeEvts, rspProbeEvts, atuiEvts, protectionStyle)</strong></em> - This declares what events are from the request Probe, response Probe, and from the associated ATU initiator. In addition, nBins specifies the number of bins for setting up roundtrip latency binning.</p><p><strong><em>evtInterfaces()</em></strong> - This generates the above 6 events mentioned. This lets the client remain agnostic to in what order the events are arranged in the evtInterfaces array. The client is expected to generate the remaining interfaces (module and local) of the block on it's own and pass it to the params() method</p><p><strong><em>params(interfaces)</em></strong> - This takes in only one parameter - the interfaces connecting to the PMON probe block and returns all the parameters configured to generate the 6 events according to the standard set of features. Hence the client can remain agnostic to how the evtDefines, and regFieldDefines data-structure params are filled.</p>