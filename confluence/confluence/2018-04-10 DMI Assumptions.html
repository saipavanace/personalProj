<h2 id="id-2018-04-10DMIAssumptions-Date">Date</h2><p><time datetime="2018-04-10" class="date-past">10 Apr 2018</time></p><h2 id="id-2018-04-10DMIAssumptions-Attendees">Attendees</h2><ul><li><p><a class="confluence-userlink user-mention" data-account-id="624674b5f40798007056fc6f" href="https://arterisip.atlassian.net/wiki/people/624674b5f40798007056fc6f?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Steve Kromer (Deactivated)</a></p></li><li><p><a class="confluence-userlink user-mention" data-account-id="624b37ffad6b7e006aa7d897" href="https://arterisip.atlassian.net/wiki/people/624b37ffad6b7e006aa7d897?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Mohammed Khaleeluddin (Deactivated)</a></p></li></ul><h2 id="id-2018-04-10DMIAssumptions-Goals">Goals</h2><ul><li>Review assumptions being made in DMI design and clarify behavior in system</li></ul><h2 id="id-2018-04-10DMIAssumptions-Discussionitems">Discussion items</h2><ul><li>RBReq reserve message will always be accompanied by only 1 of these 2:</li><ul><li>RBReq release message that comes after</li><li>DTWReq that comes before or after</li></ul><li>No RBReq release will be sent unless the RBRResp has been sent for the original RBReq</li><li>RBReq re-reserve is not currently supported<ul><li>That is, RBReq for a given RBID can not be sent if RBID is already reserved unless there is a RBReq release or RBUsed. There were concerns about the case were DCE reserves RBID, sees that DTW is not needed to DMI, and so it send RBReq to reuse same RBID. In that case, if DTW for 2nd RBReq comes before 2nd RBReq, then DMI will see it as if it's for the orginal RBReq address that is still active. There are other ways around this, but for now it is decided that RBReq can not happen for an already active RBID</li></ul></li><li>DTWReq beats for a transaction will always be together, no interleaving for different transactions</li><li>Coherent writes can be processed in the order that DTWReq were received, the RBReq order doesn't matter</li><li>Is there any implied order between coherent writes and non-coherent writes?<ul><li>No implied order. Can do a simple round robin between coherent and non-coherent write queues.</li></ul></li><li>For barriers, DTWResp can be used to signal completion of the write, when it is globally visible. Need to follow up with Sanjay and Shilpa about handling write completion signal for barriers.</li><li>What is the difference between early and late DTWResp?<br/><ul><li>It's an option sent in the message related to visibility<ul><li>late visibility means DMI waits until bresp from downstream AXI</li><li>early visibility means DMI sends write acknowledge as soon as it accepts the request and is able to manage any ordering requirements for accesses that follow it to same address</li></ul></li></ul></li><li>what's the difference between the 2 MRDResp in Figure 4 Read diagram?</li><ul><li>controlled by Response Level in the MRD message</li></ul><li>Review how hazards are avoided<br/><ul><li>for coherent cases, generally DCE manages hazards so DMI never sees the hazard</li><li>for non-coherent cases, DMI must do address matching</li><li>System should never issue coherent and non-coherent transactions to the same address. If this happens, there is no ordering requirement, no correct answer, just don't let the system hang.</li></ul></li><li>Is there any way in protocol to report AXI bus error during read or write?<br/><ul><li>Currently Sanjay has this reported in cmstatus of DTWResp</li><li>Since bresp may happen much later than DTWResp in the EWA case, the only way to manage that is with separate message, perhaps sideband error signal to another unit.Â </li></ul></li><li>Is there any current use for RBUseResp from DMI perspective?<ul><li>No, DMI can just hold ready and sink them.</li></ul></li></ul><h2 id="id-2018-04-10DMIAssumptions-Actionitems">Action items</h2><ul class="inline-task-list" data-inline-tasks-content-id="16170216"><li data-inline-task-id="1"><a class="confluence-userlink user-mention" data-account-id="624674b5f40798007056fc6f" href="https://arterisip.atlassian.net/wiki/people/624674b5f40798007056fc6f?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Steve Kromer (Deactivated)</a> followup discussion with Sanjay about DTWResp to support system barrier</li><li data-inline-task-id="5"><a class="confluence-userlink user-mention" data-account-id="624674b5f40798007056fc6f" href="https://arterisip.atlassian.net/wiki/people/624674b5f40798007056fc6f?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Steve Kromer (Deactivated)</a> waiting for Sanjay to further specify AXI bus error reporting</li></ul>