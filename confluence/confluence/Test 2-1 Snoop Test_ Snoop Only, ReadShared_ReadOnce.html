<p><strong>Environment</strong></p><ul><li>Using same environment - two CAIUs, two DMIs, 256 data width, and 64 DCE. </li><li>Increased Cache size - no Evict transaction from the cache model yet. Will make the cache appropriate size later. </li></ul><p><br/></p><p><strong>Test sequence</strong></p><p>Warm up CPU0(CAIU0)/CPU1(CAIU1) cache model first, and performed the below test</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 76.4529%;"><colgroup><col style="width: 10.4987%;"/><col style="width: 89.5013%;"/></colgroup><tbody><tr><th class="confluenceTh"><br/></th><th class="confluenceTh"><br/></th></tr><tr><td class="confluenceTd"><strong>Seq. 1</strong></td><td class="confluenceTd">CPU0 snoops to CPU1 using ReadShared, CPU1 snoops CPU 0 using ReadShared</td></tr><tr><td class="confluenceTd"><strong>Seq. 2</strong></td><td class="confluenceTd">NCAIU0, 1, 2, and 3 snooping CPU0 and CPU1 (RO)</td></tr><tr><td colspan="1" class="confluenceTd"><strong>Seq. 3</strong></td><td colspan="1" class="confluenceTd">CPU0 snoops to CPU1, CPU1 snoops CPU 0, (RS) and NCAIU0, 1, 2, and 3 snooping CPU0 and CPU1 (RO)</td></tr></tbody></table></div><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="https://arterisip.atlassian.net/wiki/download/attachments/16165956/image2021-12-14_19-18-58.png?api=v2"></span></p><p><strong>Observation</strong></p><ul><li>Achieving 50% of the BW for Seq1 and Seq2, and getting 100% for Seq 3.</li><li>At Seq3, observing ReadOnce from NCAIUs are reading data from SMC, while in Seq2 the data is from CPU cache.</li><li>Still not observing any back pressure at Legato.</li><li>Still not observing any unbalanced DCE/DMI behavior. </li></ul><p><br/></p><ul><li>Main bottleneck is RBID of the DCE. Sometimes observing CAIU DCE credit is full, but not observing OTT full in any cases. </li><li>The configuration order might be.. ? (Just for my note)<ul><li>RTT/WTT considering DRAM controller tracker size</li><li>DCE ATT/credit configuration considering target BW and turn-around latency </li><li>CAIU/NCAIU credit considering loaded latency/empty pipe latency - But not sure how to configure OTT of CAIU/NCAIU </li></ul></li></ul><p><br/></p><p><strong>BW and Latency</strong></p><p><br/></p><p><strong><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="https://arterisip.atlassian.net/wiki/download/attachments/16165956/image2021-12-14_12-14-57.png?api=v2"></span></strong></p><p><br/></p><p><br/></p><p>Detailed data</p><p><a class="external-link" href="https://arteris-my.sharepoint.com/:x:/p/junie_um/EQpYqjIesQNDg05HTLDRL_UB1D-zU_7Z43g7esO5S924Lg?e=uRo3Eb" rel="nofollow">https://arteris-my.sharepoint.com/:x:/p/junie_um/EQpYqjIesQNDg05HTLDRL_UB1D-zU_7Z43g7esO5S924Lg?e=uRo3Eb</a></p>