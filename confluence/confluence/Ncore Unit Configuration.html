<p><style>[data-colorid=o0hdczvmyr]{color:#333333} html[data-color-mode=dark] [data-colorid=o0hdczvmyr]{color:#cccccc}[data-colorid=drae4wtt95]{color:#333333} html[data-color-mode=dark] [data-colorid=drae4wtt95]{color:#cccccc}[data-colorid=doad7athoe]{color:#333333} html[data-color-mode=dark] [data-colorid=doad7athoe]{color:#cccccc}[data-colorid=llxik20s7d]{color:#333333} html[data-color-mode=dark] [data-colorid=llxik20s7d]{color:#cccccc}[data-colorid=q9w453hc79]{color:#333333} html[data-color-mode=dark] [data-colorid=q9w453hc79]{color:#cccccc}[data-colorid=sg7pb90krl]{color:#333333} html[data-color-mode=dark] [data-colorid=sg7pb90krl]{color:#cccccc}[data-colorid=g30tb998xk]{color:#333333} html[data-color-mode=dark] [data-colorid=g30tb998xk]{color:#cccccc}[data-colorid=tg8cp5no3x]{color:#333333} html[data-color-mode=dark] [data-colorid=tg8cp5no3x]{color:#cccccc}[data-colorid=p064skneh3]{color:#333333} html[data-color-mode=dark] [data-colorid=p064skneh3]{color:#cccccc}[data-colorid=eyoqig9qi9]{color:#333333} html[data-color-mode=dark] [data-colorid=eyoqig9qi9]{color:#cccccc}[data-colorid=ttd5ps2te1]{color:#333333} html[data-color-mode=dark] [data-colorid=ttd5ps2te1]{color:#cccccc}[data-colorid=jng93iml84]{color:#333333} html[data-color-mode=dark] [data-colorid=jng93iml84]{color:#cccccc}[data-colorid=b529h1lwu5]{color:#333333} html[data-color-mode=dark] [data-colorid=b529h1lwu5]{color:#cccccc}[data-colorid=qygefvwd6r]{color:#333333} html[data-color-mode=dark] [data-colorid=qygefvwd6r]{color:#cccccc}[data-colorid=b2ellom56s]{color:#333333} html[data-color-mode=dark] [data-colorid=b2ellom56s]{color:#cccccc}[data-colorid=kuf9osxod3]{color:#333333} html[data-color-mode=dark] [data-colorid=kuf9osxod3]{color:#cccccc}[data-colorid=njfq1d9bkf]{color:#333333} html[data-color-mode=dark] [data-colorid=njfq1d9bkf]{color:#cccccc}[data-colorid=fbqk054861]{color:#333333} html[data-color-mode=dark] [data-colorid=fbqk054861]{color:#cccccc}[data-colorid=t4xofzr1hp]{color:#333333} html[data-color-mode=dark] [data-colorid=t4xofzr1hp]{color:#cccccc}[data-colorid=kl23mb22s5]{color:#333333} html[data-color-mode=dark] [data-colorid=kl23mb22s5]{color:#cccccc}[data-colorid=ygnhwba3tk]{color:#333333} html[data-color-mode=dark] [data-colorid=ygnhwba3tk]{color:#cccccc}[data-colorid=feyjsmo7r2]{color:#333333} html[data-color-mode=dark] [data-colorid=feyjsmo7r2]{color:#cccccc}[data-colorid=h2gxtotihj]{color:#333333} html[data-color-mode=dark] [data-colorid=h2gxtotihj]{color:#cccccc}[data-colorid=i2zgaqbk9s]{color:#333333} html[data-color-mode=dark] [data-colorid=i2zgaqbk9s]{color:#cccccc}[data-colorid=zn14ojnbv1]{color:#333333} html[data-color-mode=dark] [data-colorid=zn14ojnbv1]{color:#cccccc}[data-colorid=iotyn3jspr]{color:#333333} html[data-color-mode=dark] [data-colorid=iotyn3jspr]{color:#cccccc}[data-colorid=sz17ptqgik]{color:#333333} html[data-color-mode=dark] [data-colorid=sz17ptqgik]{color:#cccccc}[data-colorid=yecsfh233g]{color:#333333} html[data-color-mode=dark] [data-colorid=yecsfh233g]{color:#cccccc}[data-colorid=ghljpsj5ft]{color:#333333} html[data-color-mode=dark] [data-colorid=ghljpsj5ft]{color:#cccccc}</style>Temporarily, CSR and QoS parameters are not in this table. Numbers in the &quot;Name in RTL Json&quot; are examples coming from hardware_config2.</p><p>In Ncore3 System, all the components share the same cacheline size(64 Bytes).</p><h3 id="NcoreUnitConfiguration-Systemconfiguration">System configuration</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p style="margin-left: 0.0px;text-align: left;">System configuration</p></th><th class="confluenceTh">Name in Json</th></tr><tr><td class="confluenceTd"><p style="margin-left: 0.0px;text-align: left;">Width of TargetId, InitiatorId, Smi message, Msg Id, Header Protection,</p><p style="margin-left: 0.0px;text-align: left;">TTier, Steering, Priority, QL are part of QoS</p><p style="margin-left: 0.0px;text-align: left;">TTier, Steering, Ql are not implemented</p><p style="margin-left: 0.0px;text-align: left;">Priority is for arbitration</p></td><td class="confluenceTd"><span data-colorid="sg7pb90krl" style="text-decoration: none;">&nbsp;&quot;concParams&quot;: {</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="njfq1d9bkf" style="text-decoration: none;">&nbsp;&nbsp;&nbsp; &quot;hdrParams&quot;: {</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="g30tb998xk" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wTargetId&quot;: 6,</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="o0hdczvmyr" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wInitiatorId&quot;: 6,</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="t4xofzr1hp" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wCmType&quot;: 8,</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="tg8cp5no3x" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wMsgId&quot;: 7,</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="sz17ptqgik" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wHProt&quot;: 0,</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="doad7athoe" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wTTier&quot;: 0,</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="eyoqig9qi9" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wSteering&quot;: 0,</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="qygefvwd6r" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wPriority&quot;: 0,</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="i2zgaqbk9s" style="text-decoration: none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;wQl&quot;: 0</span><br style="text-decoration: none;text-align: left;" /><span data-colorid="kl23mb22s5" style="text-decoration: none;">&nbsp;&nbsp;&nbsp; },</span></td></tr></tbody></table></div><p>&nbsp;</p><h3 id="NcoreUnitConfiguration-IOAIUparameters">IOAIU parameters</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Parameters that may affect performance</p><p>and</p><p>System Configuration for each block</p></th><th class="confluenceTh">Name in RTL Json</th><th class="confluenceTh">Existed in Model</th><th class="confluenceTh">Name in Model</th></tr><tr><td colspan="1" class="confluenceTd"><p>FUnitId and its width</p><p>FPortId and its width</p></td><td colspan="1" class="confluenceTd">&nbsp; &quot;wFUnitId&quot;: 4,<br />&nbsp; &quot;FUnitId&quot;: 2,<br />&nbsp; &quot;wFPortId&quot;: 2,<br />&nbsp; &quot;FPortId&quot;: 4,</td><td colspan="1" class="confluenceTd">&nbsp;</td><td colspan="1" class="confluenceTd">&nbsp;</td></tr><tr><td class="confluenceTd"><p>Total outstanding number of credits per component</p><p>(Number of CMD req in flight between IOAIU and other component)</p></td><td class="confluenceTd">&nbsp; &quot;Credits&quot;: {<br />&nbsp;&nbsp;&nbsp; &quot;MaxCreditPerDCE&quot;: [4, 4],<br />&nbsp;&nbsp;&nbsp; &quot;MaxCreditPerDMI&quot;: [8, 8, 8],<br />&nbsp;&nbsp;&nbsp; &quot;MaxCreditPerDII&quot;: [1, 1],</td><td class="confluenceTd"><p>No MaxCreditPerDII</p></td><td class="confluenceTd"><p>vector&lt;std::pair&lt;int,int&gt; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd_credit_counter_per_DCE.first; // per each DCE</p><p>vector&lt;std::pair&lt;int,int&gt; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd_credit_counter_per_DMI.first; //per each DMI</p><p>&nbsp;</p></td></tr><tr><td class="confluenceTd">Credits reserved for Writes only per component</td><td class="confluenceTd">&nbsp;&nbsp;&nbsp; &quot;ReserveWrPerDCE&quot;: [0, 0],<br />&nbsp;&nbsp;&nbsp; &quot;ReserveWrPerDMI&quot;: [0, 0, 0],<br />&nbsp;&nbsp;&nbsp; &quot;ReserveWrPerDII&quot;: [1, 1],</td><td class="confluenceTd">No ReserveWrPerDII</td><td class="confluenceTd"><p style="margin-left: 0.0px;text-align: left;">vector&lt;std::pair&lt;int,int&gt; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd_credit_counter_per_DCE.second; // per each DCE</p><p style="margin-left: 0.0px;text-align: left;">vector&lt;std::pair&lt;int,int&gt; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cmd_credit_counter_per_DMI.second; //per each DMI</p></td></tr><tr><td class="confluenceTd">Cache enable</td><td class="confluenceTd">&nbsp;&quot;useCache&quot;: 1</td><td class="confluenceTd">Yes</td><td class="confluenceTd">&nbsp;</td></tr><tr><td class="confluenceTd">Number of components in the system</td><td class="confluenceTd">&nbsp; &quot;nDce&quot;: 2,<br />&nbsp; &quot;nDmi&quot;: 3,<br />&nbsp; &quot;nDii&quot;: 2,</td><td class="confluenceTd">Yes</td><td class="confluenceTd"><p>const uint32_t nagents,&nbsp;&nbsp;&nbsp; // = nDce + nDmi + nDii</p><p>const uint32_t num_dce; = number of DCE<br />const uint32_t num_dmi; =number of DMI</p></td></tr><tr><td class="confluenceTd"><p>Victim Buffer Size</p><p>(Hold data locally for DTR/DTW backpressure)</p></td><td class="confluenceTd">&quot;VictimBuffer&quot;: 1</td><td class="confluenceTd">x</td><td class="confluenceTd">&nbsp;</td></tr><tr><td class="confluenceTd"><p>Number of buffers in the Rd bypass path</p><p>(Refer to &quot;P0&quot; in the IOAIU Data Path diagram)</p><p>(Affect Read data latency)</p></td><td class="confluenceTd">&quot;eP0&quot;: 0</td><td class="confluenceTd">x</td><td class="confluenceTd">&nbsp;</td></tr><tr><td class="confluenceTd">Data width</td><td class="confluenceTd">&quot;wData&quot;: 128</td><td class="confluenceTd">Yes</td><td class="confluenceTd"><p>unsigned Buswidth; // AXI / ACE lite / ACE lite E</p><p>const uint32_t nbeats_max // SMI</p></td></tr><tr><td class="confluenceTd"><p>CCP Parameters:</p><p>Number of Sets</p><p>Number of Ways</p><p>Enable use of Scratchpad</p><p><span data-colorid="zn14ojnbv1" style="text-decoration: none;">Number of Beats of data stored in Data Bank</span></p><p>Number of Tag Banks</p><p>Number of Data Banks</p><p>Enable another replacement policy</p><p>Replacement policy</p><p>Primary and Secondary Bits selecting Index</p><p>Bits selecting Tag Bank</p><p>Bits selecting Data Bank array</p></td><td class="confluenceTd">&nbsp; &quot;ccpParams&quot;: {<br />&nbsp;&nbsp;&nbsp; &quot;num_ports&quot;: 1,<br />&nbsp;&nbsp;&nbsp; &quot;wCacheLineOffset&quot;: 6,<br />&nbsp;&nbsp;&nbsp; &quot;wData&quot;: 128,<br />&nbsp;&nbsp;&nbsp; &quot;wAddr&quot;: 32,<br />&nbsp;&nbsp;&nbsp; &quot;wSecurity&quot;: 1,<br />&nbsp;&nbsp;&nbsp; &quot;wStateBits&quot;: 3,<br />&nbsp;&nbsp;&nbsp; &quot;nClkDiv&quot;: 1,<br />&nbsp;&nbsp;&nbsp; <strong>&quot;nSets&quot;: 1024,</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;nWays&quot;: 8,</strong><br />&nbsp;&nbsp;&nbsp; &quot;nTableEntries&quot;: 32,<br />&nbsp;&nbsp;&nbsp; <strong>&quot;useScratchpad&quot;: 0,</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;nBeatsPerBank&quot;: 1,</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;nTagBanks&quot;: 2,</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;nDataBanks&quot;: 4,</strong><br />&nbsp;&nbsp;&nbsp; &quot;TagErrInfo&quot;: &quot;SECDED&quot;,<br />&nbsp;&nbsp;&nbsp; &quot;DataErrInfo&quot;: &quot;NONE&quot;,<br />&nbsp;&nbsp;&nbsp; &quot;useDinBuffer&quot;: 0,<br />&nbsp;&nbsp;&nbsp; &quot;useDoutBuffer&quot;: 1,<br />&nbsp;&nbsp;&nbsp; <strong>&quot;nRPPorts&quot;: 1,</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;RepPolicy&quot;: &quot;NRU&quot;,</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;PriSubDiagAddrBits&quot;: [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;SecSubRows&quot;: [&quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;],</strong><br />&nbsp;&nbsp;&nbsp; &quot;PortPriSubDiagAddrBits&quot;: [],<br />&nbsp;&nbsp;&nbsp; &quot;PortSecSubRows&quot;: {},<br />&nbsp;&nbsp;&nbsp; <strong>&quot;TagBankSelBits&quot;: [0],</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;DataBankSelBits&quot;: [0, 1]</strong><br />&nbsp; },</td><td class="confluenceTd"><p>No Scratchpad</p><p>No RpPorts</p><p>No TagBank, DataBank implementation</p><p>in the cache model</p><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;&nbsp;</p><p><span data-colorid="feyjsmo7r2">&nbsp; Cncb&nbsp; //Constructor</span><span data-colorid="p064skneh3"><br /> <span>&nbsp;&nbsp;&nbsp; (</span><br /> <span>&hellip;.</span><br /> <strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const uint32_t nsets,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // = &ldquo;nSets&rdquo;</span></strong><strong><br /> </strong><strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const uint32_t nways,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // = &ldquo;nWays&rdquo;</span></strong><strong><br /> </strong><strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const uint32_t line_size,&nbsp; // Fixed = 64</span></strong><strong><br /> </strong><strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const uint32_t replacement,// = &ldquo;RepPolicy&rdquo;</span></strong><strong><br /> </strong><strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const uint32_t tbank_bit,&nbsp; // = &ldquo;TagBankSelBits&rdquo;</span></strong><strong><br /> </strong><strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pair32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;dbank_bits, // =&rdquo;DataBankSelBits&rdquo;</span></strong><strong><br /> </strong><strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vpairnv32_t&nbsp;&nbsp; &amp;index_bits, // = &ldquo;PriSubDiagAddrBits&rdquo; + &ldquo;SecSubRows&rdquo;</span></strong><strong><br /> </strong><strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const uint32_t nbeats_max = NBEAT_MAX, // Depends on the interface??</span></strong><strong><br /> </strong><strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const ccp_t cache = MOESI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Fixed</span></strong><strong><br /> <span>&nbsp;&nbsp;&nbsp; );</span></strong></span></p></td></tr><tr><td class="confluenceTd">OTT entries</td><td class="confluenceTd">&nbsp; &quot;cmpInfo&quot;: {<br />&nbsp;&nbsp;&nbsp; &quot;nDvmSnpInFlight&quot;: 4,<br />&nbsp;&nbsp;&nbsp; &quot;nDvmMsgInFlight&quot;: 0,<br />&nbsp;&nbsp;&nbsp; <strong>&quot;nOttCtrlEntries&quot;: 32,</strong><br />&nbsp;&nbsp;&nbsp; &quot;nSttCtrlEntries&quot;: 8,<br />&nbsp;&nbsp;&nbsp; &quot;nOttDataBanks&quot;: 2,<br />&nbsp;&nbsp;&nbsp; &quot;OttErrorType&quot;: &quot;SECDED&quot;,<br />&nbsp;&nbsp;&nbsp; &quot;OttMemoryType&quot;: &quot;NONE&quot;<br />&nbsp; },</td><td class="confluenceTd">Yes</td><td class="confluenceTd">ott_size</td></tr><tr><td colspan="1" class="confluenceTd">STT entries</td><td colspan="1" class="confluenceTd">&nbsp; &quot;cmpInfo&quot;: {<br />&nbsp;&nbsp;&nbsp; &quot;nDvmSnpInFlight&quot;: 4,<br />&nbsp;&nbsp;&nbsp; &quot;nDvmMsgInFlight&quot;: 0,<br />&nbsp;&nbsp;&nbsp; &quot;nOttCtrlEntries&quot;: 32,<br />&nbsp;&nbsp;&nbsp; <strong>&quot;nSttCtrlEntries&quot;: 8,</strong><br />&nbsp;&nbsp;&nbsp; &quot;nOttDataBanks&quot;: 2,<br />&nbsp;&nbsp;&nbsp; &quot;OttErrorType&quot;: &quot;SECDED&quot;,<br />&nbsp;&nbsp;&nbsp; &quot;OttMemoryType&quot;: &quot;NONE&quot;<br />&nbsp; },</td><td colspan="1" class="confluenceTd"><span data-colorid="ygnhwba3tk" style="text-decoration: none;">Yes</span></td><td colspan="1" class="confluenceTd">stt_size</td></tr></tbody></table></div><p>&nbsp;</p><h3 id="NcoreUnitConfiguration-CHI-AIUparameters">CHI-<span data-colorid="q9w453hc79" style="text-decoration: none;">AIU parameters</span></h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p style="margin-left: 0.0px;text-align: left;">Parameters that may affect performance</p><p style="margin-left: 0.0px;text-align: left;">and</p><p style="margin-left: 0.0px;text-align: left;">System Configuration for each block</p></th><th class="confluenceTh"><span data-colorid="h2gxtotihj" style="text-decoration: none;">Name in RTL Json</span></th><th class="confluenceTh"><span data-colorid="yecsfh233g" style="text-decoration: none;">Existed in Model</span></th><th class="confluenceTh"><span data-colorid="b529h1lwu5" style="text-decoration: none;">Name in Model</span></th></tr><tr><td colspan="1" class="confluenceTd"><p style="margin-left: 0.0px;text-align: left;">FUnitId and its width (unique in group)</p><p style="margin-left: 0.0px;text-align: left;">FPortId and its width</p><p style="margin-left: 0.0px;text-align: left;">NUnitId and its width (unique in whole system)</p></td><td colspan="1" class="confluenceTd">&nbsp; &quot;wFPortId&quot;: 2,<br />&nbsp; &quot;wFUnitId&quot;: 4,<br />&nbsp; &quot;FUnitId&quot;: 0,<br />&nbsp; &quot;wNUnitId&quot;: 3,</td><td colspan="1" class="confluenceTd">&nbsp;</td><td colspan="1" class="confluenceTd">&nbsp;</td></tr><tr><td class="confluenceTd"><p>OTT entries</p><p>Non-coherent CMD to DCE</p><p>Non-coherent CMD to DMI</p><p>Non-coherent CMD to DII</p><p>DVM msg to DVE</p><p>&nbsp;</p></td><td class="confluenceTd">&nbsp;&quot;cmpInfo&quot;: {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>&quot;nOttCtrlEntries&quot;: 31</strong>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nChiCCmdInFlightPerDce&quot;: 8,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nChiNcMCmdInFlightPerDmi&quot;: 4,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nChiNcIoCmdsInFlightPerDii&quot;: 4,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nDvmMsgInFlight&quot;: 2,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nCHIReqInFlight&quot;: 15,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nStshSnpInFlight&quot;: 1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nSnpInFlight&quot;: 48,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nDvmSnpInFlight&quot;: 2<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },</td><td class="confluenceTd">Yes</td><td class="confluenceTd"><p>ott size: cfg.getOttEntriesCount()</p><p>coherent cmd credit: cfg.getDceCredit()</p><p>non-coherent cmd credit: cfg.getDmiCredit()</p><br /><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></td></tr><tr><td class="confluenceTd">STT entries = DCE::nAiuSnpCredits + System::nDvmSnpCredits</td><td class="confluenceTd">&nbsp;&quot;nSttEntries&quot;: 16</td><td class="confluenceTd">Yes</td><td class="confluenceTd"><p>stt size: cfg.getSttEntriesCount()</p></td></tr></tbody></table></div><p>&nbsp;</p><h3 id="NcoreUnitConfiguration-DCEParameters">DCE Parameters</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p style="margin-left: 0.0px;text-align: left;">Parameters that may affect performance</p><p style="margin-left: 0.0px;text-align: left;">and</p><p style="margin-left: 0.0px;text-align: left;">System Configuration for each block</p></th><th class="confluenceTh"><span data-colorid="ttd5ps2te1" style="text-decoration: none;">Name in RTL Json</span></th><th class="confluenceTh"><span data-colorid="iotyn3jspr" style="text-decoration: none;">Existed in Model</span></th><th class="confluenceTh"><span data-colorid="drae4wtt95" style="text-decoration: none;">Name in Model</span></th></tr><tr><td class="confluenceTd"><p style="margin-left: 0.0px;text-align: left;">FUnitId and its width (unique in group)</p><p style="margin-left: 0.0px;text-align: left;">FPortId and its width</p><p style="margin-left: 0.0px;text-align: left;">NUnitId and its width (unique in whole system)</p></td><td class="confluenceTd">&nbsp; &quot;wFUnitId&quot;: 4,<br />&nbsp; &quot;FUnitId&quot;: 5,<br />&nbsp; &quot;NullFilter&quot;: 0,<br />&nbsp; &quot;wFPortId&quot;: 2,<br />&nbsp; &quot;wNUnitId&quot;: 3,</td><td class="confluenceTd">x</td><td class="confluenceTd">&nbsp;</td></tr><tr><td class="confluenceTd">Data width</td><td class="confluenceTd">&quot;wAddr&quot;: 48</td><td class="confluenceTd">x</td><td class="confluenceTd">Don't care</td></tr><tr><td class="confluenceTd">Att entries</td><td class="confluenceTd">&quot;nAttCtrlEntries&quot;: 48</td><td class="confluenceTd">y</td><td class="confluenceTd">att size: cfg-&gt;getAttCtrlEntryCount()</td></tr><tr><td class="confluenceTd">Rbr message credits of per DMI</td><td class="confluenceTd">&quot;nRbsPerDmi&quot;: 12,</td><td class="confluenceTd">y</td><td class="confluenceTd">rb size: cfg-&gt;getMrdsPerDmi()</td></tr><tr><td class="confluenceTd">Snoop message credits per AIU</td><td class="confluenceTd">&quot;nSnpsPerAiu&quot;: 4,</td><td class="confluenceTd">y</td><td class="confluenceTd">snoop credit: cfg-&gt;getSnpsPerAiu()</td></tr><tr><td class="confluenceTd">Mrd message credits of per DMI</td><td class="confluenceTd">&quot;nMrdsPerDmi&quot;: 8,</td><td class="confluenceTd">y</td><td class="confluenceTd">mrd credit: cfg-&gt;getMrdsPerDmi()</td></tr><tr><td class="confluenceTd">Command buffer size of Skid Buffer</td><td class="confluenceTd">&quot;nAttSkidEntries&quot;: 16,</td><td class="confluenceTd">y</td><td class="confluenceTd">skid buf size: cfg-&gt;getAttSkidEntryCount()</td></tr><tr><td class="confluenceTd"><p>Snoop Filter Info</p><p>(Array of all snoop filters' information)</p><p>Bits selecting</p><p>Number of Victim entries</p><p>Number of sets</p><p>Number of ways</p><p>&nbsp;</p></td><td class="confluenceTd">&nbsp; &quot;SnoopFilterInfo&quot;: [<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;TagFilterErrorInfo&quot;: {&quot;fnErrDetectCorrect&quot;: &quot;NONE&quot;},<br />&nbsp;&nbsp;<strong>&nbsp;&nbsp;&nbsp; &quot;SetSelectInfo&quot;: {</strong><br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;PriSubDiagAddrBits&quot;: [16, 17, 18, 19, 20, 21, 22, 25, 33],</strong><br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;SecSubRows&quot;: [&quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;]</strong><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br />&nbsp;<strong>&nbsp;&nbsp;&nbsp;&nbsp; &quot;nVictimEntries&quot;: 0,</strong><br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nSets&quot;: 512,</strong><br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nWays&quot;: 20,</strong><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;fnFilterType&quot;: &quot;EXPLICITOWNER&quot;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;biten&quot;: 0,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nSnoopFilterEccSplitFactor&quot;: 1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nCachingAgents&quot;: 2,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;TagMem&quot;: {&quot;Signals&quot;: [], &quot;rtlPrefixString&quot;: &quot;DCE_EOS0_tagMem&quot;, &quot;MemType&quot;: &quot;NONE&quot;},<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;SnoopFilterAssignment&quot;: [0, 1]<br />&nbsp;&nbsp;&nbsp; },<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;TagFilterErrorInfo&quot;: {&quot;fnErrDetectCorrect&quot;: &quot;NONE&quot;},<br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;SetSelectInfo&quot;: {</strong><br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;PriSubDiagAddrBits&quot;: [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</strong><br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;SecSubRows&quot;: [&quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;]</strong><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nVictimEntries&quot;: 16,</strong><br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nSets&quot;: 1024,</strong><br /><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nWays&quot;: 20,</strong><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;fnFilterType&quot;: &quot;EXPLICITOWNER&quot;,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;biten&quot;: 0,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nSnoopFilterEccSplitFactor&quot;: 1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;nCachingAgents&quot;: 2,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;TagMem&quot;: {&quot;Signals&quot;: [], &quot;rtlPrefixString&quot;: &quot;DCE_EOS1_tagMem&quot;, &quot;MemType&quot;: &quot;NONE&quot;},<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;SnoopFilterAssignment&quot;: [2, 3]<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp; ],</td><td class="confluenceTd">y</td><td class="confluenceTd"><p>victim buf size: cfg-&gt;getDirectoryConfig(i).getVictimEntries()</p><p>dir ways: cfg-&gt;getDirectoryConfig(i).getNWays()<br />dir sets: cfg-&gt;getDirectoryConfig(i).getNSets()</p><p>snoop credit: cfg-&gt;getSnpsPerAiu()</p><p>dir hashing: tf_config.primSel() ^ tf_config.sec_sel_bits()<br /><br />snoop filter assignment: cfg-&gt;getDirectoryConfig(). getSnoopFilterAssignment()</p></td></tr></tbody></table></div><p>&nbsp;</p><h3 id="NcoreUnitConfiguration-DMIParameters"><span data-colorid="b2ellom56s" style="text-decoration: none;">DMI Parameters</span></h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p style="margin-left: 0.0px;text-align: left;">Parameters that may affect performance</p><p style="margin-left: 0.0px;text-align: left;">and</p><p style="margin-left: 0.0px;text-align: left;">System Configuration for each block</p></th><th class="confluenceTh"><span data-colorid="llxik20s7d" style="text-decoration: none;">Name in RTL Json</span></th><th class="confluenceTh"><span data-colorid="kuf9osxod3" style="text-decoration: none;">Existed in Model</span></th><th class="confluenceTh"><span data-colorid="ghljpsj5ft" style="text-decoration: none;">Name in Model</span></th></tr><tr><td class="confluenceTd"><p style="margin-left: 0.0px;text-align: left;">FUnitId and its width (unique in group)</p><p style="margin-left: 0.0px;text-align: left;">FPortId and its width</p><p style="margin-left: 0.0px;text-align: left;">NUnitId and its width (unique in whole system)</p></td><td class="confluenceTd">&nbsp; &quot;wFPortId&quot;: 2,<br />&nbsp; &quot;wFUnitId&quot;: 4,<br />&nbsp; &quot;FUnitId&quot;: 7,<br />&nbsp; &quot;wNUnitId&quot;: 3,</td><td class="confluenceTd">&nbsp;</td><td class="confluenceTd">&nbsp;</td></tr><tr><td class="confluenceTd">Way Partitioning Enable in the SMC enable case</td><td class="confluenceTd">&quot;useWayPartitioning&quot;: 0,<br />&nbsp;&quot;nWayPartitioningRegisters&quot;: 2,</td><td class="confluenceTd">No</td><td class="confluenceTd">&nbsp;</td></tr><tr><td colspan="1" class="confluenceTd">Data width</td><td colspan="1" class="confluenceTd">&quot;wData&quot;: 128</td><td colspan="1" class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd"><p>m_bus_width</p><p>set by constructor call Dmi(m_bus_width)</p></td></tr><tr><td class="confluenceTd">CMC/SMC enable</td><td class="confluenceTd">&quot;useCmc&quot;: 1</td><td class="confluenceTd">Yes</td><td class="confluenceTd"><p>m_ccp not null</p><p>set by call to set_ccp_params</p></td></tr><tr><td class="confluenceTd"><p style="margin-left: 0.0px;text-align: left;">CCP Parameters:</p><p style="margin-left: 0.0px;text-align: left;">Number of Sets</p><p style="margin-left: 0.0px;text-align: left;">Number of Ways</p><p style="margin-left: 0.0px;text-align: left;">Enable use of Scratchpad</p><p style="margin-left: 0.0px;text-align: left;"><span data-colorid="fbqk054861" style="text-decoration: none;">Number of Beats per Bank</span></p><p style="margin-left: 0.0px;text-align: left;">Number of Tag Banks</p><p style="margin-left: 0.0px;text-align: left;">Number of Data Banks</p><p style="margin-left: 0.0px;text-align: left;">Enable another replacement policy</p><p style="margin-left: 0.0px;text-align: left;">Replacement policy</p><p style="margin-left: 0.0px;text-align: left;">Primary and Secondary Bits selecting Index</p><p style="margin-left: 0.0px;text-align: left;">Bits selecting Tag Bank</p><p style="margin-left: 0.0px;text-align: left;">Bits selecting Data Bank array</p></td><td class="confluenceTd">&nbsp; &quot;ccpParams&quot;: {<br />&nbsp;&nbsp;&nbsp; &quot;num_ports&quot;: 1,<br />&nbsp;&nbsp;&nbsp; &quot;wCacheLineOffset&quot;: 6,<br />&nbsp;&nbsp;&nbsp; &quot;wData&quot;: 128,<br />&nbsp;&nbsp;&nbsp; &quot;wAddr&quot;: 32,<br />&nbsp;&nbsp;&nbsp; &quot;wSecurity&quot;: 1,<br />&nbsp;&nbsp;&nbsp; &quot;wStateBits&quot;: 2,<br />&nbsp;&nbsp;&nbsp; &quot;nClkDiv&quot;: 1,<br />&nbsp;&nbsp;&nbsp;<strong> &quot;nSets&quot;: 1024,</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;nWays&quot;: 16,</strong><br />&nbsp;&nbsp;&nbsp; &quot;nTableEntries&quot;: 48,<br />&nbsp;&nbsp;&nbsp; <strong>&quot;useScratchpad&quot;: 0,</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;nBeatsPerBank&quot;: 1,</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;nTagBanks&quot;: 2,</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;nDataBanks&quot;: 4,</strong><br />&nbsp;&nbsp;&nbsp; &quot;TagErrInfo&quot;: &quot;NONE&quot;,<br />&nbsp;&nbsp;&nbsp; &quot;DataErrInfo&quot;: &quot;NONE&quot;,<br />&nbsp;&nbsp;&nbsp; &quot;useDinBuffer&quot;: 0,<br />&nbsp;&nbsp;&nbsp; &quot;useDoutBuffer&quot;: 1,<br />&nbsp;&nbsp;&nbsp; <strong>&quot;nRPPorts&quot;: 1,</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;RepPolicy&quot;: &quot;NRU&quot;,</strong><br />&nbsp;&nbsp;&nbsp; <strong>&quot;PriSubDiagAddrBits&quot;: [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;SecSubRows&quot;: [&quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;, &quot;'h0&quot;],</strong><br />&nbsp;&nbsp;&nbsp; &quot;PortPriSubDiagAddrBits&quot;: [],<br />&nbsp;&nbsp;&nbsp; &quot;PortSecSubRows&quot;: {},<br />&nbsp;<strong>&nbsp;&nbsp; &quot;TagBankSelBits&quot;: [0],</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;DataBankSelBits&quot;: [0, 1]</strong><br />&nbsp; },</td><td class="confluenceTd"><p>Yes</p></td><td class="confluenceTd"><div>&nbsp; if (cfg.getUseCache()) {//FIXME: get useCmc from JSON<br />&nbsp;&nbsp;&nbsp; m_core_dmi-&gt;set_ccp_params(//int nsets, int nways, int ntagbks, int ndatbks, int replacement, unsigned nspways, unsigned long long spbaseaddr</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::stoi(pmap[&quot;cmc.nSets.perPort&quot;]),&nbsp; //nsets<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::stoi(pmap[&quot;cmc.nWays&quot;]), //nways<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::stoi(pmap[&quot;cmc.nTagBanks&quot;]), //ntagbks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::stoi(pmap[&quot;cmc.nDataBanks&quot;]), //ndatbks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::stoi(pmap[&quot;cmc.replacement&quot;]), //replacement<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::stoi(pmap[&quot;cmc.nspways&quot;]),//nspways (if 0, then no scratchpad)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::stoi(pmap[&quot;cmc.spbaseaddr&quot;])//spbaseaddr<br />&nbsp;&nbsp;&nbsp; );<br />&nbsp;&nbsp;&nbsp; m_core_dmi-&gt;set_setindex_info(config.cmc_set_pri_bits(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; config.cmc_set_sec_bits());<br />&nbsp;&nbsp;&nbsp; if (config.cmc_ntag_banks() &gt; 1)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_core_dmi-&gt;set_tagindex_info(config.cmc_tag_bits());</div><div>&nbsp;&nbsp;&nbsp; if (config.cmc_ndata_banks() &gt; 1)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_core_dmi-&gt;set_datindex_info(config.cmc_data_bits());<br />&nbsp;</div></td></tr><tr><td class="confluenceTd"><p>MRD message DMI can accept (Coherent Read)</p><p>CMD message DMI can accept (Non coherent Write and Read)</p><p>RTT entries</p><p>WTT entries</p><p>Number of Request Buffer entries by DCE for coherent transactions</p><p>Number of Request Buffer entries by DMI for non-coherent transactions</p><p>(&quot;useMemRspIntrlv&quot; has been deprecated in Ncore 3 system)</p></td><td class="confluenceTd">&nbsp; &quot;cmpInfo&quot;: {<br />&nbsp;<strong>&nbsp;&nbsp; &quot;nMrdInFlight&quot;: 8,</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;nNcCmdInFlightToDmi&quot;: 32,</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;nRttCtrlEntries&quot;: 48,</strong><br />&nbsp;&nbsp;&nbsp; &quot;useMemRspIntrlv&quot;: 0,<br />&nbsp;&nbsp;&nbsp; <strong>&quot;nWttCtrlEntries&quot;: 32,</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;nDceRbEntries&quot;: 24,</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;nDmiRbEntries&quot;: 16</strong><br />&nbsp; },</td><td class="confluenceTd">Yes</td><td class="confluenceTd"><p>void dmi_top::set_dmi_params(NCORE3::Config::DmiConfig&amp; cfg) {<br />&nbsp; m_config = new common::DMIModelConfig();<br />&nbsp; //Instance name<br />&nbsp; inst_name = cfg.getRtlNamePrefix();</p><p>m_core_dmi-&gt;set_nrttentries(cfg.getRttCtrlEntriesCount());<br /> m_core_dmi-&gt;set_nwttentries(cfg.getWttCtrlEntriesCount());<br /> m_core_dmi-&gt;set_dtrcredits(cfg.getDtrCreditCount());<br /> m_core_dmi-&gt;set_nmrdcredits(cfg.getNMrdCreditCount());<br /> m_core_dmi-&gt;set_ncmdcredits(cfg.getNNcCmdInFlightCount());<br /> m_core_dmi-&gt;set_nrbdcecredits(cfg.getNDceRbEntriesCount());<br /> m_core_dmi-&gt;set_nrbdmicredits(cfg.getNDmiRbEntriesCount());<br /> m_core_dmi-&gt;set_memrspintrlv(false);// NOT supported in model</p></td></tr><tr><td colspan="1" class="confluenceTd"><p>DTR credits in ncore2, no longer using specific credits, just infer from width of msgId for Dtr</p><p>msgId=7 =&gt; nDtrInFlight=128</p></td><td colspan="1" class="confluenceTd"><span>&nbsp; &quot;concParams&quot;: {</span><br /><span>&nbsp;</span><strong>&nbsp;&nbsp; &quot;dtrReqParams&quot;: {</strong><br /><strong> &nbsp;&nbsp;&nbsp; ...</strong><br /><strong>&nbsp;&nbsp;&nbsp; &quot;wMsgId&quot;: 7</strong></td><td colspan="1" class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd">&nbsp;</td></tr></tbody></table></div><p><span data-colorid="jng93iml84" style="text-decoration: none;"><br /></span></p>