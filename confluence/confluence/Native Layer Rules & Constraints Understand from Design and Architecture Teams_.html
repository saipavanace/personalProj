<h2 class="auto-cursor-target" id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-SplittingRULES&amp;EQUATIONSFORIMPLICITANDEXPLICITSPLITTING:"><br/><span class="confluence-anchor-link" id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-Splitting"><span class="confluence-anchor-link" id="Splitting"></span></span><strong>RULES &amp; EQUATIONS FOR IMPLICIT AND EXPLICIT SPLITTING: </strong></h2><h3 id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-TransactionBurstTypeandSplitting"><strong>Transaction Burst Type and Splitting</strong></h3><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 99.7985%;"><colgroup><col style="width: 2.12723%;"/><col style="width: 8.32043%;"/><col style="width: 4.46988%;"/><col style="width: 6.35476%;"/><col style="width: 3.82363%;"/><col style="width: 5.84315%;"/><col style="width: 7.45877%;"/><col style="width: 6.38169%;"/><col style="width: 6.11242%;"/><col style="width: 9.45136%;"/><col style="width: 4.73915%;"/><col style="width: 6.24706%;"/><col style="width: 12.7634%;"/><col style="width: 7.35106%;"/><col style="width: 8.21272%;"/></colgroup><tbody><tr><th colspan="15" class="confluenceTh"><div class="content-wrapper"><p>Rules for Transaction Splitting</p></div></th></tr><tr><th colspan="1" class="confluenceTh"><br/></th><th class="confluenceTh"><br/></th><th class="confluenceTh"><strong>Initiator</strong></th><th class="confluenceTh"><strong>Relationship</strong></th><th class="confluenceTh"><strong>Target</strong></th><th class="confluenceTh"><strong>Burst Transaction at Initiator</strong></th><th class="confluenceTh"><strong>Burst Supported at Target</strong></th><th colspan="1" class="confluenceTh"><strong>Narrow at Initiator</strong></th><th colspan="1" class="confluenceTh"><strong>Narrow Supported at Target</strong></th><th colspan="1" class="confluenceTh"><strong>Splitting Control Parameter</strong></th><th colspan="1" class="confluenceTh"><strong>Splitting in Initiator</strong></th><th class="confluenceTh"><strong>Splitting Behavior</strong></th><th class="confluenceTh"><strong>Splitting Equation (if any)</strong></th><th class="confluenceTh"><strong>Additional Splitting?</strong></th><th class="confluenceTh"><strong>Comments (if any)</strong></th></tr><tr><th colspan="1" class="confluenceTh"><br/></th><td colspan="14" class="confluenceTd"><strong>Note: If an Exclusive transaction matches any splitting condition below the behavior of the system is unpredictable.</strong></td></tr><tr><th colspan="1" class="confluenceTh"><br/></th><td colspan="1" class="confluenceTd"><p><strong>Narrow </strong><strong>Mismatch</strong></p></td><td colspan="12" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh">1</th><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">AXI</td><td colspan="1" class="confluenceTd">*</td><td colspan="1" class="confluenceTd">*</td><td colspan="1" class="confluenceTd">INCR/FIXED</td><td colspan="1" class="confluenceTd">*</td><td colspan="1" class="confluenceTd">*</td><td colspan="1" class="confluenceTd">No &amp; ((1 &lt;&lt; in_txn_hdr_burstSize) &lt; Target Width in Bytes)</td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd">None</td><td colspan="1" class="confluenceTd">None</td><td colspan="1" class="confluenceTd">Move to category <strong>Width Mismatch</strong></td><td colspan="1" class="confluenceTd"><p>The Narrow will not be split. Instead it must be transformed into a non narrow instruction. This means the burstSize of the transaction will be modified to be the full width at the target.</p><p>If the transaction is an exclusive then additionally the addr will be aligned to the target data width.</p><p>These modifications may cause extra bytes to be read at the target, the extra bytes in the write will be disabled with the write strobe.  Note: Extra read bytes will not be returned</p></td></tr><tr><th colspan="1" class="confluenceTh">2</th><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">AXI</td><td colspan="1" class="confluenceTd">*</td><td colspan="1" class="confluenceTd">*</td><td colspan="1" class="confluenceTd">WRAP</td><td colspan="1" class="confluenceTd">*</td><td colspan="1" class="confluenceTd">*</td><td colspan="1" class="confluenceTd">No &amp; ((1 &lt;&lt; in_txn_hdr_burstSize) &lt; Target Width in Bytes)</td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd">Split Into One/Two INCRs</td><td colspan="1" class="confluenceTd">See Equation<strong> B </strong>to get INCRs</td><td colspan="1" class="confluenceTd"><p>See Equation<strong> A</strong> to split into single beat<strong> INCRs</strong></p></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh">3</th><td colspan="1" class="confluenceTd">else</td><td colspan="9" style="text-align: center;" class="confluenceTd">N/A</td><td colspan="1" class="confluenceTd">None</td><td colspan="1" class="confluenceTd">None</td><td colspan="1" class="confluenceTd">Move to category <strong>Width Mismatch</strong></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh"><br/></th><td class="confluenceTd"><strong>Width Mismatch</strong></td><td colspan="13" class="confluenceTd">Resolves all width issues.</td></tr><tr><th colspan="1" class="confluenceTh">4</th><td class="confluenceTd"><br/></td><td class="confluenceTd">AXI</td><td class="confluenceTd">!=</td><td class="confluenceTd">AXI</td><td class="confluenceTd">FIXED</td><td class="confluenceTd">*</td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">Yes</td><td class="confluenceTd">Split to single beat Increments</td><td class="confluenceTd">See Equation<strong> A</strong><br/><br/><br/></td><td class="confluenceTd">Move to category <strong>Target Native Layer Restrictions</strong></td><td class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh">5</th><td colspan="1" class="confluenceTd">else</td><td colspan="9" style="text-align: center;" class="confluenceTd">N/A</td><td colspan="1" class="confluenceTd">None</td><td colspan="1" class="confluenceTd">None</td><td colspan="1" class="confluenceTd">Move to category <strong>Unsupported Burst Types</strong>,</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh"><br/></th><td class="confluenceTd"><strong>Unsupported Burst Types</strong></td><td colspan="13" class="confluenceTd">Resolves all unsupported burst type issues.</td></tr><tr><th colspan="1" class="confluenceTh">6</th><td class="confluenceTd"><br/></td><td class="confluenceTd">AXI</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">*</td><td class="confluenceTd">FIXED</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">Yes</td><td class="confluenceTd">Split to single beat Increments</td><td class="confluenceTd">See Equation<strong> A</strong></td><td class="confluenceTd">Move to category <strong>Target Native Layer Restrictions</strong></td><td class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh">7</th><td class="confluenceTd"><br/></td><td class="confluenceTd">AXI</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">*</td><td class="confluenceTd">WRAP</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">pamTargSplitWrap </td><td colspan="1" class="confluenceTd">Yes</td><td class="confluenceTd">Split into One or two Increments</td><td class="confluenceTd">See Equation<strong> B</strong></td><td class="confluenceTd">Move to category <strong>Max Burst Size/Boundary</strong> as new INCRs can be split further.</td><td class="confluenceTd">pamTargSplitWrap must be asserted</td></tr><tr><th colspan="1" class="confluenceTh">8</th><td class="confluenceTd"><br/></td><td class="confluenceTd">AXI</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">*</td><td class="confluenceTd">INCR</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">Yes</td><td class="confluenceTd">Split to single beat Increments</td><td class="confluenceTd">See Equation<strong> A</strong></td><td class="confluenceTd">Move to category <strong>Target Native Layer Restrictions</strong></td><td data-highlight-colour="#ffe380" class="confluenceTd"><div class="content-wrapper"><a class="confluence-userlink user-mention" data-account-id="5ed63c82037d930c16bd8c73" href="https://arterisip.atlassian.net/wiki/people/5ed63c82037d930c16bd8c73?ref=confluence" target="_blank" data-linked-resource-id="327834" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Saad Zahid</a>Wrote --<p class="auto-cursor-target">&quot;incrSupported is alway true on both initiator and target. So this row will not apply.&quot;</p></div></td></tr><tr><th colspan="1" class="confluenceTh">9</th><td class="confluenceTd">else</td><td colspan="9" style="text-align: center;" class="confluenceTd">N/A</td><td class="confluenceTd">None</td><td class="confluenceTd">None</td><td class="confluenceTd">Move to category at <strong>Max Burst Size/Boundary</strong>.</td><td class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh"><br/></th><td class="confluenceTd"><strong>Max Burst Size/Boundary</strong></td><td colspan="13" class="confluenceTd">Resolves all issues from the transaction being larger than a specified size.</td></tr><tr><th colspan="1" class="confluenceTh">10</th><td class="confluenceTd"><br/></td><td class="confluenceTd">AXI</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">*</td><td class="confluenceTd">FIXED</td><td class="confluenceTd">Taken Care of in <strong>Unsupported Burst Types</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">pamTargMaxBurst</td><td colspan="1" class="confluenceTd">Yes</td><td class="confluenceTd">The burst will be split into FIXED transactions no more than (maxBurstSize <strong style="text-align: left;"><span style="color: inherit;">&gt;&gt; </span></strong><span style="color: inherit;">log2(ATUI.wData)) &lt;&lt; </span><span style="color: inherit;">burstSize</span></td><td class="confluenceTd">See Equation<strong> C</strong></td><td class="confluenceTd">Move to category <strong>Native Layer Restrictions</strong>.</td><td class="confluenceTd">if ((maxBurstSize <strong style="text-align: left;"><span style="color: inherit;">&gt;&gt; </span></strong><span style="color: inherit;">log2(ATUI.wData)) &lt;&lt; </span><span style="color: inherit;">burstSize) </span>&lt; len_in_bytes where maxBurstSize is from PAM</td></tr><tr><th colspan="1" class="confluenceTh">11</th><td class="confluenceTd"><br/></td><td class="confluenceTd">AXI</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">*</td><td class="confluenceTd">WRAP</td><td class="confluenceTd">Taken Care of in <strong>Unsupported Burst Types</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">pamTargMaxBurst</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Split into One or two Increments</td><td class="confluenceTd">See Equation<strong> B</strong></td><td class="confluenceTd">See Equation<strong> D </strong>on one or both increments. Move to category <strong>Native Layer Restrictions </strong>for one or both increments</td><td class="confluenceTd">if maxBurstSize &lt; len_in_bytes where maxBurstSize is from PAM</td></tr><tr><th colspan="1" class="confluenceTh">12</th><td class="confluenceTd"><br/></td><td class="confluenceTd">AXI</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">*</td><td class="confluenceTd">INCR</td><td class="confluenceTd">Taken Care of in <strong>Unsupported Burst Types</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">pamTargMaxBurst</td><td colspan="1" class="confluenceTd">Yes</td><td class="confluenceTd">The burst will be split into INCR transactions no more than maxBurstSize</td><td class="confluenceTd">See Equation<strong> D</strong></td><td class="confluenceTd">Move to category <strong>Native Layer Restrictions</strong>.</td><td class="confluenceTd"><p>if maxBurstSize &lt; len_in_bytes where maxBurstSize is from PAM</p><p>note that Data Width is the physical initiator width here, not axsize.</p></td></tr><tr><th colspan="1" class="confluenceTh">13</th><td class="confluenceTd">else</td><td colspan="9" style="text-align: center;" class="confluenceTd">N/A</td><td class="confluenceTd">None</td><td class="confluenceTd">None</td><td class="confluenceTd">Move to category <strong>Native Layer Restrictions</strong>.</td><td class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh"><br/></th><td class="confluenceTd"><strong>Target Native Layer Restrictions</strong></td><td colspan="13" class="confluenceTd">Resolves all issues from the transaction being larger than a specified size determined by Native Layer restrictions at the target.</td></tr><tr><th colspan="1" class="confluenceTh">14</th><td class="confluenceTd"><br/></td><td class="confluenceTd">*</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">AXI</td><td class="confluenceTd">FIXED</td><td class="confluenceTd">Taken Care of in <strong>Unsupported Burst Types</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">No</td><td class="confluenceTd">Split transaction as if maxBurstSize was (16 * Target.wData)/8</td><td class="confluenceTd">See Equation<strong> C </strong>with new maxBurstSize, Note: There may be a new burstSize as it has been transformed to fit the target width.</td><td class="confluenceTd">None.</td><td class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh">15</th><td class="confluenceTd"><br/></td><td class="confluenceTd">*</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">AXI</td><td class="confluenceTd">WRAP</td><td class="confluenceTd">Taken Care of in <strong>Unsupported Burst Types</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">No</td><td class="confluenceTd">Split transaction as if maxBurstSize was (16 * Target.wData)/8</td><td class="confluenceTd">See Equation<strong> B</strong> with new maxBurstSize</td><td class="confluenceTd">See Equation<strong> D </strong>for one or both increments with maxBurstSize = (256 * Data Width)/8, then no more splitting is needed. </td><td class="confluenceTd">Note: There may be a new Data Width as it has been transformed to fit the target width.</td></tr><tr><th colspan="1" class="confluenceTh">16</th><td class="confluenceTd"><br/></td><td class="confluenceTd">*</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">AXI</td><td class="confluenceTd">INCR</td><td class="confluenceTd">Taken Care of in <strong>Unsupported Burst Types</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">No</td><td class="confluenceTd">Split transaction as if maxBurstSize was (256 * Target.wData)/8</td><td class="confluenceTd">See Equation<strong> D </strong>with new maxBurstSize</td><td class="confluenceTd">None.</td><td class="confluenceTd">Note: There may be a new Data Width as it has been transformed to fit the target width.</td></tr><tr><th colspan="1" class="confluenceTh">17</th><td class="confluenceTd"><br/></td><td class="confluenceTd">*</td><td class="confluenceTd">Taken Care of in Group <strong>Width Mismatch</strong></td><td class="confluenceTd">APB</td><td class="confluenceTd">INCR</td><td class="confluenceTd">Taken Care of in <strong>Unsupported Burst Types</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Taken Care of in Group <strong>Narrow </strong><strong>Mismatch</strong></td><td colspan="1" class="confluenceTd">Required based on Configuration</td><td colspan="1" class="confluenceTd">No</td><td class="confluenceTd">Split into single beat transactions on APB as if maxBurstSize was (Target.wData/8)</td><td class="confluenceTd">See Equation<strong> D </strong>with new maxBurstSize</td><td class="confluenceTd">None.</td><td class="confluenceTd">Note: There may be a new Data Width as it has been transformed to fit the target width.</td></tr><tr><th colspan="1" class="confluenceTh">17</th><td colspan="1" class="confluenceTd">else</td><td colspan="13" style="text-align: center;" class="confluenceTd">End of Table</td></tr></tbody></table></div><p class="auto-cursor-target">Note: All splitting is done regardless of modifiable or non-modifiable. If non modifiable transactions need to not be split the system needs to be configured to support that non-modifiable transaction throughout its flow.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Equation ID</th><th class="confluenceTh">Description </th><th class="confluenceTh">Equation</th></tr><tr><th class="confluenceTh">A</th><td class="confluenceTd">Split into single beat increments.</td><td class="confluenceTd"><p><strong>First Beat</strong>:<br/>addr= addr<br/>burstType= INCR<br/>len=  (Init.wData/8) - (addr - align(addr,Init.wData)) - 1<br/><strong>Beat N</strong>:<br/>addr = (Fixed) ? addr: (addr+ N*(Init.wData/8))<br/>burstType = INCR<br/>len =  (Init.wData/8) - 1<br/><br/></p></td></tr><tr><th class="confluenceTh">B</th><td class="confluenceTd">Split Wrap Into One/Two Increments</td><td class="confluenceTd"><p><strong>len_in_bytes</strong> = iSIZE * iLEN<br/><strong>Lower Boundary</strong> = align(addr,len_in_bytes)<br/><strong>Upper Boundary</strong> = Lower Boundary + len_in_bytes - 1<br/><br/><strong>If (Lower Boundary == iADDR)</strong><br/>Unmodified except oBURST = INCR</p><p><strong>else if (len_in_bytes &lt;= (ATUI.wData/8)) </strong><br/>oBURST = INCR<br/>oADDR = Lower Boundary</p><p><strong>else</strong><br/>INCR1 - INCR from iADDR to Upper Boundary<br/>INCR2 - INCR from Lower Boundary to iADDR</p></td></tr><tr><th class="confluenceTh">C</th><td class="confluenceTd">Split Fixed from a certain maxBurstSize</td><td class="confluenceTd"><p>Boundary needs no consideration since a fixed transaction cannot cross a Boundary.<br/><strong>maxSize</strong> = (maxBurstSize <strong style="text-align: left;"><span style="color: inherit;">&gt;&gt; </span></strong><span style="color: inherit;">log2(ATUI.wData)) &lt;&lt; ax</span><span style="color: inherit;">Size</span><br/><strong>bytesPerBurst</strong> = (align(iADDR, burstSize) + burstSize) - iADDR<br/><strong>Request 1</strong>  : oADDR = iADDR<br/>len = lower(bytesPerBurst,len)<br/><strong>if( N * maxBurstSize &lt;= len_in_bytes)</strong><br/><strong>  Request N</strong> :  oADDR = iADDR<br/>                        len = maxSize<br/><strong>else</strong><br/><strong>  Request N</strong>:   oADDR = iADDR<br/>                        len = len_in_bytes - ((N-1) *                                  bytesPerBurst)</p><p>oBURST = FIXED</p></td></tr><tr><th class="confluenceTh">D</th><td class="confluenceTd">Split Incr from a certain maxBurstSize</td><td class="confluenceTd"><p><strong>maxSize</strong> = minimum(maxBurstSize, bytesToBoundary)<br/><strong>bytesToMaxSize</strong> = (align(iADDR, Data Width) + maxBurstSize) - iADDR<br/><strong>Request 1</strong>  : <br/>    oADDR = iADDR, <br/>    len = min(len, bytesToMaxSize), <br/>    bytesLeft = len - min(len, bytesToMaxSize)<br/><strong>Request N</strong>  : <br/>    oADDR = oADDR[N-1] + len[N-1]<br/>    len = min(bytesLeft , bytesToMaxSize) <br/>    bytesLeft = len - min(len, bytesToMaxSize)</p><p>oBURST = INCR</p></td></tr></tbody></table></div><p><br/><span class="confluence-anchor-link" id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-Exclusives"><span class="confluence-anchor-link" id="Exclusives"></span></span><strong style="font-size: 20.0px;letter-spacing: -0.008em;">EXCLUSIVE TRANSACTION RULES:</strong></p><p><br/>Comes from JIRA 
    

            

    <span class="aui-message aui-message-warning jim-error-message jim-error-message-single">
        <span class="icon-in-pdf"></span>
                            Unable to locate Jira server for this macro. It may be due to Application Link configuration.
            </span>
 </p><p>Note: From SYM-4863, <a class="confluence-userlink user-mention" data-account-id="624b37dc1da0e100713c9b0a" href="https://arterisip.atlassian.net/wiki/people/624b37dc1da0e100713c9b0a?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Prayank Trivedi (Deactivated)</a> made a correct observation that 1a, and 1b are not relevant since they are not checked if the Address is aligned to the size of the txn, which every exclusive transaction is.</p><ul style="list-style-type: square;"><li>However the resulting INCR still may be split further and cause an exclusive error.</li></ul><ol><li>There are certainty conditions when an exclusive transaction would split and always fail thus should be avoided. This can be determined by the target characteristics:<ol><li><strong>You cannot send a narrow WRAP exclusive transaction to a target that doesn't support narrows. Except if the narrow WRAP is a beat or smaller in size, Or if the lower_boundary is equal to the address.</strong><ol><li>if((math.pow(2,axi_txn.axsize) &lt;  (ATUI.wData/8)) &amp;&amp; (ATUT.narrowSupported == false) &amp;&amp; axi_txn.axburst == WRAP &amp;&amp; !(axi_txn.tot_size &lt;= (ATUI.wData/8))) then exclusive will always fail</li></ol></li><li><strong>You cannot send a WRAP exclusive transaction to a target that doesn't support WRAPS. Except if the narrow WRAP is a beat or smaller in size. Or if the lower_boundary is equal to the address.</strong><ol><li>if((axi_txn.axburst == WRAP) &amp;&amp; [ !ATUT.wrapSupported , ATUT.pamTargSplitWrap[targId] ]) then exclusive will fail (Either option in the brackets can be used depending on if viewing from an ATUT, or ATUI PAM perspective.)</li><li>Except when align(addr, axi_txn.axsize) == addr (Lower Boundary Equal to Address)</li><li>or when axi_txn.axsize &lt;= (ATUI.wData/8) (WRAP Smaller than a Beat)</li></ol></li><li><strong>You cannot send a FIXED exclusive transaction to a target that doesn't support FIXED.</strong><ol><li>if((axi_txn.axburst == FIXED) &amp;&amp; (ATUT.fixedSupported == false)) then exclusive will always fail</li></ol></li><li><strong>You cannot send a FIXED exclusive transaction to a target with a smaller data width. </strong><ol><li>if((axi_txn.axburst == FIXED) &amp;&amp; (ATUI.wData &gt; ATUT.wData)) then exclusive will always fail</li></ol></li><li><strong>You cannot send a WRAP/INCR/Non Narrow FIXED exclusive larger than maxPduSize of the initiator or target.</strong><ol><li>axi_txn_size == (axi_txn.axlen + 1) * math.pow(2,axi_txn.axsize)</li><li>if((axi_txn_size &gt; ATUI.maxPduSz) || (axi_txn_size &gt; ATUT.maxPduSz)) then exclusive will always fail</li></ol></li><li><strong>You cannot send a Narrow Fixed exclusive larger than (ATUT.maxPduSize &gt;&gt; log2(ATUI.wData))&lt;&lt; AxSize.</strong><ol><li>axi_txn_size == (axi_txn.axlen + 1) * math.pow(2,axi_txn.axsize)</li><li>if((axi_txn_size &gt; ((ATUI.maxPduSize &lt;&lt; log2(ATUI.wData)) &gt;&gt; AxSize) || (axi_txn_size &gt; ((ATUT.maxPduSize &lt;&lt; log2(ATUI.wData)) &gt;&gt; AxSize))) then exclusive will always fail</li></ol></li></ol></li><li>Event with all above limitations splits can still happen at Target NL which needs to handle by AXI Slave with exclusive support.</li><li>If a narrow exclusive transaction is sent to a Target that does not support narrows, the ADDR will be modified to align to the ATUT.wData &amp; the AxSize will be modified to log2(ATUT.wData). This will be done regardless of the modifiable bit. </li></ol><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" width="729" src="https://arterisip.atlassian.net/wiki/download/attachments/16161924/Exclusive_Restrictions.png?api=v2"></span></p><h2 id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-EXCLUSIVEPARAMS/CONFIGSMATRIX:"><strong>EXCLUSIVE PARAMS / CONFIGS MATRIX:</strong></h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 38.0px;"/><col style="width: 44.0px;"/><col style="width: 73.0px;"/><col style="width: 49.0px;"/><col style="width: 106.0px;"/><col style="width: 56.0px;"/><col style="width: 76.0px;"/><col style="width: 252.0px;"/><col style="width: 138.0px;"/><col style="width: 124.0px;"/><col style="width: 116.0px;"/><col style="width: 124.0px;"/><col style="width: 195.0px;"/><col style="width: 120.0px;"/></colgroup><tbody><tr><th colspan="14" class="confluenceTh"><div class="content-wrapper"><p><strong>Comes from JIRA 
    

            

    <span class="aui-message aui-message-warning jim-error-message jim-error-message-single">
        <span class="icon-in-pdf"></span>
                            Unable to locate Jira server for this macro. It may be due to Application Link configuration.
            </span>
</strong></p></div></th></tr><tr><th colspan="14" class="confluenceTh"><p><strong>Case 1 : RTL supports exclusive monitor (trans cannot split at atui; but it can split at atut)</strong></p></th></tr><tr><th rowspan="3" class="confluenceTh"><p><strong>#</strong></p></th><th rowspan="3" class="confluenceTh"><p><strong>init</strong></p></th><th rowspan="3" class="confluenceTh"><p><strong>relation</strong></p></th><th rowspan="3" class="confluenceTh"><p><strong>targ</strong></p></th><th colspan="2" class="confluenceTh"><p><strong>init trans type</strong></p></th><th class="confluenceTh"><p><strong>is valid?</strong></p></th><th colspan="5" class="confluenceTh"><p style="text-align: center;"><strong>if valid then must conditions</strong></p></th><th class="confluenceTh"><br/></th><th rowspan="3" class="confluenceTh"><p style="text-align: center;"><strong>comments</strong></p></th></tr><tr><th rowspan="2" class="confluenceTh"><p><strong>wide/narrow</strong></p></th><th rowspan="2" class="confluenceTh"><p><strong>burst</strong></p></th><th rowspan="2" class="confluenceTh"><p><strong>(yes/no)</strong></p></th><th class="confluenceTh"><p style="text-align: center;"><strong>init params/constraints</strong></p></th><th colspan="5" class="confluenceTh"><p style="text-align: center;"><strong>targ params</strong></p></th></tr><tr><th class="confluenceTh"><br/></th><th class="confluenceTh"><p><strong>narrowSupported</strong></p></th><th class="confluenceTh"><p><strong>fixedSupported</strong></p></th><th class="confluenceTh"><p><strong>incrSupported</strong></p></th><th class="confluenceTh"><p><strong>wrapSupported</strong></p></th><th class="confluenceTh"><p><strong>pamTargSplitWrap[targid]</strong></p></th></tr><tr><td class="confluenceTd">1</td><td rowspan="6" class="confluenceTd">axi</td><td rowspan="6" class="confluenceTd"> = </td><td rowspan="6" class="confluenceTd">AXI / APB</td><td rowspan="3" class="confluenceTd">wide</td><td data-highlight-colour="#ffbdad" class="confluenceTd">fixed</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><td class="confluenceTd">2</td><td class="confluenceTd">incr</td><td class="confluenceTd">yes</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">true </td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">0</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">3</td><td data-highlight-colour="#ffbdad" class="confluenceTd">wrap</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><td class="confluenceTd">4</td><td rowspan="3" class="confluenceTd">narrow</td><td data-highlight-colour="#ffbdad" class="confluenceTd">fixed</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><td class="confluenceTd">5</td><td class="confluenceTd">incr</td><td class="confluenceTd">yes</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">true / false</td><td class="confluenceTd">true </td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">0</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">6</td><td data-highlight-colour="#ffbdad" class="confluenceTd">wrap</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><td class="confluenceTd">7</td><td rowspan="6" class="confluenceTd">axi</td><td rowspan="6" class="confluenceTd"> &gt; </td><td rowspan="6" class="confluenceTd">AXI / APB</td><td rowspan="3" class="confluenceTd">wide</td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">fixed</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">no</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><br/></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">true / false</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">true / false</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">true</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">true / false</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">0</s></td><td data-highlight-colour="#ff5630" class="confluenceTd">INVALID CONFIG</td></tr><tr><td class="confluenceTd">8</td><td class="confluenceTd">incr</td><td class="confluenceTd">yes</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">true </td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">0</td><td class="confluenceTd">SYM-3104</td></tr><tr><td class="confluenceTd">9</td><td data-highlight-colour="#ffbdad" class="confluenceTd">wrap</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true </td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">SYM-3104</td></tr><tr><td class="confluenceTd">10</td><td rowspan="3" class="confluenceTd">narrow</td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">fixed</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">no</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><br/></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">true / false</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">true / false</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">true </s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><s title="">true / false</s></td><td data-highlight-colour="#ff5630" class="confluenceTd"><br/></td><td data-highlight-colour="#ff5630" class="confluenceTd">INVALID CONFIG</td></tr><tr><td class="confluenceTd">11</td><td class="confluenceTd">incr</td><td class="confluenceTd">yes</td><td class="confluenceTd"><br/></td><td class="confluenceTd">true (if init_txn_beat_size &lt; targ_data_width)</td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">true </td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">0</td><td class="confluenceTd">SYM-3104</td></tr><tr><td class="confluenceTd">12</td><td data-highlight-colour="#ffbdad" class="confluenceTd">wrap</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"> true (if init_txn_beat_size &lt; targ_data_width)</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true </td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><td class="confluenceTd">13</td><td rowspan="6" class="confluenceTd">axi</td><td rowspan="6" class="confluenceTd"> &lt;</td><td rowspan="6" class="confluenceTd">AXI / APB</td><td rowspan="3" class="confluenceTd">wide</td><td data-highlight-colour="#ffbdad" class="confluenceTd">fixed</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true </td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><td class="confluenceTd">14</td><td class="confluenceTd">incr</td><td class="confluenceTd">yes</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">true </td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">0</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">15</td><td data-highlight-colour="#ffbdad" class="confluenceTd">wrap</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true </td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><td class="confluenceTd">16</td><td rowspan="3" class="confluenceTd">narrow</td><td data-highlight-colour="#ffbdad" class="confluenceTd">fixed</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true </td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><td class="confluenceTd">17</td><td class="confluenceTd">incr</td><td class="confluenceTd">yes</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">true </td><td class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td class="confluenceTd">0</td><td class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">18</td><td data-highlight-colour="#ffbdad" class="confluenceTd">wrap</td><td data-highlight-colour="#ffbdad" class="confluenceTd">yes</td><td data-highlight-colour="#ffbdad" class="confluenceTd"><br/></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">true </td><td data-highlight-colour="#ffbdad" class="confluenceTd"><p>AXI - true / false</p><p>APB - false </p></td><td data-highlight-colour="#ffbdad" class="confluenceTd">0</td><td data-highlight-colour="#ffbdad" class="confluenceTd">Low priority for R1 release</td></tr><tr><th colspan="14" class="confluenceTh"><p>Must conditions for all Exclusive transactions,</p><p>1. init axi_txn_size &lt;= pamTargMaxBurst[targid]</p><p>2. init axi_txn_size &lt;= atui.maxPduSz &amp;&amp; init axi_txn_size &lt;= atut.maxPduSz</p><p>3. axlen &lt; 16</p><p>4. axaddr % axi_txn_size == 0</p><p>5. axi_txn_size inside {1,2,4,8,16,32,64,128}<br/><br/></p><p style="margin-left: 30.0px;">where axi_txn_size = (axi_txn.axlen + 1) * math.pow(2,axi_txn.axsize)</p></th></tr></tbody></table></div><h1 id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-ConditionsInWhichASlaveErrorResponseforExclusiveTransactionWouldBeIssued:"><strong>Conditions In Which A Slave Error Response for Exclusive Transaction Would Be Issued: </strong></h1><ol><li><p>Whenever the ATUi will split a transaction into two or more transactions. </p></li><li>ATUt will only issue a slave error response when the following happens: ATUt splits a transaction &amp;&amp; ATUt does not have a exclusive monitor. (note ATUt will split Fixed and Wrap transactions if they are greater than 16 beats and the incr if it is greater than 256 beats)</li><li>If byte enables are not available on the target, ATUt will fail the exclusive transaction. The failure will result in a Slave error being sent back. </li></ol><h1 id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-Symphonywillnotcheckthefollowingconditions:"><strong>Symphony will not check the following conditions: </strong></h1><p>As per spec. these conditions result in &quot;unpredictable&quot; behavior. </p><ol><li>Whether the exclusive transaction is powers of 2. </li><li>Whether the exclusive transaction is greater than 128B</li><li>Whether the exclusive read/write pair has the same burst type. </li><li>Whether the exclusive is cacheable or not. </li><li>Whether the exclusive is aligned or not. </li></ol><p>Note: </p><p>The AXI Spec glossary has UNPREDICTABLE as:</p><p>&quot; UNPREDICTABLE</p><p>In the AMBA AXI and ACE Architecture means that the behavior cannot be relied upon.</p><p>UNPREDICTABLE behavior must not be documented or promoted as having a defined effect.&quot;</p><p><br/></p><p>&quot; D1.7.2 Hardware protocol error</p><p>A hardware protocol error is defined as any protocol error that is not a software protocol error. No support is required</p><p>for hardware protocol errors.</p><p>If a hardware protocol error occurs, then recovery from the error is not guaranteed. The system might crash, lock</p><p>up, or suffer some other non-recoverable failure.&quot;</p><p><br/></p><p><br/></p><h2 id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-ModifiableMODIFIABLEANDBUFFERABLERULES:"><span class="confluence-anchor-link" id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-Modifiable"><span class="confluence-anchor-link" id="Modifiable"></span></span><strong>MODIFIABLE AND BUFFERABLE RULES:</strong></h2><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 3.11544%;"/> <col style="width: 10.1252%;"/> <col style="width: 7.7886%;"/> <col style="width: 7.23227%;"/> <col style="width: 8.17802%;"/> <col style="width: 9.51321%;"/> <col style="width: 5.78581%;"/> <col style="width: 6.7872%;"/> <col style="width: 7.06537%;"/> <col style="width: 8.17802%;"/><col style="width: 6.28651%;"/><col style="width: 12.9068%;"/> <col style="width: 6.67594%;"/> </colgroup><tbody><tr><td colspan="13" data-highlight-colour="#f4f5f7" class="confluenceTd"><div class="content-wrapper"><p><strong>Comes from JIRA</strong> 
    

            

    <span class="aui-message aui-message-warning jim-error-message jim-error-message-single">
        <span class="icon-in-pdf"></span>
                            Unable to locate Jira server for this macro. It may be due to Application Link configuration.
            </span>
</p></div></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">Sr No.</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">aXcache</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">a) Bufferable</strong><br title=""/><strong title="">- Write resp can be received from intermediate point</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">b) Write txn must be </strong><br title=""/><strong title="">made visible at the </strong><br title=""/><strong title="">final destination</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">c) Modifiable</strong><br title=""/><strong title="">- Read can fetch more data than required</strong><br title=""/><strong title="">- Write merge allowed</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">d) Read data can be obtained</strong><br title=""/><strong title="">from write txn progressing to final destination </strong><br title=""/><strong title="">- most recent write </strong><br title=""/><strong title="">- data must not be cached to service later</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">e) Read </strong><br title=""/><strong title="">prefectch</strong><br title=""/><strong title="">allowed</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">f) Read data must </strong><br title=""/><strong title="">be from final destination</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">g) A cache lookup </strong><br title=""/><strong title="">is required for </strong><br title=""/><strong title="">read and write </strong><br title=""/><strong title="">transactions</strong></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">h) Do Interconnect support it?</strong></td><td colspan="1" data-highlight-colour="#f4f5f7" class="confluenceTd"><p><strong>i) Control</strong></p><p><strong>Parameter</strong></p></td><td colspan="1" data-highlight-colour="#f4f5f7" class="confluenceTd"><p><strong>j) What to Verify?</strong></p><p><strong>(Other than regular tests)</strong></p></td><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong title="">k) Comments (if any)</strong></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>1</strong></td><td class="confluenceTd"><strong>Device Non-bufferable</strong><br/>awcache = 0000<br/>arcache = 0000</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>2</strong></td><td class="confluenceTd"><strong>Device Bufferable</strong><br/>awcache = 0001<br/>arcache = 0001</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd">enBufWrite</td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Early write resp as per cell <strong>2xa</strong></p><p><strong>3)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><p>enBufWrite</p><p>must be asserted.</p></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>3</strong></td><td class="confluenceTd"><strong>Normal Non-cacheable Non-bufferable</strong><br/>awcache = 0010<br/>arcache = 0010</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Transform aXsize, aXaddr as per Common Layer to Common Layer Transformations</p><p><strong>3)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>4</strong></td><td class="confluenceTd"><strong>Normal Non-cacheable Bufferable</strong><br/>awcache = 0011<br/>arcache = 0011</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd">enBufWrite</td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Early write resp as per cell <strong>2xa</strong></p><p><strong>3)</strong> Transform aXsize, aXaddr as per Common Layer to Common Layer Transformations</p><p><strong>4)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><p>enBufWrite</p><p>must be asserted.</p><p><br/></p></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>5</strong></td><td class="confluenceTd"><strong>Write-through No-allocate</strong><br/>awcache = 0110<br/>arcache = 1010</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>6</strong></td><td class="confluenceTd"><strong>Write-through Read-allocate</strong><br/>awcache = 0110<br/>arcache = 1110</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>7</strong></td><td class="confluenceTd"><strong>Write-through Write-allocate</strong><br/>awcache = 1110<br/>arcache = 1010</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>8</strong></td><td class="confluenceTd"><strong>Write-through Read and Write-allocate</strong><br/>awcache = 1110<br/>arcache = 1110</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>9</strong></td><td class="confluenceTd"><strong>Write-back No-allocate</strong><br/>awcache = 0111<br/>arcache = 1011</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>10</strong></td><td class="confluenceTd"><strong>Write-back Read-allocate</strong><br/>awcache = 0111<br/>arcache = 1111</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>11</strong></td><td class="confluenceTd"><strong>Write-back Write-allocate</strong><br/>awcache = 1111<br/>arcache = 1011</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr><tr><td data-highlight-colour="#f4f5f7" class="confluenceTd"><strong>12</strong></td><td class="confluenceTd"><strong>Write-back Read and Write-allocate</strong><br/>awcache = 1111<br/>arcache = 1111</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td class="confluenceTd">Yes</td><td class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p><strong>1)</strong> aXcache to Pass through</p><p><strong>2)</strong> Splitting behavior should be as per splitting rules</p></td><td class="confluenceTd"><br/></td></tr></tbody></table></div><p><br/></p><p><a href="/wiki/spaces/ENGR/pages/16161924/Native+Layer+Rules+Constraints+Understand+from+Design+and+Architecture+Teams?preview=%2F16161924%2F16264916%2FAXT+Target+Splitting+Replacing+pamTargMaxBurst+for+AXI+Rule+Enforcement.pdf"><span style="background: url('/wiki/s/-672721829/6452/d621ad2a33e27b90ca05c475b216bfab745e08a2/1000.0.0-d621ad2a33e2/_/download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-medium-pdf.png'); width: 333px; height: 95px; display: inline-block; padding-top: 155px; margin: 2px; border: 1px solid #ddd; text-align: center; vertical-align: text-bottom; text-decoration: none; font-size: 12px; color: #000;">AXT Target Splitting Rep…</span></a></p><h1 id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-AXINativeLayerTransformations:"><strong>AXI Native Layer Transformations:</strong></h1><ul style="list-style-type: square;"><li>If an AXI ATUT gets a WRAP that is a single beat, it must be converted to an INCR covering the same bytes. (burst field is transformed from WRAP to INCR)</li></ul><p><br/></p><h3 id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-JirasJIRATASKsTOGETINFORMATION/CLARIFICATIONONARCH,UARCHANDRTLIMPLEMENTATION:"><span class="confluence-anchor-link" id="NativeLayerRules&amp;ConstraintsUnderstandfromDesignandArchitectureTeams:-Jiras"><span class="confluence-anchor-link" id="Jiras"></span></span>JIRA TASKs TO GET INFORMATION / CLARIFICATION ON ARCH, UARCH AND RTL IMPLEMENTATION:</h3><p>
    

            

        
     <div class="jim-error-message jim-error-message-table">
        <table class="aui">
            <tbody>
                                <tr></tr>

                <tr>
                                        <th>key</th>
                                        <th>summary</th>
                                        <th>type</th>
                                        <th>created</th>
                                        <th>updated</th>
                                        <th>due</th>
                                        <th>assignee</th>
                                        <th>reporter</th>
                                        <th>priority</th>
                                        <th>status</th>
                                        <th>resolution</th>
                                    </tr>

                <tr>
                    <td colspan="11">
                        <div class="aui-message aui-message-warning">
                            <p class="message">
                                <span class="icon-in-pdf"></span>
                                Unable to locate Jira server for this macro. It may be due to Application Link configuration.
                            </p>
                                                    </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</p>