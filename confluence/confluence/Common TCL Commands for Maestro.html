<p>Tcl commands can be used to create a design in Maestro. Here is an example how to create a design using TCL in the &quot;config_design.tcl&quot;.</p><p><code>
    <span class="legacy-color-text-green4">#set the design name. Output mpf will use this name</span>
  </code> <br/> <code>set designName &quot;hw_config_two&quot;</code> <br/> <br/> <code> <span class="legacy-color-text-green4">#create the project hierarchy</span>
  </code> <br/> <code>set designEnv [Project::create_proj $designName]</code></p><p><code>
    <span class="legacy-color-text-green4">#set the number of networks. This case is 2 networks: 1 non-data, 1 data networks</span>
  </code> <br/> <code>Project::set_coherentTemplate &quot;EARamp&quot;</code></p><p><br/> <code>
    <span class="legacy-color-text-green4">#create a clock with name &quot;clk_1_2GHz&quot; with freq 1200000 (1.2 GHz)</span>
  </code> <br/> <code>set default_clock [Project::create_clock &quot;clk_1_2GHz&quot;
1200000 ]</code></p><p><br/> <code>
    <span class="legacy-color-text-green4">#show various methods to access the created units</span>
  </code> <br/> <code>
    <span class="legacy-color-text-green4">#create 1 caiu. The name prefix is &quot;caiu&quot;. The actual names will have a digit(s) appended. eg. caiu0 caiu1</span>
  </code> <br/> <code>
    <span class="legacy-color-text-green4">#returns a TclList of created objects. (optional)</span>
  </code> <br/> <code>
    <span class="legacy-color-text-green4">#If more than 1, change number. </span>
  </code></p><p><code>set caius [Caiu::create_units 1 &quot;caiu&quot; $designEnv]</code></p><p><br/> <code>
    <span class="legacy-color-text-green4">#Ask number of caius and set the clock to each unit</span>
  </code> <br/> <code>set n [llength $caius]</code> <br/> <code> for
{set i 0} {$i &lt; $n} {incr i} {</code> <br/> <code>  
Caiu::set_clock $i $default_clock</code> <br/> <code> }</code></p><p><br/> <code>
    <span class="legacy-color-text-green4">#create 1 ncaiu and set the clock.</span>
  </code> <br/> <code>set ncaius [Ncaiu::create_units 1
&quot;ncaiu&quot; $designEnv]</code> <br/> <code> foreach
unit $ncaius {</code> <br/> <code>  
update_object -name $unit -bind $default_clock</code> <br/> <code> }</code></p><p><br/> <code>
    <span class="legacy-color-text-green4">#create DMIs</span>
  </code> <br/> <code>set dmis [Dmi::create_units 1 &quot;dmi&quot; $designEnv]</code> <br/> <code>set
n [llength $dmis]</code> <br/> <code>for
{set i 0} {$i &lt; $n} {incr i} {</code> <br/> <code> 
set unit [Dmi::get_unit $i]</code> <br/> <code> 
update_object -name $unit -bind $default_clock</code> <br/> <code>}</code></p><p><br/> <code>
    <span class="legacy-color-text-green4">#create DIIs, not storing the return value</span>
  </code> <br/> <code>Dii::create_units 1 &quot;dii&quot; $designEnv</code> <br/> <code> </code> <br/> <code>
    <span class="legacy-color-text-green4">#get the number of created units using ::number_of_units</span>
  </code> <br/> <code>for {set i 0} {$i &lt; [Dii::number_of_units]}
{incr i} {</code> <br/> <code>  
set unit [Dmi::get_unit $i]</code> <br/> <code>  
update_object -name $unit -bind $default_clock</code> <br/> <code> }</code> <br/> <br/> <code> <span class="legacy-color-text-green4">#create one snoop filter</span>
  </code> <br/> <code>set nSnoopFilters 1</code> <br/> <code> set
snoopFilterConfig [list $caius ] ; # Here we are assigning all CAIUs to the
snoopFilter</code> <br/> <br/> <code>
    <span class="legacy-color-text-green4">#create DCEs and assign snoop filter to it</span>
  </code> <br/> <code> set dces [Dce::create_units 1 &quot;dce&quot; $designEnv]</code> <br/> <code> set n [llength $dces]</code> <br/> <code> for {set i 0} {$i &lt; $n} {incr i} {</code> <br/> <code>   Dce::set_clock $i $default_clock</code> <br/> <code>  
Dce::set_unit_attribute $i Dce::set_snoopFilters $nSnoopFilters</code> <br/> <code> }</code></p><p><br/> <code>
    <span class="legacy-color-text-green4">#create DVEs</span>
  </code> <br/> <code>set
dves [Dve::create_units 1 &quot;dve&quot; $designEnv]</code> <br/> <code> foreach unit $dves {</code> <br/> <code>   update_object -name $unit -bind
$default_clock</code> <br/> <code> }</code> <br/> <br/> <code> set chip [Project::get_chip]</code> <br/> <code> set memorymap 
 [create_object -type memory_map -name &quot;mm&quot; -parent $chip]</code> <br/> <code> set memoryset 
 [create_object -type memory_set   -parent
$memorymap -name ms0]</code> <br/> <code> set memoryGroup [create_object -type
memory_group -parent $memoryset -name mg00]</code> <br/> <code> update_object -name $memoryGroup
-value_list $dmis</code></p><p> </p><p> </p><p>Maestro has 5 common types of interface units:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Unit</th><th class="confluenceTh">Unit</th><th class="confluenceTh"> </th></tr><tr><td class="confluenceTd">caiu</td><td class="confluenceTd">Coherent units</td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd">ncaiu</td><td class="confluenceTd"><p>Non-coherent units</p><p>(can be configured to</p><p>coherent by setting</p><p>parameter:</p></td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd">dii</td><td class="confluenceTd">Distributed I/O Interface</td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd">dmi</td><td class="confluenceTd">Distributed Memory Interface</td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd">dce</td><td class="confluenceTd">Distributed Coherency Engine</td><td class="confluenceTd"> </td></tr></tbody></table></div><p>For each of the units, there is a &quot;create_obj&quot; command to create the object. For example:</p><p>Caiu::create_obj</p><p>Ncaiu::create_obj</p><p>Dii::create_obj</p><p>Dmi::create_obj</p><p>Dce::create_obj</p><p>Syntax: create_obj</p><p>create_obj $name </p><p>proc Caiu::create_obj  $name unit_parent unit_params socket_protocol socket_parent socket_params} </p><p>proc Caiu::create_units { n name designEnv }</p><p>package require Socket_AceLite 1.0<br/>package require Socket_AceLiteE 1.0<br/>package require Socket_AXI 1.0<br/>package require Socket_CHI 1.0</p>