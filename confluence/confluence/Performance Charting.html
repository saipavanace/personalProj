<p><style>[data-colorid=et35rvy7ky]{color:#666666} html[data-color-mode=dark] [data-colorid=et35rvy7ky]{color:#999999}[data-colorid=dgrw0r19bn]{color:#666666} html[data-color-mode=dark] [data-colorid=dgrw0r19bn]{color:#999999}[data-colorid=ndy4h081kv]{color:#666666} html[data-color-mode=dark] [data-colorid=ndy4h081kv]{color:#999999}</style>Simulation based performance metrics and charting.</p><h2 id="PerformanceCharting-DEVnotes">DEV notes</h2><p>POC &lt;--&nbsp;<a class="external-link" href="http://dev01.arteris.com/~drom/apf/" rel="nofollow">http://dev01.arteris.com/~drom/apf/</a></p><h3 id="PerformanceCharting-Eventreporting">Event reporting</h3><p>Reporting from Verilated / AT SystemC.</p><p>Getting all internal signals before they get uglified?</p><p>Trigger / report events via $dispaly?</p><h3 id="PerformanceCharting-APFparsing">APF parsing</h3><p>Extract bird-eye-view diagram SVG</p><p>Extract clocks / clock frequencies</p><h3 id="PerformanceCharting-Eventlogparsing">Event log parsing</h3><p>Based on information from APF</p><h3 id="PerformanceCharting-Charting">Charting</h3><p><a class="external-link" href="https://d3js.org/" rel="nofollow">https://d3js.org/</a>&nbsp;&ndash;&nbsp;D3</p><p><a class="external-link" href="http://crossfilter.github.io/crossfilter/" rel="nofollow">http://crossfilter.github.io/crossfilter/</a>&nbsp;&ndash;&nbsp;Fast Multidimensional Filtering for Coordinated Views</p><p><a class="external-link" href="https://dc-js.github.io/dc.js/" rel="nofollow">https://dc-js.github.io/dc.js/</a>&nbsp;&ndash;&nbsp;dc.js - Dimensional Charting Javascript Library</p><h3 id="PerformanceCharting-Query">Query</h3><p><a class="external-link" href="https://github.com/crossfilter/universe" rel="nofollow">https://github.com/crossfilter/universe</a>&nbsp;&ndash;&nbsp;The fastest way to query and explore multivariate datasets</p><p><a class="external-link" href="https://github.com/crossfilter/reductio" rel="nofollow">https://github.com/crossfilter/reductio</a>&nbsp;&ndash;&nbsp;<span>Reductio is a library for generating Crossfilter reduce functions and applying them to Crossfilter groups</span></p><h3 id="PerformanceCharting-Interact">Interact</h3><p><a class="external-link" href="https://github.com/nteract/nteract" rel="nofollow">https://github.com/nteract/nteract</a>&nbsp;&ndash;&nbsp;<span data-colorid="et35rvy7ky">Interactive literate coding notebook!</span></p><p><span data-colorid="dgrw0r19bn"><a class="external-link" href="https://github.com/plotly/plotly.js" rel="nofollow">https://github.com/plotly/plotly.js</a>&nbsp;&ndash;&nbsp;<span data-colorid="ndy4h081kv">graphing library that powers plotly</span></span></p><h3 id="PerformanceCharting-MISC">MISC</h3><p>Analytical performance model.</p><p>&nbsp;</p><p>---------------</p><p>&nbsp;</p><h3 id="PerformanceCharting-REQUIREMENTFROMFIELD:WHATMETRICSWEWANTTOEXTRACTFROMTHEMODEL"><strong>REQUIREMENT FROM FIELD: WHAT METRICS WE WANT TO EXTRACT FROM THE MODEL</strong></h3><p class="p1"><span class="s1">This is a preliminary list. I know these metrics are not what is going to be in the log files; this is the result after some post-processing.</span></p><p class="p1"><span class="s1">But I will let to Rohit and Aliaksei to define, for each of this metrics, what events they need to record (and what processing need to be done on them to obtain the metric).</span></p><p class="p1">&nbsp;</p><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s2"><strong>Resources</strong></span></p><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1">NCB /&nbsp;Proxy cache:</span></p><ul class="ul1"><li class="li1"><span class="s1">Hit rate</span></li><li class="li1"><span class="s1">Evictions rate</span></li><li class="li1"><span class="s1">Per set way&nbsp;occupancy (number of ways for each set that have a valid line)</span></li><li class="li1"><span class="s1">Number of outstanding transactions (RD/WR)</span></li><li class="li1"><span class="s1">Data buffer occupancy</span></li><li class="li1"><span class="s1">Skid Buffers occupancy</span></li></ul><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1">CAI</span></p><ul class="ul1"><li class="li1"><span class="s1">Number of outstanding transactions (RD/WR)</span></li><li class="li1"><span class="s1">Data buffer occupancy</span></li><li class="li1"><span class="s1">ID collision tracking (#of outstanding coherent &amp; non-coherent transactions with the same ID;&nbsp;#of outstanding non-coherent transactions with the same ID,&nbsp;#of outstanding non-coherent different ID)</span></li><li class="li1"><span class="s1">Skid Buffers occupancy</span></li></ul><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1">CMI</span></p><ul class="ul1"><li class="li1"><span class="s1">Number of outstanding transactions (RD/WR)</span></li><li class="li1"><span class="s1">Data buffer occupancy</span></li><li class="li1"><span class="s1">Hint Buffer occupancy</span></li><li class="li1"><span class="s1">#of outstanding hint requests</span></li><li class="li1"><span class="s1">Skid Buffers occupancy</span></li></ul><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1">Directory</span></p><ul class="ul1"><li class="li1"><span class="s1">Back invalidation rate</span></li><li class="li1"><span class="s1">#of outstanding transactions</span></li><li class="li1"><span class="s1">#of used exclusive monitors</span></li><li class="li1"><span class="s1">Skid Buffers occupancy</span></li><li class="li1"><span class="s1">Per filter / set / way occupancy</span></li><li class="li1"><span class="s1">#of lines shared (filtering per CAI)</span></li></ul><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s2"><strong>Traffic:</strong></span></p><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1">Internal and external&nbsp;Interface (ports)&nbsp;<strong>occupancy</strong>:</span></p><ul class="ul1"><li class="li1"><span class="s1">%of cycles with a request/data/response accepted immediately</span></li><li class="li1"><span class="s1">%of cycles with a&nbsp;requests/data/response not accepted</span></li><li class="li1"><span class="s1">%of cycles with no request/data/response</span></li><li class="li1"><span class="s1">%of cycles where data could be presented but was not (bubble)</span></li></ul><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1"><strong>Unit</strong>&nbsp;back-pressure cause&nbsp;</span></p><ul class="ul1"><li class="li1"><span class="s1">% of cycles where interface was back-pressured because of ID collision</span></li><li class="li1"><span class="s1">% of cycles where interface was back-pressured because of a shortage in context entries</span></li></ul><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1"><strong>Traffic</strong>&nbsp;<strong>bandwidth</strong>&nbsp;at all external&nbsp;interfaces: ACE, AXI bypass, AXI to NCB, AXI from CMI. Filtering:</span></p><ul class="ul1"><li class="li1"><span class="s1">Per command type (RD, WR)</span></li><li class="li1"><span class="s1">Per (source,&nbsp;destination)</span></li><li class="li1"><span class="s1">Per attribute (shareable/non-shareable, secure/non-secure)</span></li><li class="li1"><span class="s1">Per address range</span></li></ul><p class="p1"><span class="s1"><strong>Burst size</strong>&nbsp;at all external&nbsp;interfaces: ACE, AXI bypass, AXI to NCB, AXI from CMI</span></p><p class="p1"><span class="s1"><strong>Snoop bandwidth</strong>&nbsp;at ACE interface. Filtering:</span></p><ul class="ul1"><li class="li1"><span class="s1">snoop request&nbsp;</span></li><li class="li1"><span class="s1">snoop response &nbsp;</span></li><li class="li1"><span class="s1">snoop data&nbsp;</span></li></ul><p class="p1"><span class="s1"><strong>Message bandwidth</strong>&nbsp;at CCTI interfaces. Filtering:</span></p><ul class="ul1"><li class="li1"><span class="s1">per message type</span></li><li class="li1"><span class="s1">per (source, destination)</span></li></ul><p class="p1"><span class="s1">&nbsp;</span></p><p class="p1"><span class="s1">&nbsp;</span></p><p class="p2"><span class="s1">&nbsp;</span></p><p>&nbsp;</p>