<style type='text/css'>/*<![CDATA[*/
div.rbtoc1759724842942 {padding: 0px;}
div.rbtoc1759724842942 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724842942 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759724842942'>
<ul class='toc-indentation'>
<li><a href='#DCEErrorTestPlan-Errors'>Errors</a>
<ul class='toc-indentation'>
<li><a href='#DCEErrorTestPlan-SnpRsp.cmstatusError'>SnpRsp.cmstatus Error</a>
<ul class='toc-indentation'>
<li><a href='#DCEErrorTestPlan-Stimulus/Checks:'>Stimulus/Checks:</a></li>
<li><a href='#DCEErrorTestPlan-FunctionalCoverage:'>Functional Coverage:</a></li>
</ul>
</li>
<li><a href='#DCEErrorTestPlan-MrdRsp.cmstatusError'>MrdRsp.cmstatus Error</a>
<ul class='toc-indentation'>
<li><a href='#DCEErrorTestPlan-Stimulus/Checks:.1'>Stimulus/Checks:</a></li>
<li><a href='#DCEErrorTestPlan-FunctionalCoverage:.1'>Functional Coverage:</a></li>
</ul>
</li>
<li><a href='#DCEErrorTestPlan-DecodeError'>Decode Error</a></li>
<li><a href='#DCEErrorTestPlan-TimeoutError'>Timeout Error</a></li>
<li><a href='#DCEErrorTestPlan-WrongTargetID'>Wrong Target ID</a></li>
<li><a href='#DCEErrorTestPlan-DirectoryError'>Directory Error</a></li>
</ul>
</li>
</ul>
</div><h1 id="DCEErrorTestPlan-Errors">Errors</h1><h2 id="DCEErrorTestPlan-SnpRsp.cmstatusError">SnpRsp.cmstatus Error</h2><h3 id="DCEErrorTestPlan-Stimulus/Checks:">Stimulus/Checks:</h3><div class="table-wrap"><table data-layout="full-width" data-local-id="79fe45d2-f08e-4be1-bfa1-828e08aec427" class="confluenceTable"><colgroup><col style="width: 200.0px;"/><col style="width: 200.0px;"/><col style="width: 200.0px;"/><col style="width: 200.0px;"/><col style="width: 200.0px;"/><col style="width: 200.0px;"/><col style="width: 200.0px;"/><col style="width: 200.0px;"/><col style="width: 200.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash Tag</strong></p></th><th class="confluenceTh"><p><strong>Test Case</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>Non-Invalidating Reads (RdVld, RdCln, RdNSD and RdNITC) SnpRsp.Err from owner.</p></td><td class="confluenceTd"><p>DCE propagate error on STRReq and no DTR to requestor. DM Cmt req do not invalidate agent which sent error</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.NonInvRds</p></td><td class="confluenceTd"><p>runsim -e dce -t rd_non_inv_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>RdUnq - Invalidating Read</p></td><td class="confluenceTd"><p>DCE propagate error on STRReq and no DTR to requestor. DM Cmt req invalidate agent which sent error</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.RdUnq</p></td><td class="confluenceTd"><p>runsim -e dce -t rd_unq_sharer_SNPrsp_data_error</p><p>runsim -e dce -t rd_unq_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>RdNITCCI and RdNITCMI</p></td><td class="confluenceTd"><p>DCE propagate error on STRReq and no DTR to requestor. DM Cmt req invalidate agent which sent error</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.NITCs</p></td><td class="confluenceTd"><p>runsim -e dce -t rd_nitc_inv_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>WrUnq Owner/Sharer SnpRsp.Err</p></td><td class="confluenceTd"><p>DCE suppress error propagation on STRReq and allow DTW</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.WRUNQ</p></td><td class="confluenceTd"><p>runsim -e dce -t wrunq_ptl_SNPrsp_data_error</p><p>runsim -e dce -t wrunq_ptl_sharer_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Read stash SnpRsp err in target snp</p></td><td class="confluenceTd"><p>DCE issue STRReq with CMStatus Err and no DTR</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.RdStsh</p></td><td class="confluenceTd"><p>runsim -e dce -t rd_stash_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Read stash Unique (snarf=1) owner/sharer SnpRsp.Err</p></td><td class="confluenceTd"><p>DCE suppress error propagation on STRReq and issue Mrd for DTR completion and invalidate the agent which sent error</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.RdStshUnq</p></td><td class="confluenceTd"><p>runsim -e dce -t rd_stash_snarf1_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Read stash Shd (snarf=1) owner SnpRsp.Err</p></td><td class="confluenceTd"><p>DCE suppress error propagation on STRReq and issue Mrd for DTR completion and do not invalidate the agent which sent error</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.RdStshShd</p></td><td class="confluenceTd"><p>runsim -e dce -t rd_stash_shd_snarf1_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Write stash (snarf=1) owner/sharer SnpRsp.Err</p></td><td class="confluenceTd"><p>DCE suppress error propagation on STRReq and allow DTW/DTR</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.WrStsh_NonTarget</p></td><td class="confluenceTd"><p>runsim -e dce -t wr_stash_ptl_snarf1_SNPrsp_data_error</p><p>runsim -e dce -t wr_stash_ptl_sharer_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Write stash Snprsp err in target snp</p></td><td class="confluenceTd"><p>DCE suppress error propagation on STRReq and allow DTW</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.WrStsh_Target</p></td><td class="confluenceTd"><p>runsim -e dce -t wr_stash_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Atomic Commands</p></td><td class="confluenceTd"><p>DCE propagate error on STRReq and no DTR to requestor. DM Cmt req invalidate agent which sent error</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.Atomics</p></td><td class="confluenceTd"><p>runsim -e dce -t atomics_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Clean Commands</p></td><td class="confluenceTd"><p>DCE propagate error on STRReq and no DTR to requestor. DM Cmt req invalidate agent which sent error</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.Cleans</p></td><td class="confluenceTd"><p>runsim -e dce -t cleans_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>cmo commands</p></td><td class="confluenceTd"><p>DCE propagate error on STRReq and no DTR to requestor. DM Cmt req invalidate agent which sent error</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.Cmos</p></td><td class="confluenceTd"><p>runsim -e dce -t cmos_SNPrsp_data_error</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Random Test</p><p>Test issues SnpRsp.Err's randomly along with normal traffic</p></td><td class="confluenceTd"><p>For Invalidating Snp Types DM CMT req will invalidate agent which sends err and for non-invalidating Snp Types DM CMT req do not invalidate agent which sends err</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.SnpRspErr.Random</p></td><td class="confluenceTd"><p>runsim -e dce -t all_ops_w_cm_err</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h3 id="DCEErrorTestPlan-FunctionalCoverage:">Functional Coverage:</h3><div class="table-wrap"><table data-layout="full-width" data-local-id="3b615d18-99b9-4444-aa29-b5463165d038" class="confluenceTable"><colgroup><col style="width: 257.0px;"/><col style="width: 191.0px;"/><col style="width: 224.0px;"/><col style="width: 224.0px;"/><col style="width: 224.0px;"/><col style="width: 224.0px;"/><col style="width: 224.0px;"/><col style="width: 224.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash Tag</strong></p></th><th class="confluenceTh"><p><strong>TB Location</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>Cover Point for all the SnpReq types</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Cover.DCE.SnpRspErr.SnpReq</p></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cover Point for SnpRsp Err Type</p><ul><li><p>Address Error</p></li><li><p>Data Error</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Cover.DCE.SnpRspErr.Type</p></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cover Point for DT_AIU (Data transferred from Snooper to requestor)</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Cover.DCE.SnpRspErr.DT_done</p></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cover Point for StrReq Err Type</p><ul><li><p>Address Error</p></li><li><p>Data Error</p></li><li><p>No Error</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Cover.DCE.SnpRspErr.StrReq_Err</p></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Per Snoop Type</p><p>Cross SnpRsp.Err, DT_AIU, Owner/Sharer, Snarf (If applicable), StrReq.Err</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Cover.DCE.SnpRspErr</p></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h2 id="DCEErrorTestPlan-MrdRsp.cmstatusError">MrdRsp.cmstatus Error</h2><h3 id="DCEErrorTestPlan-Stimulus/Checks:.1">Stimulus/Checks:</h3><div class="table-wrap"><table data-layout="full-width" data-local-id="742cfff9-68d5-4c47-aaf3-09ef1f68f78c" class="confluenceTable"><colgroup><col style="width: 216.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash Tag</strong></p></th><th class="confluenceTh"><p><strong>Test Case</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td rowspan="2" class="confluenceTd"><p /><p /><p /><p /><p /><p /><p>MrdRsp.Err for CMO (MrdFlush or MrdCln)</p></td><td class="confluenceTd"><ul><li><p>Generate MRDrsp data error from DCE slave sequence to have CMstatus = 8'b10_0_00_011 using knob &quot;Mrdrsp_data_err_in_cmstatus&quot;.<br/></p></li><li><p>DCE issue STRreq with propagated data error in CMstatus = 8'b10_0_00_011.</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.MrdRspErr.data_err</p></td><td class="confluenceTd"><p>runsim -e dce -t Mrdrsp_data_error_in_cm_status</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><ul><li><p>Generate MRDrsp address error from DCE slave sequence to have CMstatus = 8'b10_0_00_100 using knob &quot;Mrdrsp_address_err_in_cmstatus<br/></p></li><li><p>DCE issue STRreq with propagated address error in CMstatus = 8'b10_0_00_100 .</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.MrdRspErr.address_err</p></td><td class="confluenceTd"><p>runsim -e dce -t Mrdrsp_address_error_in_cm_status</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h3 id="DCEErrorTestPlan-FunctionalCoverage:.1">Functional Coverage:</h3><div class="table-wrap"><table data-layout="full-width" data-local-id="7398c88a-2b7a-475e-9234-d36564667539" class="confluenceTable"><colgroup><col style="width: 85.0px;"/><col style="width: 85.0px;"/><col style="width: 85.0px;"/><col style="width: 85.0px;"/><col style="width: 85.0px;"/><col style="width: 85.0px;"/><col style="width: 85.0px;"/><col style="width: 85.0px;"/></colgroup><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p>Scenario</p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p>Ref Doc</p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p>Hash Tag</p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p>Tb Location</p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p>Priority </p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p>Implemented </p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p>Status</p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p>Remarks</p></th></tr><tr><td class="confluenceTd"><p>Cover Point for MrdReq type</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cover Point for MrdRsp Err Type</p><ul><li><p>Address Error</p></li><li><p>Data Error</p></li><li><p>No Error</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cover Point for StrReq Err Type</p><ul><li><p>Address Error</p></li><li><p>Data Error</p></li><li><p>No Error</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cross MrdReq, MrdRsp.Err, StrReq.Err</p></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>dce_coverage</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h2 id="DCEErrorTestPlan-DecodeError">Decode Error</h2><div class="table-wrap"><table data-layout="full-width" data-local-id="65edf132-56ef-4592-91e0-64e926b2e20f" class="confluenceTable"><colgroup><col style="width: 216.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash Tag</strong></p></th><th class="confluenceTh"><p><strong>Test Case</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>Attempt to access a target hitting multiple address</p><p>regions</p></td><td class="confluenceTd"><ul><li><p>Get random addresses with same index in user address queue &quot;addrMgrConst::user_addrq[addrMgrConst::COH]&quot; using address manager function &quot;set_dce_sf_fix_index_in_user_addrq&quot;, those addresses will be used for txns to generate recall request, also this function gives the selected address region map index for which random addresses are generated.</p></li><li><p>Configure all GPRs with same Addr_Low and Addr_High for selected address region map index.</p></li><li><p>Set DecErrDetEn and DecErrIntEn to 1.</p></li><li><p>Poll DCEUUESR_ErrVld to assert.</p></li><li><p>Compare <strong>ErrInfo</strong>.</p><ul><li><p>[3:0] – <strong>’b0001: Multiple address hit</strong></p><ul><li><p>[4] – Command Type (Reserved for CHI-AIU &amp; DCE)</p></li></ul><ul><li><p>[5] – Reserved </p></li><li><p>[15:6] –Transaction ID/AXID (Reserved for<br/>DCE</p></li></ul></li></ul></li><li><p>Compare <strong>ErrType = 0x7.</strong></p></li><li><p><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall request address</strong></p></li><li><p>Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.DecodeErr.Multiple_addr</p></td><td class="confluenceTd"><p>runsim -e dce -t csr_addr_region_overlap_test</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>CONC-6276, CONC-6508</p></td></tr><tr><td class="confluenceTd"><p>Unmapped address access</p></td><td class="confluenceTd"><ul><li><p>Generate AddrLow and AddrHigh which will be outside of all memory regions and configure all GPRs with same AddrLow and AddrHigh.</p></li><li><p>Set DecErrDetEn and DecErrIntEn to 1.</p></li><li><p>Poll DCEUUESR_ErrVld to assert.</p></li><li><p>Compare <strong>ErrInfo</strong>.</p><ul><li><p>[3:0] – <strong>’b0000: No address hit</strong></p><ul><li><p>[4] – Command Type (Reserved for CHI-AIU &amp; DCE)</p></li></ul><ul><li><p>[5] – Reserved </p></li><li><p>[15:6] – Transaction ID/AXID (Reserved for DCE</p></li></ul></li></ul></li><li><p>Compare <strong>ErrType = 0x7.</strong></p></li><li><p><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWord, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall address</strong></p></li><li><p>Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.DecodeErr.Unmapped_addr</p></td><td class="confluenceTd"><p>runsim -e dce -t csr_no_addr_hit_in_addr_map_test</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>CONC-6276, CONC-6508</p></td></tr><tr><td class="confluenceTd"><p>No Credits Configured</p></td><td class="confluenceTd"><ul><li><p>Program Zero credits to Random connected DMI and issue read commands</p></li><li><p>Set DecErrDetEn and DecErrIntEn to 1.</p></li><li><p>Poll DCEUUESR_ErrVld to assert.</p></li><li><p>Compare <strong>ErrInfo</strong>.</p><ul><li><p>[3:0] – <strong>’b0111: No Credits configured</strong></p><ul><li><p>[4] – Command Type (Reserved for CHI-AIU &amp; DCE)</p></li></ul><ul><li><p>[5] – Reserved </p></li><li><p>[15:6] – Transaction ID/AXID (Reserved for DCE</p></li></ul></li></ul></li><li><p>Compare <strong>ErrType = 0x7.</strong></p></li><li><p><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWord, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall address</strong></p></li><li><p>Wait for <strong>IRQ_UC</strong> to assert.</p></li><li><p>DCE must issue an address error with in the</p></li><li><p>cmstatus field of the StrReq.</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.DecodeErr.NoCrdits</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Unconnected DMI access</p></td><td class="confluenceTd"><ul><li><p>Get random addresses with same index in user address queue &quot;addrMgrConst::user_addrq[addrMgrConst::COH]&quot; using address manager function &quot;set_dce_sf_fix_index_in_user_addrq&quot;, those addresses will be used for txns to generate recall request, also this function gives the selected address region map index for which random addresses are generated.</p></li><li><p>Configure all GPRs with unconnected DMI ID</p></li><li><p>Set DecErrDetEn and DecErrIntEn to 1.</p></li><li><p>Poll DCEUUESR_ErrVld to assert.</p></li><li><p>Compare <strong>ErrInfo</strong>.</p><ul><li><p>[3:0] – <strong>’b0100: unconnected DMI unit access</strong></p><ul><li><p>[4] – Command Type (Reserved for CHI-AIU &amp; DCE)</p></li></ul><ul><li><p>[5] – Reserved </p></li><li><p>[15:6] –Transaction ID/AXID (Reserved for<br/>DCE</p></li></ul></li></ul></li><li><p>Compare <strong>ErrType = 0x7.</strong></p></li><li><p><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall request address</strong></p></li><li><p>Wait for <strong>IRQ_UC</strong> to assert.</p></li><li><p>DCE needs to drop the recall transaction, i.e., pretend it finished successfully.</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>N/A</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>Not possible in DCE</p></td></tr></tbody></table></div><h2 id="DCEErrorTestPlan-TimeoutError">Timeout Error</h2><div class="table-wrap"><table data-layout="full-width" data-local-id="2a3f4ee4-357b-4975-8bb3-fa23f773f249" class="confluenceTable"><colgroup><col style="width: 216.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash Tag</strong></p></th><th class="confluenceTh"><p><strong>Test Case</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>ATT timeout error for recall request</p></td><td class="confluenceTd"><ul><li><p>Set <strong>DCEUUEDR.TimeoutErrDetEn</strong> and <strong>DCEUUEIR.TimeoutErrIntEn</strong> for timeout error detection and interrupt enabling.</p></li><li><p>Set timeout threshold by writing into <strong>DCEUTOCR.TimeOutThreshold</strong></p></li><li><p>Wait for recall request to be timed out by polling DCEUUESR_ErrVld</p></li><li><p>Compare <strong>ErrInfo</strong>.</p><ul><li><p>[1:0] – Reserved</p><ul><li><p>[2] – recallreq.NS  </p></li><li><p>[15:3] – Reserved</p></li></ul></li></ul></li><li><p>Compare <strong>ErrType = 0x9.</strong></p></li><li><p><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWord, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall address</strong></p></li><li><p>Wait for <strong>IRQ_UC</strong> to assert</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.TimeoutErr</p></td><td class="confluenceTd"><p>runsim -e dce -t csr_timeout_error_test</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h2 id="DCEErrorTestPlan-WrongTargetID">Wrong Target ID</h2><div class="table-wrap"><table data-layout="full-width" data-local-id="541a2a82-b9bc-4dfe-8c40-0bbb84718dd2" class="confluenceTable"><colgroup><col style="width: 216.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash Tag</strong></p></th><th class="confluenceTh"><p><strong>Test Case</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>Wrong target ID</p></td><td class="confluenceTd"><p>Generate all possible SMI messages from DCE MASTER and AIU sequences with wrong target ID on DCE's rx port.</p><p>Generate CMDreq, UPDreq, SNPrsp, STRrsp, RBUreq and RBrsp SMI messages from DCE MASTER and AIU sequences with wrong target ID on DCE's rx port.</p><ul><li><p>Check that DCE drops the transaction, logs the error and asserts interrupt.</p></li></ul><p><strong>Error injection and logging:</strong></p><ul><li><p>Target id error injection in CMDreq happens using knob &quot;wrong_cmdreq_target_id&quot;.</p></li><li><p>Target id error injection in UPDreq happens using knob &quot;wrong_updreq_target_id&quot;.</p></li><li><p>Target id error injection in SNPrsp happens using knob &quot;wrong_snprsp_target_id&quot;.</p></li><li><p>Target id error injection in STRrsp happens using knob &quot;wrong_strrsp_target_id&quot;.</p></li><li><p>Target id error injection in RBUreq happens using knob &quot;wrong_rbureq_target_id&quot;.</p></li><li><p>Target id error injection in RBrsp happens using knob &quot;wrong_rbrsp_target_id&quot;.</p></li><li><p>Target id error injection in RBrsp happens using knob &quot;wrong_sysreq_target_id&quot;.</p></li></ul><ul><li><p>Enable transport error detection by writing DCEUUEDR.TransErrDetEn = 1.</p></li><li><p>Enable transport error interrupt enable by writing DCEUUEIR.TransErrIntEn = 1</p></li><li><p><strong>DCEUUESR.ErrVld</strong> will be asserted.</p></li><li><p><strong>DCEUUESR.ErrType = 0x8</strong></p></li><li><p><strong>DCEUUESR.ErrInfo =</strong></p><ul><li><p>[0] – 1’b0 </p><ul><li><p>[5:1] – Reserved  </p></li><li><p>[15:6] – Source ID (FUnit_Id)</p></li></ul></li></ul></li><li><p><strong>IRQ_UC</strong> interrupt will be asserted.</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.WrongTargetIdErr</p></td><td class="confluenceTd"><p>runsim -e dce -t wrong_target_id_on_CMDreq</p><p>runsim -e dce -t wrong_target_id_on_UPDreq</p><p>runsim -e dce -t wrong_target_id_on_SNPrsp</p><p>runsim -e dce -t wrong_target_id_on_STRrsp</p><p>runsim -e dce -t wrong_target_id_on_RBUreq</p><p>runsim -e dce -t wrong_target_id_on_RBrsp</p><p>runsim -e dce -t wrong_target_id_on_SYSreq</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>Used CSR register sequence:&quot;dce_csr_diruuedr_TransErrDetEn_seq&quot;</p></td></tr></tbody></table></div><h2 id="DCEErrorTestPlan-DirectoryError">Directory Error</h2><div class="table-wrap"><table data-layout="full-width" data-local-id="d68d76a9-f2cd-4aad-ab53-30a6342b281c" class="confluenceTable"><colgroup><col style="width: 216.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/><col style="width: 198.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash Tag</strong></p></th><th class="confluenceTh"><p><strong>Test Case</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>DIR  Error (Un-correctable)</p></td><td class="confluenceTd"><ul><li><p>Inject double bit SF error using knob &quot;dir_double_bit_direct_tag_error_test&quot; in case of SECDED and single bit error using knob &quot;dir_single_bit_tag_direct_error_test&quot; in case of PARITY.</p></li><li><p>Enable memory error detection by writing DCEUUEDR.MemErrDetEn = 1 and DCEUUEIR.MemErrIntEn = 1.</p></li><li><p><strong>DCEUUESR.ErrVld</strong> will be asserted.</p></li><li><p><strong>DCEUUESR.ErrType = </strong>0x0</p></li><li><p><strong>DCEUUESR.ErrInfo </strong>[1:0] = 2’b11 - Snoop Filter<br/>[7:2] = reserved</p></li><li><p>[15:8] = Snoop Filter ID</p></li><li><p><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = cmd_req_addr.</strong></p></li><li><p><strong>IRQ_UC</strong> interrupt will be asserted.</p></li></ul><ul><li><p>When lookup rsp error = 1, Insert CMStatus 10000100 (address corruption error) into StrReq.</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.DirErr.UCorr</p></td><td class="confluenceTd"><p>runsim -e dce -t csr_diruuedr_MemErrDetEn_uncorr_Tagerr</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>Used CSR sequence: &quot;dce_csr_diruuedr_MemErrDetEn_seq&quot;</p></td></tr><tr><td class="confluenceTd"><p>DIR  Error (correctable)</p></td><td class="confluenceTd"><ul><li><p>Inject double bit SF error using knob &quot;dir_single_bit_tag_direct_error_test&quot; in case of SECDED.<br/></p></li><li><p>Set <strong>DCEUCECR.ErrThreshold</strong> with random number.</p></li><li><p>Set <strong>DCEUCECR.ErrDetEn</strong> = 1</p></li><li><p><strong>DCEUCECR.ErrIntEn</strong> = 1</p></li><li><p>Inject threshold number of time error in SF memory.</p></li><li><p>Check <strong>DCEUCESR.ErrVld</strong> and <strong>DCEUCESR.ErrCountOverflow</strong> should be 0.</p></li><li><p>inject one more SF memory error (errthd + 1).</p></li><li><p>Wait for <strong>DCEUCESR.ErrVld</strong> to assert.</p></li><li><p>Check <strong>DCEUCESR.ErrCountOverflow </strong>should be 0.</p></li><li><p>Check <strong>DCEUCESR.ErrType</strong> should be 0.</p></li><li><p><strong>DCEUCESR.ErrInfo</strong> [1:0] = 2’b11 - Snoop Filter<br/>[7:2] = reserved<br/>[15:8] = Snoop Filter ID</p></li><li><p><strong>{DCEUCELR1.ErrAddr, DCEUCELR0.ErrWay, DCEUCELR0.ErrEntry} = cmd_req_addr</strong>.</p></li><li><p>Check <strong>DCEUCESR.ErrCount </strong>should not be less than errthd</p></li><li><p><strong>IRQ_C</strong> interrupt will be asserted.</p></li><li><p>inject one more SF memory error (errthd + 2).</p></li><li><p>Check <strong>DCEUCESR.ErrVld</strong> and <strong>DCEUCESR.ErrCountOverflow</strong> should be 1</p></li></ul></td><td class="confluenceTd"><p>Ncore3.4 Error Architecture</p></td><td class="confluenceTd"><p>#Test.DCE.DirErr.Corr</p></td><td class="confluenceTd"><p>runsim -e dce -t csr_dircecr_single_errThd_corr_tag</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>Used CSR sequence: &quot;dce_csr_dircecr_errInt_seq&quot;</p></td></tr></tbody></table></div>