<ol><li><p>Go to or create a <em>git </em>workspace containing 'piano2' and 'bundler_piano' for the branch that you want to release.<br/>Example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: bash; gutter: false; theme: Confluence" data-theme="Confluence">git clone -b master ssh://git@stash.arteris.com:7999/piano/piano2.git
git clone -b master ssh://git@stash.arteris.com:7999/piano/bundler_piano.git</pre>
</div></div></li><li><p><span>Update the piano2/package.json with the release version string for the release (or release candidate),  E.g.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&quot;version&quot;: &quot;2.2.0-rc.3&quot;,</pre>
</div></div><p><span> </span></p></li><li><p>Commit and push the piano2 changes:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">git commit -a
git push</pre>
</div></div></li><li>Wait for the piano2 <a class="external-link" href="https://bamboo.arteris.com/browse/CON-CLIEN" rel="nofollow">Bamboo </a>build for that branch to finish.</li><li>If the Bamboo build was successful, it should now allow you to 'Deploy' the results of that build.  If you have adequate permissions to deploy the build, the right side of the build page will look like:<br/><em><strong><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="300" src="https://arterisip.atlassian.net/wiki/download/attachments/16171518/piano2-deployment.PNG?api=v2"></span></strong></em><br/><em><strong><img class="emoticon emoticon-light-on" data-emoji-id="atlassian-light_bulb_on" data-emoji-shortname=":light_bulb_on:" data-emoji-fallback=":light_bulb_on:" src="https://arterisip.atlassian.net/wiki/s/-672721829/6452/d621ad2a33e27b90ca05c475b216bfab745e08a2/_/images/icons/emoticons/lightbulb_on.png" width="16" height="16" data-emoticon-name="light-on" alt="(lightbulb)" /><br/>If the 'Create release' button isn't showing, check to make sure that you are logged in to Bamboo.</strong></em><br/><br/></li><li>Click on the <strong>Create release </strong>button.  You will be redirected to a <strong>Create new release</strong> page:<br/><br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="300" src="https://arterisip.atlassian.net/wiki/download/attachments/16171518/piano2-create-new-release.PNG?api=v2"></span><br/><br/></li><li><p>Change the <strong>This version</strong> field to a name in the form &lt;releaseName&gt;-&lt;buildNumber&gt;, e.g.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">2.2.0-rc.3-452</pre>
</div></div></li><li><p>Click on <strong>Create release</strong>.  That will bring you to a Release page, e.g.:<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="https://arterisip.atlassian.net/wiki/download/attachments/16171518/image2016-9-30%2017:22:40.png?api=v2"></span></p></li><li><p> Click on the <strong>Deploy</strong> button.  There will be a dropdown that allows you to select one of the deployment types that you have permissions for, e.g.:<br/><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="100" src="https://arterisip.atlassian.net/wiki/download/attachments/16171518/image2016-9-30%2017:31:18.png?api=v2"></span></p></li><li><p>Click on <strong>Debug</strong> . Then click on <strong>Start Deployment</strong> .  Once the deployment is successful, it will create a file in /engr/dev/releases/piano2 (also visible in <a class="external-link" href="http://dev.arteris.com/releases/piano2/" rel="nofollow">http://dev.arteris.com/releases/piano2/</a>), e.g.:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ ls -l piano2-2.2.0-rc.3-452+debug.tgz 
-rw-r--r-- 1 bamboo 501 137585486 Jun 19 16:54 piano2-2.2.0-rc.3-452+debug.tgz</pre>
</div></div></li><li><p>Use the browser <em>back</em> button to go back two pages, and repeat the previous two steps for the Release build.</p></li><li><p>Once the deployment of the Release and Debug builds complete, you can the create the <em>bundle</em>s which install those builds.  This is done by modifying the <em>bundler_piano</em> package so that Bamboo will create the bundles.  Change the bundler_piano/vars file to have the release and build information for the current release/build, e.g.:</p><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">PRODUCT_VERSION=2.2.0-rc.3
PRODUCT_BUILD_NUM=-452</pre>
</div></div></li><li>Commit and push the changes to <em>bundler_piano</em>.<br/><br/></li><li><p>Wait for Bamboo to finish running <em>bundler_piano</em>.  Once it completes, there will be installers in /engr/dev/releases/piano2 for the Debug and Release builds (also visible in <a class="external-link" href="http://dev.arteris.com/releases/piano2/" rel="nofollow">http://dev.arteris.com/releases/piano2/</a>), e.g.:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ ls -l piano2-2.2.0-rc.3-452*.run
-rwxr-xr-x 1 bamboo 501 137587329 Jun 19 16:58 piano2-2.2.0-rc.3-452+debug.run*
-rwxr-xr-x 1 bamboo 501  64853132 Jun 19 16:58 piano2-2.2.0-rc.3-452.run*</pre>
</div></div></li><li><p>Do a test installation of the release and debug versions, e.g.:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ /engr/dev/releases/piano2/piano2-2.2.0-rc.3-452+debug.run 
Copyright (c) 2017 Arteris. Licensed software. ALL RIGHTS RESERVED
Enter installation directory [/home/spotter/tmp/piano_tmp/piano2-2.2.0-rc.3-452+debug]: 
Installation of /engr/dev/releases/piano2/piano2-2.2.0-rc.3-452+debug.run is complete

$ /engr/dev/releases/piano2/piano2-2.2.0-rc.3-452.run
Copyright (c) 2017 Arteris. Licensed software. ALL RIGHTS RESERVED
Enter installation directory [/home/spotter/tmp/piano_tmp/piano2-2.2.0-rc.3-452]: 
Installation of /engr/dev/releases/piano2/piano2-2.2.0-rc.3-452.run is complete

</pre>
</div></div></li><li><p>Test both<span class="legacy-color-text-default"> </span>'piano' executables to make sure that they start up successfully.</p></li><li><p>Change user to 'engadmin' and install the release, debug and noRTL versions into the /engr/dev/tools/piano directory:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ su engadmin
Password:

$ cd /engr/dev/tools/piano
$ /engr/dev/releases/piano2/piano2-2.2.0-rc.3-452+debug.run
Copyright (c) 2017 Arteris. Licensed software. ALL RIGHTS RESERVED
Enter installation directory [/engr/dev/tools/piano/piano2-2.2.0-rc.3-452+debug]:
Installation of /engr/dev/releases/piano2/piano2-2.2.0-rc.3-452+debug.run is complete

$ /engr/dev/releases/piano2/piano2-2.2.0-rc.3-452.run
Copyright (c) 2017 Arteris. Licensed software. ALL RIGHTS RESERVED
Enter installation directory [/engr/dev/tools/piano/piano2-2.2.0-rc.3-452]:
Installation of /engr/dev/releases/piano2/piano2-2.2.0-rc.3-452.run is complete
</pre>
</div></div></li><li><p>Update the symbolic links to point to the new versions.  For an 'ir' or 'rc' the symbolic links are named '<em>internal</em>' and '<em>internalDebug</em>'.  For a customer release version the symbolic links are named '<em>release</em>' and '<em>debug</em>'.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ ln -fsn piano2-2.2.0-rc.2-446 internal
$ ln -fsn piano2-2.2.0-rc.2-446+debug internalDebug</pre>
</div></div></li><li><p>Send email announcing the availability to:</p></li></ol><ul><li>For 'ir' releases - 'Engineering team', JP Loison &lt;jp.loison@<a class="external-link" href="http://arteris.com" rel="nofollow">arteris.com</a>&gt;; Benoit de Lescure &lt;benoit.delescure@<a class="external-link" href="http://arteris.com" rel="nofollow">arteris.com</a>&gt;</li><li>For 'rc' releases - 'Engineering team', 'FAE team'<br/><br/></li></ul>