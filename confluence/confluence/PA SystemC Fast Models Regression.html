<p>This page explains the regression methodology for Angelo.</p><ol><li>A script to generate a regression environment to run regressions on a set of STL files for an APF is complete. The script generates the SystemC Fast Models using Conductor, creates PCT configuration file in TCL and also generates a perl script which will be used to run regression on the list of STL files. Regressions are run using the generated perl script. This script can also be used to reproduce failing test cases by the development team. </li><li>STL files are generated from waveforms. These waveforms are generated using DV flow by the Engineering team and using Carbon by the QA team. </li><li>The APFs used by the DV flow in the regression are the Intel PSG config, Mobileye config, and APF list provided here : <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16169909/Functional+Verification+configuration+space+-+Angelo+system+verification" data-linked-resource-id="16169909" data-linked-resource-version="4" data-linked-resource-type="page">Functional Verification configuration space - Angelo system verification</a></li><li>APFs and STL files (generated using Carbon flow) will be obtained from QA  team whenever they are ready.</li></ol><p> </p><p>Steps:</p><div><div style="margin-left: 0.0in;"><div style="margin-left: 0.0in;"><ol><li><span>Set up pct using module load</span></li><li><span>Use one of the following commands to generate configuration:</span><ol><li>To generate regression env:<ol><li>PA primary: /home/alobo/dev/angeloTest/run_regr-linux -i &lt;Path to apf&gt; -l &lt;path to successful_stls&gt; -o &lt;path to output directory&gt;</li><li>PA Ultra: /home/alobo/dev/angeloTest/run_regr-linux -i &lt;Path to apf&gt; -l &lt;path to successful_stls&gt; -o &lt;path to output directory&gt; -u</li><li>Example:<br/>/home/alobo/dev/angeloTest/run_regr-linux -i /scratch3/chirag/release_v2x_2/test_projects/angeloProjects/Ncore2.5/MobilEye_Ncore4.apf -l /scratch3/chirag/mobileye_ncore4_successful_stls -o /scratch3/alobo/angeloTest/test</li></ol></li><li>To generate pct config:<ol><li>PA primary: /home/alobo/dev/angeloTest/run_regr-linux -m create -i &lt;apf path&gt; -o &lt;path to output directory&gt;</li><li>PA Ultra: /home/alobo/dev/angeloTest/run_regr-linux -m create -i &lt;apf path&gt; -o &lt;path to output directory&gt; -u</li><li>Example:<br/>/home/alobo/dev/angeloTest/run_regr-linux -m create -i /scratch3/chirag/release_v2x_2/test_projects/angeloProjects/Ncore2.5/MobilEye_Ncore4.apf -o /scratch3/alobo/angeloTest/test</li></ol></li></ol></li></ol><p> </p><p style="margin-left: 30.0px;">3. For PA Primary, run the tcl file generated in the output directory: pcsh &lt;apf file name&gt;.tcl. Once the output is generated, go to &lt;output directory&gt;/export and run scsh sim_build.tcl</p><p style="margin-left: 30.0px;">4. For PA Ultra, open the configuration in pct: pct &lt;tcl filename&gt;.tcl &amp;.</p><ol><li style="list-style-type: none;background-image: none;"><ol><li>Wait for the configuration to complete. </li><li>Click export -&gt; export design</li><li>Once the export is complete, an export directory is generated in $PWD. Go to export directory and run: scsh sim_build.tcl.  </li></ol></li></ol><p style="margin-left: 30.0px;"><br/>5. If you have set up the regression environment, in the export directory, run the following command:</p><p style="margin-left: 60.0px;">a. ../regr_script -l regr_list -&gt; to run all tests</p><p style="margin-left: 60.0px;">b. ../regr_script -l regr_list -t test# -&gt; to run an particular test number.</p><p style="margin-left: 0.375in;"> </p><p>For regressions (PA Ultra commands)</p><ol style="margin-left: 0.375in;"><li><span>~/dev/angeloTest/run_regr-linux -i /scratch3/chirag/release_v2x_2/test_projects/angeloProjects/Ncore2.5/MobilEye_Ncore4.apf -l /scratch3/chirag/mobileye_ncore4_successful_stls -o regr_Mobileye -u</span></li><li><span>~/dev/angeloTest/run_regr-linux -i /scratch3/chirag/release_v2x_2/test_projects/angeloProjects/Ncore2.5/IntelPSG.apf -l /scratch3/chirag/intel_psg_successful_stls -o regr_intelPsg -u</span></li><li><span>~/dev/angeloTest/run_regr-linux -i /scratch3/chirag/release_v2x_2/test_projects/angeloProjects/Ncore2.5/angelo_config1.apf -l /scratch3/chirag/angelo_config1_successful_stls -o regr_AngeloCfg1 -u</span></li><li><span>~/dev/angeloTest/run_regr-linux -i /scratch3/chirag/release_v2x_2/test_projects/angeloProjects/Ncore2.5/angelo_config2.apf -l /scratch3/chirag/angelo_config2_successful_stls -o regr_AngeloCfg2 -u</span></li><li><span>~/dev/angeloTest/run_regr-linux -i /scratch3/chirag/release_v2x_2/test_projects/angeloProjects/Ncore2.5/MobilEye_Ncore4-low-ways.apf -l /scratch3/chirag/mobileye_ncore4_stls_05112018/successful_stls -o regr_an97 -u</span></li><li><span>~/dev/angeloTest/run_regr-linux -i /scratch3/alobo/regressions/regr_sync_2A1P_1AL1P_1N1P_2NC1P_1D8P1TF_2.5/config/ncore_top.apf -l /scratch3/alobo/jp_configs/sync_2A1P_1AL1P_1N1P_2NC1P_1D8P1TF_2.5_stls -o regr_jp -u</span></li><li><span>~/dev/angeloTest/run_regr-linux -i /scratch3/chirag/release_v2x_2/test_projects/angeloProjects/Ncore2.6/System_Ncore_model.apf -l /scratch3/chirag/mobileye_ncore8_successful_stls -o regr_Mobileye_with_ncb -u</span></li></ol></div></div></div>