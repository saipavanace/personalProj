<h1 id="Archendtoendprotection-Requirements:(Thesearefrommobileye)"><style>[data-colorid=bimd29w2py]{color:#333333} html[data-color-mode=dark] [data-colorid=bimd29w2py]{color:#cccccc}[data-colorid=cusr024626]{color:#333333} html[data-color-mode=dark] [data-colorid=cusr024626]{color:#cccccc}[data-colorid=jtjd44kxz0]{color:#333333} html[data-color-mode=dark] [data-colorid=jtjd44kxz0]{color:#cccccc}[data-colorid=nr6k8gi9c2]{color:#333333} html[data-color-mode=dark] [data-colorid=nr6k8gi9c2]{color:#cccccc}[data-colorid=ptr3m02wgb]{color:#333333} html[data-color-mode=dark] [data-colorid=ptr3m02wgb]{color:#cccccc}[data-colorid=sdxp1csa1p]{color:#b00113} html[data-color-mode=dark] [data-colorid=sdxp1csa1p]{color:#fe4f61}[data-colorid=iiv2lchd7x]{color:#b00113} html[data-color-mode=dark] [data-colorid=iiv2lchd7x]{color:#fe4f61}[data-colorid=mz8jh3to4r]{color:#333333} html[data-color-mode=dark] [data-colorid=mz8jh3to4r]{color:#cccccc}[data-colorid=vlqmu4ma2a]{color:#333333} html[data-color-mode=dark] [data-colorid=vlqmu4ma2a]{color:#cccccc}[data-colorid=cln7olvlnm]{color:#333333} html[data-color-mode=dark] [data-colorid=cln7olvlnm]{color:#cccccc}[data-colorid=uedn8bsavw]{color:#333333} html[data-color-mode=dark] [data-colorid=uedn8bsavw]{color:#cccccc}[data-colorid=lpy6azz8su]{color:#333333} html[data-color-mode=dark] [data-colorid=lpy6azz8su]{color:#cccccc}[data-colorid=lrkqfe3o1u]{color:#333333} html[data-color-mode=dark] [data-colorid=lrkqfe3o1u]{color:#cccccc}[data-colorid=pyhtso0et1]{color:#333333} html[data-color-mode=dark] [data-colorid=pyhtso0et1]{color:#cccccc}[data-colorid=vfdgzd3fvc]{color:#333333} html[data-color-mode=dark] [data-colorid=vfdgzd3fvc]{color:#cccccc}[data-colorid=zdnlh7uxyw]{color:#333333} html[data-color-mode=dark] [data-colorid=zdnlh7uxyw]{color:#cccccc}[data-colorid=qh675ria2u]{color:#333333} html[data-color-mode=dark] [data-colorid=qh675ria2u]{color:#cccccc}</style>Requirements: (These are from mobileye)</h1><ul><li>Protect each data byte with one parity bit (this is data on R, W and CD channels)</li><li>Protect address by one parity bit (this is address on AR AW and AC channels)</li><li>Protection can be added at the interface using costume protection signals or user signals as defined by Arteris.</li><li>ECC protection on memories</li></ul><h1 style="text-decoration: none;text-align: left;margin-left: 0.0px;" id="Archendtoendprotection-Solution1:">Solution 1:&nbsp;</h1><p style="margin-left: 0.0px;text-align: left;">This is a more comprehensive solution that can possibly be adopted by 3.X stream. Furthermore this can be extended to support SECDED protection schemes. &nbsp;</p><h3 style="margin-left: 0.0px;text-align: left;" id="Archendtoendprotection-Interfacesignals:">Interface signals:</h3><p style="margin-left: 0.0px;text-align: left;">Add custom protection signals on per interface basis:</p><ul style="text-decoration: none;text-align: left;margin-left: 0.0px;"><li style="list-style-type: disc;">AR, AW and AC channel: Add a single address parity signal.&nbsp;</li><li style="list-style-type: disc;">W, R and CD channels: Add a single parity protection signal per byte of data, for example a 128 bit interface will have 16 bits for parity.</li></ul><h3 style="text-decoration: none;text-align: left;margin-left: 0.0px;" id="Archendtoendprotection-Ncorechanges:">Ncore changes:</h3><p style="margin-left: 0.0px;text-align: left;">Address parity protection bit is treated as a protection bit:</p><ul><li style="text-align: left;">Within Ncore units it is passed around as additional parity bit with the transaction.&nbsp;</li><li style="text-align: left;">Before storing in memory (tag/sf SRAMs) parity check is done and the parity is recalculated after being read form the SRAMs. The SRAMs may be ECC protected.</li><li style="text-align: left;"><span data-colorid="zdnlh7uxyw" style="text-decoration: none;">It is passed on SFI as part of SfiPriv</span></li></ul><p style="text-align: left;"><span data-colorid="cln7olvlnm" style="text-decoration: none;"><span data-colorid="vlqmu4ma2a" style="text-decoration: none;">Note that the address protection will have to be on cache line basis i.e. lower 6 bits (5:0)</span><span data-colorid="sdxp1csa1p" style="text-decoration: none;">&nbsp;</span><span data-colorid="lpy6azz8su" style="text-decoration: none;">&nbsp;</span><span data-colorid="mz8jh3to4r" style="text-decoration: none;">are not protected.&nbsp;</span></span></p><p style="text-align: left;"><span data-colorid="pyhtso0et1" style="text-decoration: none;"><span data-colorid="nr6k8gi9c2" style="text-decoration: none;">&nbsp;</span></span><span data-colorid="qh675ria2u" style="text-decoration: none;"><br /></span></p><p style="text-align: left;">Data parity protection bits are treated as protection bits:</p><ul><li style="text-align: left;"><span data-colorid="jtjd44kxz0" style="text-decoration: none;">Within Ncore units they are passed around as additional parity bits with the data.</span></li><li style="text-align: left;"><span data-colorid="uedn8bsavw" style="text-decoration: none;">Before storing the data in memory (data cache / OTT data)&nbsp;<span data-colorid="lrkqfe3o1u" style="text-decoration: none;">parity check is done and the parity is recalculated after being read form the SRAMs.&nbsp;<span data-colorid="cusr024626" style="text-decoration: none;">The SRAMs may be ECC protected.</span></span></span></li><li style="text-align: left;"><span data-colorid="vfdgzd3fvc" style="text-decoration: none;"><span data-colorid="ptr3m02wgb" style="text-decoration: none;">Protection bits are passed on SFI as prot bits.&nbsp;</span></span></li></ul><p style="margin-left: 0.0px;text-align: left;">Note that as these are per byte protection bits, read modify logic around memories will need to account for this.&nbsp;</p><h3 style="text-decoration: none;text-align: left;margin-left: 0.0px;" id="Archendtoendprotection-Drawback:">Drawback: &nbsp; &nbsp;</h3><ul style="text-decoration: none;text-align: left;margin-left: 0.0px;"><li style="list-style-type: disc;">Considerable amount of changes: schedule risk</li></ul><h1 style="list-style-type: disc;" id="Archendtoendprotection-Solution2:">Solution 2:&nbsp;</h1><p>This is a simple and quick solution and the scope is limited to above mobileye requirements</p><h3 id="Archendtoendprotection-Interfacesignals:.1">Interface signals:</h3><p>Add custom protection signals on per interface basis:</p><ul><li>AR, AW and AC channel: Add a single address parity signal</li><li>W, R and CD channels: Add a single parity protection signal per byte of data, for example a 128 bit interface will have 16 bits for parity</li></ul><h3 id="Archendtoendprotection-Ncorechanges:.1">Ncore changes:</h3><p>Address parity protection bit is treated as address bit and is stored and passed around within Ncore as address.&nbsp;</p><p>Note that the address protection will have to be on cache line basis i.e. lower 6 bits (5:0)<span data-colorid="iiv2lchd7x">&nbsp;</span> are not protected.&nbsp;</p><p>&nbsp;</p><p>Data protection bits are stored in memory as data. The memory may additionally be ECC protected. T<span data-colorid="bimd29w2py" style="text-decoration: none;">hey are passed around as prot bits on SFI.</span></p><p>Note that as these are per byte protection bits, read modify logic around memories will need to account for this.&nbsp;</p><h3 id="Archendtoendprotection-Drawback:.1">Drawback: &nbsp; &nbsp;</h3><ul><li>Only supports parity end to end protection.</li><li>Takes lot more SRAM area.</li></ul><p>&nbsp;</p>