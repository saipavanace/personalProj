<p>// TEMP: Change version to latest manually until we migrate to latest version</p><ol start="1"><li><p>module unload snps/2017.12_engineering</p></li><li><p>module load snps/vcs/vU-2023.03</p></li><li><p>export LM_LICENSE_FILE=&quot;5285@lic-node0&quot;</p></li></ol><p /><p>// Kick off entire block code coverage tests on all configs.</p><p> runsim -e dve -l regr -i 1 -sim VCS</p><p /><p>// Run one configuration and collect coverage.</p><p>runsim -e dve -c hw_cfg_20 -l regr -i 1 -sim VCS</p><p> </p><p>// Currently have hacked ‘defaultRsim.js’ file to always force the next two items. This update will generate the compile params and run params needed to collect coverage. </p><p><code>/scratch/jasonv/ncore_env_3.4_VCSCodeCov/hw-scripts/defaultRsim.js</code></p><p /><p>// (1) in ‘compile_env’ script command need:</p><p>// include any branch types desired and provide unique name here of DB</p><p>// this will be base db and where all coverage data will be collected and merged for other runs</p><p>-cm line+cond+branch+fsm+tgl -cm_dir coverageDir.vdb</p><p> </p><p>// (2) in ‘run_sim’ script we need:</p><p>// options here can be subset of coverage types used in Compile</p><p>// include name for easier identification, ensure name is unique for each test</p><p>-cm line+cond+fsm+branch+tgl -cm_name &lt;testcase_name&gt;_&lt;seed&gt;</p><p> </p><p>// verdi to use in analyzing coverage, exclusions, etc.</p><p>// can provide multiple dbs in row, a -covdir for each.</p><p>/engr/eda/tools/synopsys/verdi_vU-2023.03-1/verdi/U-2023.03-1/bin/verdi -cov -covdir coverageDir.vdb</p><p> </p><p>//run ‘urg’ to merge databases and to generate html reports to examine</p><p>// first -dir should be base... followed by any others if needed</p><p>// dbname is optional</p><p>// show tests cmd provides more details on tests and which events hit on which test</p><p>urg -dir ../../exe/coverageDir.vdb -dbname Merge -show tests</p><p> // Add -elfile to pass in an exclusions file and apply to database. use -elfilelist to pass in file with multiple exclusion files.</p><p>urg -dir ../../exe/coverageDir.vdb -elfile unr.el -dbname MergeWithExclusions -show tests</p><p /><p>// view reports generated from code coverage collection</p><p>firefox urgReport/dashboard.html</p><p> </p><p>//running VC Formal example</p><p>setenv VC_STATIC_HOME /engr/eda/tools/synopsys/vc_static_vU-2023.03-1</p><p>setenv PATH $VC_STATIC_HOME/bin:$PATH</p><p>mkdir TEST_DIR</p><p>cd TEST_DIR/</p><p>cp -r $VC_STATIC_HOME/doc/vcst/examples/FCA .</p><p>chmod -R +w FCA</p><p>cd FCA/FCA_without_SimCovdb/solution/</p><p>vcf -gui -f run_batch.tcl</p><p>//look at run_batch to get details on commands used to run VCformal, need to add clock &amp; reset.</p><p>// +can use it on stand alone model only and not load/read in entire TB.</p><p>// +recommended running regressions first and then run tool after, with the option to read in the covdir. That way the tool doesnt have to work as hard with those already hit with the regressions. Look at FCA_with_SimCovdb dir script.</p><p> </p><p>// Here is a link of example area with VCS code coverage </p><p><a class="external-link" href="https://webfile.arteris.com/~jasonv/ncore3.4/vcsDveCodeCov/urgReport/dashboard.html" rel="nofollow">Coverage Database with VCFormal Exclusions</a></p><p /><p /><p> </p><p>Synopsys contact : Amir Salehi <a class="external-link" href="mailto:Amir.Salehi@synopsys.com" rel="nofollow">Amir.Salehi@synopsys.com</a> (in Campbell)</p><p>You can send any email/questions directly to him.</p><p> </p><p>Links, info on the Synopsys page. You are recommended to create a solvnet account for access to these, file tickets, etc.</p><p>The site code to enter when you create an account is: 20647  (this is Campbell, but the only one for Arteris)</p><p> </p><p>I don’t see a video on FCA but there are videos on other Formal topics in here which are categorized under different sections.</p><p><a class="external-link" href="https://protect-us.mimecast.com/s/R0RpCgJPmZh3792iNQWXd?domain=spdocs.synopsys.com" rel="nofollow">https://spdocs.synopsys.com/dow_retrieve/latest/home_public/vc_formal.html</a></p><p>This also seems a good way to navigate the docs for FCA as each topic in the flow has its link:</p><p><a class="external-link" href="https://protect-us.mimecast.com/s/foRTCjRPpZIrv8qIRT4ZG?domain=spdocs.synopsys.com" rel="nofollow">https://spdocs.synopsys.com/dow_retrieve/latest/home_public/vc_formal-Sub_landng_pages_FCA.html</a></p><p> </p><p>I also attached a PDF that just goes over some high level information on VCS coverage.</p>