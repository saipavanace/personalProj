<p><strong style="font-size: 24.0px;"><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759724656833 {padding: 0px;}
div.rbtoc1759724656833 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724656833 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759724656833'>
<ul class='toc-indentation'>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-SystemDescription'>System Description</a>
<ul class='toc-indentation'>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-CreditChannels'>Credit Channels</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Sharedvs.DedicatedCredits'>Shared vs. Dedicated Credits</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-CreditMessages'>Credit Messages</a></li>
</ul>
</li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-sym_common_credit_manager_init'>sym_common_credit_manager_init</a>
<ul class='toc-indentation'>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-I/O'>I/O</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Parameters'>Parameters</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-ModulesUsed'>Modules Used</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Description'>Description</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-BlockDiagram'>Block Diagram</a>
<ul class='toc-indentation'>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-SharedCreditStateMachine'>Shared Credit State Machine</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-DedicatedCreditStateMachine'>Dedicated Credit State Machine</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-sym_common_credit_manager_targ'>sym_common_credit_manager_targ</a>
<ul class='toc-indentation'>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-I/O.1'>I/O</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Parameters.1'>Parameters</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-ModulesUsed.1'>Modules Used</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Description.1'>Description</a>
<ul class='toc-indentation'>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-SharedCreditStateMachine.1'>Shared Credit State Machine</a></li>
<li><a href='#OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-DedicatedCreditStateMachine.1'>Dedicated Credit State Machine</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><br/></strong></p><p><strong style="font-size: 24.0px;">Features</strong></p><ul><li>Can implement a Shared or Dedicated Credit Management Scheme</li><li>This credit scheme can have multiple channels inside the ATU-I/T where each channel can be assigned to multiple queues. </li><li>Queues can be assigned to channels based on QoS policies and bandwidth requirements.</li><li>A channel can be put in a &quot;No Credit Domain&quot; and its traffic will not be regulated.</li><li>Regulate the traffic injection rate at the Initiator ATU (I-ATU) by providing feedback on the congestion in the network.</li></ul><h1 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-SystemDescription"><strong>System Description</strong></h1><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-CreditChannels">Credit Channels</h2><ul><li>The credit manager in each ATUI/ATUT will have a number of Credit Channels, each of which can either be in a Credit or Non Credit domain.</li><li>Every queue inside an ATU will be mapped to a Credit Channel. </li></ul><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Sharedvs.DedicatedCredits">Shared vs. Dedicated Credits</h2><ul><li>Dedicated: The dedicated credits are reserved (at Target ATU) for the credit channel. Dedicated credits are pre-allocated and available for the I-ATU to use at start up.</li><li>Shared: Shared credits are shared between I-ATUs. Shared credits are requested by I-ATUs and cannot be pre-allocated</li></ul><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-CreditMessages">Credit Messages</h2><ul><li>Credit messages can be sent either over separate networks or embedded inside the regular request response network, however this is abstracted from these blocks and is implemented through how the SMI bus is connected outside these blocks. </li><li>Can credit messages be ordered??? or need to be. </li><li>Separate sequence number/ Source ID?</li><li>If a request for Transaction/Data credits is done. The response must be the same type of credit.</li></ul><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">SMI Field</th><th class="confluenceTh">Credit Message Field</th><th class="confluenceTh">Description</th><th class="confluenceTh">Bits</th></tr><tr><td class="confluenceTd">ndp_src_id</td><td class="confluenceTd"><span>srcId</span></td><td class="confluenceTd">Source Identifier (Initiator Identifier)</td><td class="confluenceTd">wSrcId</td></tr><tr><td class="confluenceTd"><span>ndp_</span>msg_type_attr</td><td class="confluenceTd">crMsgType</td><td class="confluenceTd"><ul><li>000 - Stop Transmission</li><li>001 - Resume Transmission</li><li>010 - Credit Request</li><li>011 - Credit Grant</li><li>1xx - Credit Resync</li></ul></td><td class="confluenceTd">3</td></tr><tr><td class="confluenceTd"><span>ndp_</span>msg_seqnum</td><td class="confluenceTd">crMsgID</td><td class="confluenceTd">Channel Identifier</td><td class="confluenceTd">wSeqnum</td></tr><tr><td colspan="1" class="confluenceTd"><span>ndp_msg_</span>user[1:0]</td><td colspan="1" class="confluenceTd">crdReq (Needed?)</td><td colspan="1" class="confluenceTd"><ul><li>00 - Transaction Credits</li><li>01 - Data Credits</li></ul></td><td colspan="1" class="confluenceTd">2</td></tr><tr><td colspan="1" class="confluenceTd"><span>ndp_msg_</span>user [12:2]</td><td colspan="1" class="confluenceTd">crdGrant</td><td colspan="1" class="confluenceTd">Credit Amount (0 - 255)</td><td colspan="1" class="confluenceTd">10</td></tr><tr><td colspan="1" class="confluenceTd">ndp_msg_type</td><td style="text-align: center;" class="confluenceTd" colspan="1">-</td><td colspan="1" class="confluenceTd">Tied to 10</td><td colspan="1" class="confluenceTd">2</td></tr></tbody></table></div><p><br/></p><h1 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-sym_common_credit_manager_init"><strong>sym_common_credit_manager_init</strong></h1><p><br/></p><div class="page view"><div class="wiki-content"><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-I/O"><strong>I/O</strong></h2><p>u.port('input', 'queue_valid' , 1); // Which queue was selected</p><p>u.port('input', 'queue_ready' , 1); // Which queue was selected</p><p>u.port('input', 'queue_selected' , log2ceil(nQueue)); // Which queue was selected</p><p>u.port('input', 'queue_length' , wLen); // The Length of the selected queue</p><p>u.port('output', 'queue_block' ,nQueue); // The Length of the selected queue</p><p><br/></p><div><p>if(useExternalValues) {</p><p>    u.port('input', 'crdDataUnit', w_crdDataUnit);</p><p>    for(let credit_channel= 0; credit_channel&lt; nCChannel ; credit_channel++) {</p><p>         u.port('input', ''crdMngrReqCnt+credit_channel,w_crdMngrReqCnt[credit_channel]);</p><p>         u.port('input', ''crdMngrDataCnt+credit_channel,w_crdMngrDataCnt[credit_channel]);</p><p>    }</p><p>}</p><p><br/></p></div><div><p>u.nInterfaces(interfaces);</p><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Parameters"><strong style="font-size: 20.0px;">Parameters</strong></h2></div><p>{</p><p>   en: int, // Credit Manager Enabled</p><p>   maxPduSize: int, // The size of the maximum packet</p><p>   channelInCreditDomain : [bool, bool, ...], // An array of booleans indicating if the channel is in a credit domain. </p><p>   queueToChannelMap : [int, int, ...], // A map to which credit channel a queue maps to. Array is nQueue long.</p><p>   crdDataUnit : 1 to inf, // Data Credit Units, Has to be power of 2</p><p>   wCrdMngrReqCnt : [int, int, ...], // Array of integers indicating the request dedicated counter width. Each entry in the array is assigned a channel. (0 is disabled) (nCChannel in Length)</p><p>   wCrdMngrDataCnt :  [int, int, ...], // Array of integers indicating the data dedicated counter width. Each entry in the array is assigned a channel. (0 is disabled) (nCChannel in Length)</p><p>   wCrdMngrType  :  [int, int, ...],// Credit Message Type 0 - Shared or 1 Dedicated (nCChannel in Length)</p><p>   useExternalValues : True or False , </p><p>   widthOfControlSignals : {</p><p>     &quot;w_crdDataUnit&quot; : int,</p><p>      &quot;w_crdMngrReqCnt&quot; :  [int, int, ...] , (0 == Disabled, No C Management)</p><p>      &quot;w_crdMngrDataCnt &quot; :  [int, int, ...]  (0 == Disabled, No C Management)</p><p>   }, // Used if useExternalValues == 1, Holds the widths of the respective control signals. Defined by CSR object above.</p><p>   interfaces: {</p><p>           &quot;clkInt&quot; :{ &quot;name&quot; : &quot;a_string&quot;,  &quot;params&quot; : {}, &quot;direction&quot; : &quot;slave&quot;,  &quot;interface&quot; : &quot;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/InterfaceCLK" rel="nofollow">InterfaceCLK</a>&quot;},</p><p>           &quot;smiReqInt&quot; :{ &quot;name&quot; : &quot;a_string&quot;,  &quot;params&quot; : { &quot;file_path&quot; : &lt;SMI Interface Def File&gt; }, &quot;direction&quot; : &quot;master&quot;,  &quot;interface&quot; : &quot;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/InterfaceSMI" rel="nofollow">InterfaceSMI</a>&quot;},</p><p>           &quot;smiRespInt&quot; :{ &quot;name&quot; : &quot;a_string&quot;,  &quot;params&quot; : { &quot;file_path&quot; : &lt;SMI Interface Def File&gt;}, &quot;direction&quot; : &quot;slave&quot;,  &quot;interface&quot; : &quot;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/InterfaceSMI" rel="nofollow">InterfaceSMI</a>&quot;},</p><p>   }</p><p>}</p><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-ModulesUsed"><strong>Modules Used</strong></h2><p>prot_reg</p><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Description"><strong style="font-size: 24.0px;">Description</strong></h2><p>Each channel will have a corresponding state machine based on what type of credits are used for that channel. If a channel has multiple queues the queues will be serviced according to priority round robin arbitration.</p><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-BlockDiagram">Block Diagram</h2><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="1024" src="https://arterisip.atlassian.net/wiki/download/attachments/16172109/image2020-4-21%2015:16:17.png?api=v2"></span></p><h3 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-SharedCreditStateMachine">Shared Credit State Machine</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">State</th><th class="confluenceTh">Sent Message</th><th class="confluenceTh">Exit Condition a</th><th class="confluenceTh">Move To a</th><th class="confluenceTh"><span>Exit Condition b</span></th><th colspan="1" class="confluenceTh"><span>Move To b</span></th></tr><tr><td class="confluenceTd">IDLE</td><td class="confluenceTd"><br/></td><td class="confluenceTd">Request seen from Priority Arbiter.</td><td class="confluenceTd"><span>REQUEST_CREDITS</span></td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">REQUEST_CREDITS</td><td class="confluenceTd">Credit Request for X Amount of Credits</td><td class="confluenceTd">Receive Credit Grant</td><td class="confluenceTd"><span>UNGATE_TRANSACTION</span></td><td class="confluenceTd">Receive Credit Deny</td><td colspan="1" class="confluenceTd"><span>WAIT</span></td></tr><tr><td colspan="1" class="confluenceTd">WAIT</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">Timer Expires</td><td colspan="1" class="confluenceTd">REQUEST_CREDITS</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><span>UNGATE_TRANSACTION</span></td><td class="confluenceTd"><br/></td><td class="confluenceTd">Transaction Is Sent (w No Next Txn)</td><td class="confluenceTd"><span>IDLE</span></td><td class="confluenceTd"> <span> Transaction Is Sent (w Next Txn)</span></td><td colspan="1" class="confluenceTd"> <span>REQUEST_CREDITS</span></td></tr></tbody></table></div><p><br/></p><h3 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-DedicatedCreditStateMachine">Dedicated Credit State Machine</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">State</th><th class="confluenceTh">Sent Message</th><th class="confluenceTh">Exit Condition a</th><th class="confluenceTh">Move To a</th><th class="confluenceTh">Exit Condition b</th><th colspan="1" class="confluenceTh">Move To b</th><th colspan="1" class="confluenceTh">Notes:</th></tr><tr><td class="confluenceTd">IDLE</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><span>Receive Credit Grant</span></td><td class="confluenceTd"><span>UPDATE_CREDITS</span></td><td class="confluenceTd"><span>Receive Re-Sync Message</span></td><td colspan="1" class="confluenceTd">RESYNC_CREDITS</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">UPDATE_CREDITS</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><span>No <span>Receive Credit Grant</span></span></td><td class="confluenceTd"><span>IDLE</span></td><td class="confluenceTd"><span>Receive Credit Grant</span></td><td colspan="1" class="confluenceTd"><span>UPDATE_CREDITS</span></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd"><span>RESYNC_CREDITS</span></td><td colspan="1" class="confluenceTd">Resync</td><td colspan="1" class="confluenceTd"><span>Receive Credit Grant</span></td><td colspan="1" class="confluenceTd"><span>UPDATE_CREDITS</span></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">Halt all traffic from the master to queue.</td></tr></tbody></table></div><p><br/></p><h1 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-sym_common_credit_manager_targ"><strong>sym_common_credit_manager_targ</strong></h1><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-I/O.1"><strong>I/O</strong></h2><div><div><h2 style="margin-top: 30.0px;" id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Parameters.1"><strong>Parameters</strong></h2></div></div><div><h2 style="margin-top: 30.0px;" id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-ModulesUsed.1"><strong>Modules Used</strong></h2><p style="font-weight: 400;">prot_reg</p><h2 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-Description.1"><strong style="font-size: 24.0px;">Description</strong></h2></div><p>Each channel will have a corresponding state machine based on what type of credits are used for that channel. If a channel has multiple queues the queues will be serviced according to priority round robin arbitration.</p><h3 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-SharedCreditStateMachine.1">Shared Credit State Machine</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">State</th><th class="confluenceTh">Sent Message</th><th class="confluenceTh">Exit Condition a</th><th class="confluenceTh">Move To a</th><th class="confluenceTh">Exit Condition b</th><th colspan="1" class="confluenceTh">Move To b</th></tr><tr><td class="confluenceTd">IDLE</td><td class="confluenceTd"><br/></td><td class="confluenceTd">See Credit Request Message (Enough Credits)</td><td class="confluenceTd">REQUEST_CREDITS</td><td class="confluenceTd"> <span>See Credit Request Message (Not Enough Credits)</span></td><td colspan="1" class="confluenceTd"><span>CREDIT_DENY</span></td></tr><tr><td class="confluenceTd">CREDIT_GRANT</td><td class="confluenceTd">Credit Grant for X Amount of Credits</td><td class="confluenceTd"><span>Once Message is Sent</span></td><td class="confluenceTd"><span>IDLE</span></td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">CREDIT_DENY</td><td colspan="1" class="confluenceTd"><span>Credit Deny </span></td><td colspan="1" class="confluenceTd"><span>Once Message is Sent</span></td><td colspan="1" class="confluenceTd"><span>IDLE</span></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div><h3 id="OBSOLETE-DELETEHW-SYMCommonLayerCreditMicroarchitecture-DedicatedCreditStateMachine.1"><br/>Dedicated Credit State Machine</h3><p>Parameter : creditReturnMode</p><p>1) Always send an independent credit message.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">State</th><th class="confluenceTh">Sent Message</th><th class="confluenceTh">Exit Condition a</th><th class="confluenceTh">Move To a</th><th class="confluenceTh">Exit Condition b</th><th colspan="1" class="confluenceTh">Move To b</th></tr><tr><td class="confluenceTd">IDLE</td><td class="confluenceTd"><br/></td><td class="confluenceTd">Request is queued from queues.</td><td class="confluenceTd"><span>CREDIT_GRANT</span></td><td class="confluenceTd"><span>Resync Condition</span></td><td colspan="1" class="confluenceTd">RESYNC</td></tr><tr><td colspan="1" class="confluenceTd">CREDIT_GRANT</td><td colspan="1" class="confluenceTd"><span>Credit Grant for X Amount of Credits</span></td><td colspan="1" class="confluenceTd"><span>Once Message is Sent - Txn not in Queue</span></td><td colspan="1" class="confluenceTd">IDLE</td><td colspan="1" class="confluenceTd"><span>Once Message is Sent <span>- Txn in Queue</span></span></td><td colspan="1" class="confluenceTd"> <span>CREDIT_GRANT</span></td></tr><tr><td colspan="1" class="confluenceTd">RESYNC</td><td colspan="1" class="confluenceTd">Resync</td><td colspan="1" class="confluenceTd">Resync from ATUI</td><td colspan="1" class="confluenceTd"><span>RESYNC_GRANT</span></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">RESYNC_GRANT</td><td colspan="1" class="confluenceTd"><span>Credit Grant for X Amount of Credits</span></td><td colspan="1" class="confluenceTd"><span>Once Message is Sent</span></td><td colspan="1" class="confluenceTd"><span>IDLE</span></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div><p><br/></p><p>2) Always put credit message inside response.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">State</th><th class="confluenceTh">Sent Message</th><th class="confluenceTh">Exit Condition a</th><th class="confluenceTh">Move To a</th><th class="confluenceTh">Exit Condition b</th><th colspan="1" class="confluenceTh">Move To b</th></tr><tr><td class="confluenceTd">IDLE</td><td class="confluenceTd"><span>Resync Condition</span></td><td class="confluenceTd"><span>RESYNC</span></td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd"><span>RESYNC</span></td><td colspan="1" class="confluenceTd"><span>Resync </span></td><td colspan="1" class="confluenceTd"><span>Resync from ATUI</span></td><td colspan="1" class="confluenceTd"><span>RESYNC_GRANT</span></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd"><span>RESYNC_GRANT</span></td><td colspan="1" class="confluenceTd"><span>Credit Grant for X Amount of Credits</span></td><td colspan="1" class="confluenceTd"><span>Once Message is Sent</span></td><td colspan="1" class="confluenceTd"><span>IDLE</span></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div><p>*Logic driving response need to fill in credit data.</p><p><br/></p><p>3) Return the credit via response message, unless there is a timeout return via independent message</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">State</th><th class="confluenceTh">Sent Message</th><th class="confluenceTh">Exit Condition a</th><th class="confluenceTh">Move To a</th><th class="confluenceTh">Exit Condition b</th><th colspan="1" class="confluenceTh">Move To b</th><th colspan="1" class="confluenceTh">Exit Condition c</th><th colspan="1" class="confluenceTh">Move To c</th></tr><tr><td class="confluenceTd">IDLE</td><td class="confluenceTd"><br/></td><td class="confluenceTd">Request is queued from queues.</td><td class="confluenceTd">SET_ENTRY</td><td class="confluenceTd">Timeout Seen</td><td colspan="1" class="confluenceTd"> TIMEOUT</td><td colspan="1" class="confluenceTd">Resync Condition</td><td colspan="1" class="confluenceTd">RESYNC</td></tr><tr><td colspan="1" class="confluenceTd">SET_ENTRY</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">Transaction Not Behind</td><td colspan="1" class="confluenceTd">IDLE</td><td colspan="1" class="confluenceTd">Transaction Behind</td><td colspan="1" class="confluenceTd">SET_ENTRY</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">TIMEOUT</td><td colspan="1" class="confluenceTd">Credit Grant for X Amount of Credits</td><td colspan="1" class="confluenceTd">Once Message is Sent</td><td colspan="1" class="confluenceTd">IDLE</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">RESYNC</td><td colspan="1" class="confluenceTd">Resync</td><td colspan="1" class="confluenceTd">Resync from ATUI</td><td colspan="1" class="confluenceTd">RESYNC_GRANT</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">RESYNC_GRANT</td><td colspan="1" class="confluenceTd">Credit Grant for X Amount of Credits</td><td colspan="1" class="confluenceTd">Once Message is Sent</td><td colspan="1" class="confluenceTd">IDLE</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div><p>*Logic driving response need to fill in credit data.</p><p>*Entry set by {seqnum,src_id} tuple. Response credit message will be zero'd out if that tuple has already been sent.</p><p>*Needs context lookup to fill in how many credits to return if credit units are bytes.</p></div></div>