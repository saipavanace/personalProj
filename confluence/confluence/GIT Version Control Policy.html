<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759724564681 {padding: 0px;}
div.rbtoc1759724564681 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724564681 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759724564681'>
<ul class='toc-indentation'>
<li><a href='#GITVersionControlPolicy-Branches'>Branches</a>
<ul class='toc-indentation'>
<li><a href='#GITVersionControlPolicy-origin/master'>origin/master</a></li>
<li><a href='#GITVersionControlPolicy-origin/integration'>origin/integration</a></li>
<li><a href='#GITVersionControlPolicy-origin/release_&lt;releasenumber/id&gt;'>origin/release_&lt;release number/id&gt;</a></li>
</ul>
</li>
</ul>
</div></p><p>This policy outlines the version control methodology to be used in hardware/symphony repo. </p><h1 id="GITVersionControlPolicy-Branches">Branches</h1><h2 id="GITVersionControlPolicy-origin/master">origin/master</h2><p>This is the main branch of the project and should never ever ever be broken. Checkins to this branch will not be permitted directly. Once commits are pushed in integration branch (see below), they will be automatically be regressed and if they pass regression will move to master branch</p><h2 id="GITVersionControlPolicy-origin/integration">origin/integration</h2><p>This is the development branch. Any checkins to this branch should be tested by running regression (make test) before checkin. gitlab CI will automatically run the regression after checkin to verify nothing is broken. It is advisable to not have merge commits in this branch. This facilitates ease of debug with use of git bisect. Interested developers can refer to below for a possible git flow that facilitates this.</p><h2 id="GITVersionControlPolicy-origin/release_&lt;releasenumber/id&gt;">origin/release_&lt;release number/id&gt;</h2><p>These branch names are reserved for use of future release and any bug fixes on that versions</p><p> </p><p>Developers are encouraged (but not required) to make separate branches for each feature they develop. Typically it is beneficial to keep the branch name same as JIRA ticket number for ease of lookup.</p><p> </p><p>Example Git flow to avoid merge commits</p><ol><li>Checkout integration branch<br/>git checkout integration</li><li>Create local branch for feature/bug. Use the same name as JIRA ticket number of the issue/feature.<br/>git checkout -b &lt;name&gt;</li><li>Code/Fix/Debug/Do Magic etc.</li><li>Rebase the branch to latest integration<br/>git fetch<br/>git rebase origin/integration<br/>Fix merge conflicts if any</li><li>Run Regression. Rinse and Repeat 3-5 till bug is fixed and regression passes</li><li>Checkout the integration branch<br/>git checkout integration</li><li>Fats forward merge the branch in integration<br/>git merge --ff-only &lt;name&gt;<br/>If this fails, someone has pushed in something in integration while you were regressing. In this case<br/>git checkout &lt;name&gt;<br/>Go back to step 4</li><li>git push</li></ol>