<div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>An “ibuf” switch is a switch that allows the instantiation of buffers in the middle of its crossbar, between each input and each output. Note that these buffers grow quadratically with the switch radix, because an MxN switch will have MxN such buffers.</p></div></div><p /><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>See 

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="MAES-6915" >
                <a href="https://arterisip.atlassian.net/browse/MAES-6915?src=confmacro" class="jira-issue-key">MAES-6915</a>
                            </span>
 .</p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16157337/HW-CTF+sym_buf_switch" data-linked-resource-id="16157337" data-linked-resource-version="1" data-linked-resource-type="page">HW-CTF sym_buf_switch</a> </p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156488/HW-CTF+sym_ibuf_switch" data-linked-resource-id="16156488" data-linked-resource-version="3" data-linked-resource-type="page">HW-CTF sym_ibuf_switch</a> </p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-sym/-/blob/master/rtl/lib/src/sym_ibuf_switch.tachl" rel="nofollow">http://gitlab.arteris.com/hardware/hw-sym/-/blob/master/rtl/lib/src/sym_ibuf_switch.tachl</a></p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-sym/-/blob/master/cpr/json/sym_ibuf_switch.json" rel="nofollow">http://gitlab.arteris.com/hardware/hw-sym/-/blob/master/cpr/json/sym_ibuf_switch.json</a></p><p /></div></div><h3 id="Creating&quot;ibuf&quot;SwitchesinMaestroforNcore3.6/3.7-Prerequisites:">Prerequisites:</h3><ol start="1"><li><p>You need to have a recent Maestro build from the 3.6 or 3.7 development branches.</p><p /></li></ol><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>On 3.6, you also need to have access to the <code>Arteris/Dev</code> license as the feature is experimental.<br/>On 3.7, using <code>ibuf</code> switches is allowed unconditionally.</p></div></div><h3 id="Creating&quot;ibuf&quot;SwitchesinMaestroforNcore3.6/3.7-Procedure:">Procedure:</h3><ol start="1"><li><p>Create a project.</p></li><li><p>Once the project has been populated and a topology has been created, click on any switch and:</p><ol start="1"><li><p>Flip its <code>bufferingType</code> parameter to <code>INTERNAL</code>. This can be done with eithe the GUI or TCL<strong> </strong>Note that this will hide the <code>inputBufferDepth</code> parameter and make available <code>internalBufferDepth</code> instead. <strong>In 3.6, </strong><code>bufferingType</code> <strong>will not be visible without access to the </strong><code>Arteris/Dev</code> <strong>license.</strong></p></li><li><p>Then, you can change the<code>internalBufferDepth</code> parameter to the desired value. The default is 2; the value 0 is not available.</p></li></ol></li></ol><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>To revert back to a standard switch, change <code>bufferingType</code> back to <code>INPUT</code>.</p><p>This will hide the <code>internalBufferDepth</code> parameter and make available <code>inputBufferDepth</code> again.</p><p><code>inputBufferDepth</code> and <code>internalBufferDepth</code> are mutually exclusive; we don’t have an RTL switch that can have both input and internal buffers, so Maestro will not allow both parameters to be simultaneously visible or settable.</p></div></div><ol start="3"><li><p>Proceed as usual through mapping and collateral generation.</p></li></ol><p />