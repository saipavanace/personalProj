<h1 id="NCTopTest-Objective">Objective</h1><p>Before the real top level integration is ready, create a simplified top level in order to</p><ul><li>verify the test bench components are operating correctly</li><li>verify the bringup STL files are correct</li><li>potential find initial issues in the IOAIU and DMI</li></ul><h2 id="NCTopTest-TopLevelDiagram">Top Level Diagram</h2><p>Note this does not include a network, has IOAIU directly connected to DMI, and therefore can only do noncoherent operations.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="220" src="https://arterisip.atlassian.net/wiki/download/attachments/16159699/image2019-8-1%2013:22:37.png?api=v2"></span></p><h1 id="NCTopTest-Repo">Repo</h1><p>The nc_top model is stored in it's own branch. To checkout and build, do the following:</p><p>git clone git@gitlab.arteris.com:maestro-dev/packages/angelo.git<br/>cd angelo/<br/>module load maestro<br/>git checkout nc_top_test<br/>git submodule init<br/>git submodule update --remote<br/>setenv TEST_PRJ `pwd`/hw-test-projects<br/>mkdir build<br/>cd build<br/>cmake -DCMAKE_BUILD_TYPE=Release ..<br/>cd NCORE3/nc_top &amp;&amp; make -j</p><p>To run the top level test bench, do</p><p style="margin-left: 30.0px;">nc_test</p><p>The test runs 20 nc reads and 20 nc writes.</p><h1 id="NCTopTest-Project">Project</h1><p>The project is to copy nc_top.cpp to a new nc_top_test.cpp and modify it so it looks like the diagram above. The existing nc_top.cpp just has IOAIU and DMI connected directly, with testbench code to drive AXI transactions into ioaiu and respond to downstream AXI transactions from dmi. The code has comments AXIDRIVER and AXISLAVE to show what needs to be replaced by the AXI driver and AX slave.</p><p>Proposed steps to bringup:</p><ol><li>Replace AXILSLAVE commented code with AXI-TLM connected between DMI and AXI slave. Verify that the resulting testbench builds and runs.</li><li>Replace AXIDRIVER commented code with AXI-TLM connected between IOAIU and AXI driver, and include STL reader. Verify that the resulting testbench builds and runs the &quot;nc&quot; tests inÂ <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164521/Bringup+Tests" data-linked-resource-id="16164521" data-linked-resource-version="2" data-linked-resource-type="page">Bringup Tests</a></li><li>Add TPU driver and verify resulting testbench can run simple read and write prf files.</li></ol>