<p><strong>1. How to run simulation(s) to generate functional coverage data.</strong><br/>Here is how to run a simulation that capture functional coverage information from covergroups.<br/>runsim &lt;normal options&gt; -c_cov -co &quot;+define+FCOV&quot;<br/>runsim -e top_axi_axi -t top_axi_1x4_incr -c_cov -co &quot;+define+FCOV&quot;</p><p>I have chosen to guard the covergroups code with `ifdef FCOV for now.</p><p>Here is an example coverpoint.<br/> &lt;% if(interface_ar.cache) { %&gt;<br/> cp_ar_cache : coverpoint axi4_ar_cache {<br/> bins arcache_legal[] = { 'h0, 'h1, 'h2, 'h3, 'ha, 'hb, 'he, 'hf};<br/> illegal_bins ILLEGAL_default = default;<br/> }<br/>1. This coverpoint is tachl guarded by whether or not the arcache bits exist.<br/>2. [] causes a bin to be created for each value on the right.<br/>3. Any value not mentioned in arcache_legal is part of the default which is illegal_bins. If the default is hit, the simulation will fail with an error.</p><p>I have covergroups for every AXI interface signal. Address and data have some information but are still under construction.</p><p><strong>2. Analyzing coverage data.</strong><br/>In the simulation above, coverage was dumped to these files.<br/>(merge coverage for all tests run under a particular config)<br/>hw-sym/dv/debug/top_axi_axi/top_axi_1x4/coverage/merged_top_axi_axi_top_axi_1x4.ucdb<br/>(coverage per test iteration)<br/>hw-sym/dv/debug/top_axi_axi/top_axi_1x4/run/top_axi_1x4_incr_0/test0.ucdb<br/>In the case of running a single test like this example, the two files should have similar information. For regressions, you have the ability to look at coverage for the entire config or each individual test. Obviously, a regression may have multiple configs and therefore multiple merged cover database files.</p><p>To invoke the coverage viewer.<br/>vsim -viewcov &lt;filename&gt;<br/>or<br/>vsim -viewcov hw-sym/dv/debug/top_axi_axi/top_axi_1x4/coverage/merged_top_axi_axi_top_axi_1x4.ucdb<br/>On the right side in the middle, click on Covergroups.<br/>In this case it shows every AXI interface for this simulation. There is no view to see coverage merged across all AXI interfaces, since they are in different AXI packages.<br/>+/tb_top/axi4_in_if_4<br/>+/tb_top/axi4_out_if_0<br/>+/tb_top/axi4_out_if_1<br/>+/tb_top/axi4_out_if_2<br/>+/tb_top/axi4_out_if_3</p><p>Click on +/tb_top/axi4_in_if_4 to open it and it shows the 5 covergroups (AXI has 5 channels, only a coincidence that this simulation also has 5 interfaces).<br/>Next, click on +TYPE axi4_if_ar_fcoverage.<br/>Next, click on +INST Vtb_top/axi4_in_if_4/axi4_in_if_fcov<br/>Next, click on +CVP cp_ar_cache to see all the bin hit/miss detailed information.<br/>Yes, it takes a lot of clicking to get to the actual coverpoint details.</p><p><strong>3. Pros/cons.</strong><br/>This does give us the ability to rather quickly see whether the stimulus is exercising the AXI input interfaces well. If there are holes on the output interfaces, we could look at what the design is doing.<br/>The downside of this approach is that each AXI interface instance has separate coverage. Measuring this inside the scoreboard using axi4_seq_item information, as Saad recommends, could provide merged coverage.</p><p><strong>4. Other.</strong></p><p>We could add covergroups to APB in the future.</p><p>See <a class="external-link" href="https://arterisip.atlassian.net/browse/SYM-2515" rel="nofollow">SYM-2515</a>: error rerunning functional coverage sim.</p>