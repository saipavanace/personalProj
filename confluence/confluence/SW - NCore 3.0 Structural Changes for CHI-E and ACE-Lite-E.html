<p> </p><p> </p><p> </p><p> </p><div class="contentLayout2">
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Diagrams below are greatly simplified to make the relevant differences stand out.  The CSTI has been left out, and any elements that aren't directly involved in CHI-E handling have been left out (DCEs, NCBs, etc).  </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><img class="wysiwyg-unknown-macro" src="https://arterisip.atlassian.net/wiki/plugins/servlet/confluence/placeholder/unknown-macro?name=gliffy&amp;locale=en_US&amp;version=2" /></p><p>Fig 1: Structure of a simple NCore 2.x design with a single ACE Initiator and single AXI Target.</p><p>Coherent traffic is represented with purple connections, non-coherent traffic is represented with black connections.</p><p>This diagram is just here for comparison with the pre-CHI structure.  All non-coherent traffic is sent out on an AXI socket and handled within a separate standalone FlexNoC run.</p><hr/><p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><img class="wysiwyg-unknown-macro" src="https://arterisip.atlassian.net/wiki/plugins/servlet/confluence/placeholder/unknown-macro?name=gliffy&amp;locale=en_US&amp;version=2" /></p><p> </p><p>Fig 2: Structure of a simple NCore 3.0 design with a single CHI Initiator with Atomics disabled and single CHI Target, also with Atomics disabled.</p><p>Coherent traffic is represented with purple connections, non-coherent traffic is represented with black connections.</p><p>All non-coherent traffic is sent out on an AXI socket and handled within a separate standalone FlexNoC run.  This differs very little from the above ACE design, because without atomics the CHI non-coherent traffic doesn't need any special handling.</p><hr/><p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><img class="wysiwyg-unknown-macro" src="https://arterisip.atlassian.net/wiki/plugins/servlet/confluence/placeholder/unknown-macro?name=gliffy&amp;locale=en_US&amp;version=2" /></p><p>Fig 3: Structure of a simple NCore 3.0 CHI design with all CHI traffic sharing NCTI.</p><p>Coherent traffic is represented with purple connections, atomic non-coherent traffic is represented with orange connections, regular non-coherent traffic is represented with black connections.</p><div>In this design, the CCTI needs to have three switches inserted by NCore.</div><div><ol><li>separate the coherent traffic from the non-coherent traffic</li><li>separate some non-atomic non-coherent traffic from the non-coherent (either atomic or non-atomic) traffic going to the DMI.</li><li>combine the coherent and non-coherent traffic going to the DMI.</li></ol><p>This implies that NCore creates an initial topology with those switches in the PDD and</p><ul><li>the user is warned to preserve them - or -</li><li>there is a FlexNoC enhancement to allow NCore to lock part of the topology.</li></ul></div><hr/><p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><img class="wysiwyg-unknown-macro" src="https://arterisip.atlassian.net/wiki/plugins/servlet/confluence/placeholder/unknown-macro?name=gliffy&amp;locale=en_US&amp;version=2" /></p><p> </p><p>Fig 4: Alternate proposal - Structure of a simple NCore 3.0 CHI design with separate TI for atomic non-coherent traffic.</p><p>Coherent traffic is represented with purple connections, atomic non-coherent traffic is represented with orange connections, regular non-coherent traffic is represented with black connections.</p><p>If there are any CHI Initiators with Atomics enabled connected to any other CHI Target with Atomics enabled, the non-coherent atomic traffic needs to be isolated from the coherent traffic and from any non-coherent non-atomic traffic.  This is done with Yet Another Transport Interconnect (YATI).  Any non-coherent traffic that doesn't need atomics is sent through a DII to an AXI socket and handled within a separate standalone FlexNoC run.</p><hr/><p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><img class="wysiwyg-unknown-macro" src="https://arterisip.atlassian.net/wiki/plugins/servlet/confluence/placeholder/unknown-macro?name=gliffy&amp;locale=en_US&amp;version=2" /></p><p>Fig 5: Structure of a simple NCore 3.0 CHI design with all CHI traffic sharing CCTI variant 2.</p><p>Coherent traffic is represented with purple connections, non-coherent traffic is represented with black connections, mixed traffic is represented with purple dotted connections.</p><div>In this design, the task of designing the topology underneath is left to AEs/customers. They will need to be aware of the performance implications of their choices.</div></div>
</div>
</div>
</div>