<h1 id="SWTypetoTACHLandCPRcheckingtools-Setup">Setup</h1><p>We need to create two areas: A standard Symphony regression area and a git clone of the Maestro type file location</p><p style="margin-left: 30.0px;">mkdir type_check</p><p style="margin-left: 30.0px;">cd type_check</p><p style="margin-left: 30.0px;">mkdir regress</p><p style="margin-left: 30.0px;">cd regress</p><p style="margin-left: 30.0px;">/engr/dev/tools/script/setup_sym</p><p style="margin-left: 30.0px;">source SOURCEME</p><p style="margin-left: 30.0px;">cd ..</p><p style="margin-left: 30.0px;"> mkdir sw_type_files</p><p style="margin-left: 30.0px;">cd sw_type_files</p><p style="margin-left: 30.0px;">git clone <a class="external-link" href="mailto:git@gitlab.arteris.com" rel="nofollow">git@gitlab.arteris.com</a>:maestro/maestro.git .</p><p style="margin-left: 30.0px;">cd ..</p><p style="margin-left: 30.0px;"><br/></p><p>If you can't git clone the above repository, you can link to a directory I've created for this purpose:</p><p style="margin-left: 30.0px;">rm -rf sw_type_files</p><p style="margin-left: 30.0px;">ln -s /scratch/jcodd/sw_type_files .</p><p>If you need to update this area, you'll have to tell me so I can do a git pull.</p><h1 id="SWTypetoTACHLandCPRcheckingtools-RunSWTypetoTACHLcheckingtool:">Run SW Type to TACHL checking tool:</h1><p>The following command can be run anywhere:</p><p style="margin-left: 30.0px;">$WORK_TOP/../../hw-lib/js/check_type2src.js -w . -r $WORK_TOP/../.. -l $WORK_TOP/../../hw-sym -clo $WORK_TOP/../cpr/json/clo_file.txt -t $WORK_TOP/../../../sw_type_files/contrib/libmtypes/src/type_files/Ncore/rtlprimary/symphony_elements -t $WORK_TOP/../../../sw_type_files/contrib/libmtypes/src/type_files/Ncore/interfaces</p><p>There's a local copy of the type files in symphony directory that can be modified locally.  The purpose of this is to create a type file that SW can diff against to see the difference to a type file that doesn't fail.</p><p style="margin-left: 30.0px;">$WORK_TOP/../../hw-lib/js/check_type2src.js -w . -r $WORK_TOP/../.. -l $WORK_TOP/../../hw-sym -clo $WORK_TOP/../cpr/json/clo_file.txt -t $WORK_TOP/../type/Ncore/rtlprimary/symphony_elements -t $WORK_TOP/../type/Ncore/interfaces</p><p>It outputs both to the console and type2src_results.log</p><h1 id="SWTypetoTACHLandCPRcheckingtools-RunSWTypetoCPRcheckingtool:">Run SW Type to CPR checking tool:</h1><p>The following command can be run anywhere:</p><p style="margin-left: 30.0px;">$WORK_TOP/../../hw-lib/js/check_type2cpr.js -w . -r $WORK_TOP/../.. -l $WORK_TOP/../../hw-sym -t $WORK_TOP/../../../sw_type_files/contrib/libmtypes/src/type_files/Ncore/rtlprimary/symphony_elements -t $WORK_TOP/../../../sw_type_files/contrib/libmtypes/src/type_files/Ncore/interfaces</p><p>There's a local copy of the type files in symphony directory that can be modified locally.  The purpose of this is to create a type file that SW can diff against to see the difference to a type file that doesn't fail.</p><p style="margin-left: 30.0px;">$WORK_TOP/../../hw-lib/js/check_type2cpr.js -w . -r $WORK_TOP/../.. -l $WORK_TOP/../../hw-sym -t $WORK_TOP/../type/Ncore/rtlprimary/symphony_elements -t $WORK_TOP/../type/Ncore/interfaces</p><p>It outputs both to the console and type2cpr_results.log</p><h1 id="SWTypetoTACHLandCPRcheckingtools-RunCPRtoTACHLcheckingtool:">Run CPR to TACHL checking tool:</h1><p>Because we are using the CPR file for parameter coverage we still need to make sure the CPR file is passing all the checks:</p><p style="margin-left: 30.0px;">$WORK_TOP/../../hw-lib/js/check_cpr2src.js -w . -r $WORK_TOP/../.. -l $WORK_TOP/../../hw-sym -clo $WORK_TOP/../cpr/json/clo_file.txt</p><p>It outputs both to the console and cpr2src_results.log</p><h1 id="SWTypetoTACHLandCPRcheckingtools-CommonProblems">Common Problems</h1><p>On the CPR side, if you add or modify a parameter you need to edit it in two places:</p><p>The normal CPR places:</p><p style="margin-left: 30.0px;">hw-lib/cpr/design/postMap<br/>hw-sym/cpr/design/postMap</p><p>The parameter cover files places:</p><p style="margin-left: 30.0px;">hw-sym/dv/cover_files/hw-lib<br/>hw-sym/dv/cover_files/hw-sym</p>