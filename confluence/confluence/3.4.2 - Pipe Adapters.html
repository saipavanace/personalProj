<p>The pipe adapter is a unidirectional adapter that places storage along an ATP link and can be used as a pipe stage or FIFO. The ATP links going in and going out have identical definitions.</p><h4 id="id-3.4.2-PipeAdapters-Parameters">Parameters</h4><p><strong>style</strong>: FIFO, simple and circular.</p><p>FIFO and circular are functionally identical and just controls the internal structure of the pipe. A circular FIFO uses read and write pointers to implement a FIFO and the FIFO uses a traditional FIFO design where the output register is always the same register. A simple pipe forces the data through all register indicated by the depth, and so has a minimum latency of depth. Simple pipes will collapse bubbles in the pipe if the output cannot progress because of back pressure.</p><p><strong>pipeForward</strong>: true or false<br/><strong>pipeBackward</strong>: true or false </p><p>The ATP link uses a ready/valid protocol.</p><p>PipeForward = true indicates the valid going forward comes from a register as it exits the pipe. PipeForward = false indicates the valid going forward is a function of the internal state of the pipe adapter and the valid entering the pipe adapter. When pipeForward = false, the data can bypass the pipe stages if the pipe adapter is empty and there is no back pressure, out ATP link interface ready = true.</p><p>PipeBackward = true indicates that the ready going backwards comes from a register as it exits the pipe. PipeBackward = false indicates the ready going backwards is a function of the internal state of the FIFO and ready entering the pipe adapter. When pipeBackward = false, if the FIFO is full and the ready coming into the pipe is true, then the pipe can accept the beat on the input ATP link. </p><p><strong>depth</strong>: Then number of pipe stages in the pipe adapter.</p><p><strong>hDepth</strong>: The number of headers that the FIFO can hold. Has no meaning if split is false.</p><p><strong>split</strong>: true or false</p><p>If split is true and the packet style is parallel, then two internal FIFOs are created: one for header and one for data. hDepth sets the depth of the header fifo and Depth sets the depth of the data FIFO. If the packet style is serial or fixed, then there is still only one FIFO, but the depth is set to depth + hDepth.</p><p>This modes exist primarily to save area when average packets are large and the packet style is parallel.</p><p>As can be seen in the description, this single adapter can be used to create both FIFOs and pipe line stages. When configured as a pipe stage, the depth is typically set to 2 and pipeForward = pipeBackward = true. When configured as a large FIFO, the depth is large, the style is set to circular and pipeForward and pipeBackward are set based on the timing requirements.</p>