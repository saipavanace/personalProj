<p><br/></p><p>Spec is at:</p><p style="margin-left: 30.0px;"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159850/Arch+Ncore+3.2+Docs" data-linked-resource-id="16159850" data-linked-resource-version="57" data-linked-resource-type="page">Arch Ncore 3.2 Docs</a></p><p><br/></p><p>The following table is a checklist to mark complete or 'not applicable' for the block listed.</p><p>Please add any notes in the cell regarding any special info for the block.</p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 99.9023%;"><colgroup><col style="width: 17.9937%;"/><col style="width: 25.4233%;"/><col style="width: 14.3829%;"/><col style="width: 10.4683%;"/><col style="width: 7.72586%;"/><col style="width: 13.0069%;"/><col style="width: 10.9555%;"/></colgroup><tbody><tr><th class="confluenceTh"><p><br/></p></th><th class="confluenceTh"><p>chiaiu</p><p>(Boon)</p></th><th class="confluenceTh"><div class="content-wrapper"><p>ioaiu</p><p>(<a class="confluence-userlink user-mention" data-account-id="624b380df3824d006a5b441e" href="https://arterisip.atlassian.net/wiki/people/624b380df3824d006a5b441e?ref=confluence" target="_blank" data-linked-resource-id="790795" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Robert Podnar</a> )</p></div></th><th class="confluenceTh"><p>dce</p><p>(Darshan)</p></th><th class="confluenceTh"><p>dii</p><p>(Eric)</p></th><th class="confluenceTh"><p>dmi</p><p>(Benjamin)</p></th><th colspan="1" class="confluenceTh"><p>dve</p><p>(Bob)</p></th></tr><tr><td class="confluenceTd"><p>Register audit</p></td><td class="confluenceTd">complete</td><td class="confluenceTd">Complete</td><td class="confluenceTd"><p>Complete</p><p>Fixed issues by updating to use standard errCSR template.</p></td><td class="confluenceTd">Complete</td><td class="confluenceTd"><p>Complete </p><p>Found minor problem (see dmi paragraph)</p></td><td colspan="1" class="confluenceTd">complete</td></tr><tr><th colspan="7" class="confluenceTh">Correctable errors</th></tr><tr><td colspan="1" class="confluenceTd">Memory</td><td colspan="1" class="confluenceTd">n/a</td><td colspan="1" class="confluenceTd">Complete</td><td colspan="1" class="confluenceTd">Complete</td><td colspan="1" class="confluenceTd">n/a</td><td colspan="1" class="confluenceTd">Complete</td><td colspan="1" class="confluenceTd">Complete</td></tr><tr><td colspan="1" class="confluenceTd">Fault checker connections</td><td colspan="1" class="confluenceTd">n/a</td><td colspan="1" class="confluenceTd">Complete</td><td colspan="1" class="confluenceTd"><p>Complete</p><p>(added missing dm_CE and sys CE connections)</p></td><td colspan="1" class="confluenceTd"><p>Complete</p><p>(added missing dtw dbg rsp message)</p></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">Complete</td></tr><tr><th colspan="7" class="confluenceTh">Uncorrectable errors</th></tr><tr><td colspan="1" class="confluenceTd">Memory</td><td colspan="1" class="confluenceTd">n/a</td><td colspan="1" class="confluenceTd">Complete (uerrs[0])</td><td colspan="1" class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">n/a</td><td colspan="1" class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">Complete</td></tr><tr><td class="confluenceTd">Native Protocol</td><td class="confluenceTd">complete (chi_snp_resp_error)</td><td class="confluenceTd">Complete (uerrs[4])</td><td class="confluenceTd">n/a</td><td class="confluenceTd">complete</td><td class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">n/a</td></tr><tr><td class="confluenceTd">Transport</td><td class="confluenceTd">complete (wrong target id_error)</td><td class="confluenceTd">Complete (uerrs[1])</td><td class="confluenceTd">complete</td><td class="confluenceTd">complete</td><td class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">Complete</td></tr><tr><td class="confluenceTd">Decode</td><td class="confluenceTd">complete (addr_map_error, illegal_dii_access_type)</td><td class="confluenceTd">Complete (uerrs[2])</td><td class="confluenceTd"><span class="legacy-color-text-red2">not in arch doc, but in rtl  – Khaleel to add to spec (CONC-8182)</span></td><td class="confluenceTd">n/a</td><td class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">n/a</td></tr><tr><td class="confluenceTd">Timeout</td><td class="confluenceTd">complete</td><td class="confluenceTd">Complete (uerrs[3])</td><td class="confluenceTd">complete</td><td class="confluenceTd">n/a</td><td class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">n/a</td></tr><tr><td colspan="1" class="confluenceTd">Timeout (SysEvent/SysCo)</td><td colspan="1" class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">Complete</td><td colspan="1" class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">n/a</td><td colspan="1" class="confluenceTd">n/a (no exclusive monitor in 3.2)</td><td colspan="1" class="confluenceTd">n/a</td></tr><tr><td class="confluenceTd"><p>Completion</p><p>actions</p></td><td class="confluenceTd">complete</td><td class="confluenceTd">Complete (note: no near atomics for 3.2)</td><td class="confluenceTd">n/a</td><td class="confluenceTd"><br/></td><td class="confluenceTd">complete (see some comment in dmi section)</td><td colspan="1" class="confluenceTd">Complete</td></tr><tr><td class="confluenceTd"><p>Propagation</p><p>connections</p></td><td class="confluenceTd"><p>Found dtw_rsp_cm_status[7] propagation to CHI native interface as rn_resp.</p><p>Found str_req_error for coherent atomic propagation to CHI.</p><p>complete</p></td><td class="confluenceTd">Complete</td><td class="confluenceTd"><span class="legacy-color-text-red2">missing mrd rsp to str req connection (assign to Boon CONC-8182)</span></td><td class="confluenceTd"><p>Writes:</p><p>DBAD to BE Disable there</p><p>Reads:</p><p>RRESP to CMStatus/DBAD there.</p><p>Complete</p></td><td class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">Complete</td></tr><tr><td colspan="1" class="confluenceTd">Fault checker connections</td><td colspan="1" class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">Complete</td><td colspan="1" class="confluenceTd">complete</td><td colspan="1" class="confluenceTd">Complete</td><td colspan="1" class="confluenceTd"><p>complete</p><p>(added dtw_dbg_rsp)</p></td><td colspan="1" class="confluenceTd">Complete</td></tr><tr><th colspan="7" class="confluenceTh">Documentation</th></tr><tr><td class="confluenceTd">uarch spec update</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================">=======================================</h2><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-CSRGLOBALDEFINITIONS">CSR GLOBAL DEFINITIONS</h2><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================.1">=======================================</h2><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xCECR">xCECR</h3><p style="margin-left: 30.0px;">Meets Spec</p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xCESR">xCESR</h3><p style="margin-left: 30.0px;">ErrType is 15:12 in Spec and 15:11 in CPR <span class="legacy-color-text-green5">– changed to 15:12 in cpr</span></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xCELR0(reallyxELR0)">xCELR0 (really xELR0)</h3><p style="margin-left: 30.0px;">Meets Spec</p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xCELR1(reallyxELR1)">xCELR1 (really xELR1)</h3><p style="margin-left: 30.0px;">Meets Spec</p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xCESAR">xCESAR</h3><p style="margin-left: 30.0px;">ErrVld is is W1C in Spec and RW in CPR<span class="legacy-color-text-green5"> – changed to RW in spec 0.6</span><br/>ErrCountOverFlow is RO in Spec and RW in CPR<span class="legacy-color-text-green5"> – changed to RW in spec 0.6</span><br/>ErrCount is  RO in Spec and RW in CPR<span class="legacy-color-text-green5"> – changed to RW in spec 0.6</span><br/>ErrType bit offset is 12 in Spec and 11 in CPR. It is RO in Spec and RW in CPR. It is 4 bits wide in Spec and  5 bits wide in CPR.<span class="legacy-color-text-green5"> – changed to RW in spec 0.6</span><br/>ErrInfo is RO in Spec and RW in CPR<span class="legacy-color-text-green5"> – changed to RW in spec 0.6</span></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xCRTR">xCRTR</h3><p style="margin-left: 30.0px;">ResThreshold is reset to 0x0 in spec and 0x1 in CPR. <span class="legacy-color-text-green5">– changed to 0x1 in spec 0.6</span></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xUEDR">xUEDR</h3><p style="margin-left: 30.0px;">DecErrDetEn not defined in CPR <span class="legacy-color-text-green5">– added in cpr</span><br/>TimeOutErrDetEn not defined in <span class="legacy-color-text-green5"><span class="legacy-color-text-default">CPR <span class="legacy-color-text-green5">– added in cpr</span></span></span></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xUEIR">xUEIR</h3><p style="margin-left: 30.0px;">DecErrIntEn not defined in CPR <span class="legacy-color-text-green5">– added in cpr</span></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xUESR">xUESR</h3><p style="margin-left: 30.0px;">ErrType is 4 bits in Spec and 5 bits in CPR <span class="legacy-color-text-green5">– changed to 15:12 in cpr</span></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xUELR0(reallyxELR0)">xUELR0 (really xELR0)</h3><p style="margin-left: 30.0px;">Meets Spec</p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xUELR1(reallyxELR1)">xUELR1 (really xELR1)</h3><p style="margin-left: 30.0px;">Meets Spec</p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-xUESAR">xUESAR</h3><p style="margin-left: 30.0px;">ErrVld is W1C in Spec and RW in CPR <span class="legacy-color-text-green5">– changed to RW in spec 0.6</span><br/>ErrType is RO in Spec and RW in CPR. It is 4 bits wide in Spec and 5 in CPR <span class="legacy-color-text-green5">– changed to RW in spec 0.6</span><br/>ErrInfo is RO in Spec and RW in CPR <span class="legacy-color-text-green5">– changed to RW in spec 0.6</span></p><p><br/></p><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================CHIAIU=======================================">=======================================<br/>CHIAIU<br/>=======================================</h2><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-UncorrectableLocalErrors"><u>Uncorrectable Local Errors</u><br/><br/></h3><ol><li><strong>Protocol Native interface write:</strong> CHI data response errors<br/><u><em>Actions</em>:</u><br/>Log (if CAUIUEDR[ProtErrDetEn]=1)<br/>Interrupt (if CAIUUEIR[ProtErrIntEn]==1)</li><li><strong>Protocol Native interface snoop:</strong> CHI non-data response error<br/><u><em>Actions:</em></u><br/>Log (if CAIUUEDR[ProtErrDetEn]==1)<br/>Interrupt (if CAIUUEIR[ProtErrIntEn]==1)</li><li><strong>TransPort error</strong> (CMDreq/DTRreq/DTRrsp/DTWrsp/SNPreq/CMPrsp/sysReq/sysRsp/dtwDbgRsp illegal targetId only for 3.2)<br/><u><em>Actions:</em></u><br/>Log (if CAIUUEDR[TransErrIntEn]==1)<br/>Interrupt (if CAIUUEIR[TransErrIntEn]==1)<br/>Propagate (no): Drop the message; return ready</li><li><strong>Decode error</strong><br/><em><u>Actions</u>:</em><br/>Log (if CAIUUEDR[DecDetErrEn]==1)<br/>Interrupt (if CAIUUEIR[DecErrIntEn]==1)<br/>Propagation - none<br/>Complete CHI protocol; return non-data response error (and data error if read)</li><li><strong>Timeout:</strong> CCMP (CMDreq/STReq/SNPrsp)<br/><em><u>Actions:</u></em><br/>Log (if CAIUUEDR[TimeoutErrDetEn]==1)<br/>Interrupt (if CAIUUEIR[TimeoutErrIntEn]==1)<br/>Complete? (&quot;...software will now have te option to either disable timeout and continue, or treat this as a fatal error</li><li><strong>Timeout error:</strong> SysEvent<br/><em>Actions:</em><br/>Log (if CAIUUEDR[TimeoutErrDetEn]==1)<br/>Interrupt (if CAIUUEIR[TimeoutErrIntEn]==1)<br/>Propagation - none<br/>Complete EventIn protocol</li><li><strong>Timeout error:</strong> SysCo<br/><u><em>Actions:</em></u><br/>Log (if CAIUUEDR[TimeoutErrDetIn]==1)<br/>Interrupt (if CAIUUEIR[TimeoutErrIntEn]==1)<br/>Propagate (no)</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorcompletion"><u>Interface error completion</u></h3><ol><li>*strReq ( arch says complete) subsequent dtrReq will not arrive from system; (read); manufacture read data to processor</li><li>cmdRsp (uarch says complete)</li><li>dtwRsp (uarch says complete)</li><li>cmpRsp (uarch says complete)</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorpropagation"><u>Interface error propagation</u></h3><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-chiinput"><u>chi input</u></h4><ol><li>rx_req</li><li>*rx_rsp propagated to snpRsp</li><li>*rx_dat propagated to dtwReq or dtrReq</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-chioutput"><u>chi output</u></h4><ol><li>tx_snp</li><li>tx_rsp propagated from strReq, either data or non-data as appropriate</li><li>tx_dat propagated from dtrReqRx/dtwRsp, either data or non-data as appropriate</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertoinput"><u>concerto input</u></h4><ol><li>cmdRsp</li><li>*strReq propagated to chi tx_rsp</li><li>dtrReqRx propagated to chi tx_dat</li><li>dtrRspRx</li><li>*dtwRsp propagated to chi tx_dat (write or snoop resp w/ data)</li><li>dtwDbgRsp (ignore)</li><li>snpReq</li><li>cmpRsp</li><li>sysRspRx (ignore)</li><li>sysReqRx (ignore)</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertooutput"><u>concerto output</u></h4><ol><li>cmdReq</li><li>strRsp</li><li>*dtrReqTx propagated from chi rx_dat, either data or non-data as appropriate</li><li>dtrRspTx</li><li>*dtwReq propagated from chi rx_dat, either data or non-data as appropriate</li><li>dtwDbgReq</li><li>*snpRsp propagated from chi rx_rsp</li><li>sysReqTx</li><li>sysRspTx</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CSR">CSR</h3><p style="margin-left: 30.0px;">There are two CSR definitions. Using chi_aiu.csr.cpr</p><p style="margin-left: 30.0px;">Uses standard template for:</p><p style="margin-left: 60.0px;">CAIUCRTR uses xCRTR<br/>CAIUUESR uses xUESR<br/>CAIUUELR0 uses xELR0<br/>CAIUUELR1 uses xELR1<br/>CAIUUESAR uses xUESAR</p><p style="margin-left: 30.0px;">CAIUCECR doesn't exist</p><p style="margin-left: 30.0px;">CAIUCESR doesn't exist</p><p style="margin-left: 30.0px;">CAIUCELR0 doesn't exist</p><p style="margin-left: 30.0px;">CAIUCELR1 doesn't exist</p><p style="margin-left: 30.0px;">CAIUCESAR doesn't exist</p><p style="margin-left: 30.0px;">CAIUUEDR meets Spec</p><p style="margin-left: 30.0px;">CAIUUEIR meets Spec</p><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================IOAIU=======================================">=======================================<br/>IOAIU<br/>=======================================</h2><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CorrectableLocalErrors"><u>Correctable Local Errors</u></h3><ol><li><strong>Data correctable error</strong> (ott)<br/><u><em>Actions:</em></u><br/>Log (if XAIUCECR[ErrDetEn]==1<span class="legacy-color-text-blue3"><span> </span>&amp;&amp; (XAIUCECR[ErrThreshold]==XAIUCESR[ErrCount]))<br/>Interrupt (if XAIUCECR[ErrIntEn]==1 &amp;&amp; (XAIUCECR[ErrThreshold]==XAIUCESR[ErrCount])</span></li><li><strong>Cache correctable error</strong> (Proxy cache Tag/Data/Replacement)<br/><u><em>Actions:</em></u><br/>Log (if XAIUCECR[ErrDetEn]==1<span class="legacy-color-text-blue3"><span> </span>&amp;&amp; (XAIUCECR[ErrThreshold]==XAIUCESR[ErrCount])</span>)<br/>Interrupt (if XAIUCECR[ErrIntEn]==1 &amp;&amp; (XAIUCECR[ErrThreshold]==XAIUCESR[ErrCount])</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-UncorrectableLocalErrors.1"><u>Uncorrectable Local Errors</u></h3><ol><li><strong>Data uncorrectable error</strong> (ott)<br/><u><em>Actions:</em></u><br/>Log (if XAIUUEDR[MemErrDetEn]==1)<br/>Interrupt (if XAIUUEIR[MemErrIntEn]==1)<br/>Propagate:<br/>- DtwReq w/ cmstatus=DataError &amp; Poison<br/>- Set poison for cache data<br/>- AXI read data rresp=SLVERR</li><li><strong>Cache uncorrectable error</strong> (Proxy cache Tag/Data/Replacement)<br/><u><em>Actions:</em></u><br/>Log (if XAIUUEDR[MemErrDetEn]==1)<br/>Interrupt (if XAIUUEIR[MemErrIntEn]==1)<br/>Propagate:<br/>- tag error on AXI/ACE request, send r/bresp=DECERR<br/>- tag error on SnpReq, send SnpRsp cmstatus=AddressErr<br/>- data error on AXI/ACE request, send rresp=SLVERR<br/>- data error on CCMP request, send cmstatus=DataErroor &amp; poison on DtrReq/DtwReq</li><li><strong>Protocol Native interface snoop:</strong> ACE CRresp error<br/><u><em>Actions:</em></u><br/>Log (if XAIUUEDR[ProtErrDetEn]==1)<br/>Interrupt (if XAIUUEIR[ProtErrIntEn]==1)<br/>Propagate error on SnpRsp</li><li><strong>TransPort error</strong> (CMDrsp/DTWrsp/DTRrsp/SNPreq/DTRreq/STRreq/updRsp/sysReq/sysRsp/dtwDbgRsp illegal targetId only for 3.2)<br/><u><em>Actions:</em></u><br/>Log (if XAIUUEDR[TransErrIntEn]==1)<br/>Interrupt (if XAIUUEIR[TransErrIntEn]==1)<br/>Propagate (no): Drop the message; return ready</li><li><strong>Decode error</strong><br/><u><em>Actions:</em></u><br/>Log (if XAIUUEDR[DecDetErrEn]==1)<br/>Interrupt (if XAIUUEIR[DecErrIntEn]==1)<br/>Propagation - none<br/>Complete Axi/Ace protocol; return DECERR</li><li><strong>Timeout error</strong> (CMDreq/STRreq/DTWreq)<br/><u><em>Actions:</em></u><br/>Log (if XAIUUEDR[TimeoutErrDetEn]==1)<br/>Interrupt (if XAIUUEIR[TimeoutErrIntEn]==1)<br/>Complete? (&quot;...software will now have the option to either disable timeout and continue, or treat this as a fatal error</li><li><strong>Timeout error:</strong> SysEvent<br/><u><em>Actions:</em></u><br/>Log (if XAIUUEDR[TimeoutErrDetEn]==1)<br/>Interrupt (if XAIUUEIR[TimeoutErrIntEn]==1)<br/>Propagation - none<br/>Complete EventIn protocol</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorpropagation.1"><u>Interface error propagation</u></h3><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-aceinput"><u>ace input</u></h4><ol><li>ar</li><li>w(poison) propagated to dtwReq or dtrReq</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-aceoutput"><u>ace output</u></h4><ol><li>r propagated from dtrReqRx/dtwRsp, either data or non-data as appropriate</li><li>b</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertoinput.1"><u>concerto input</u></h4><ol><li>*strReq propagated to ace rresp</li><li>snpReq</li><li>cmdRsp</li><li>dtrRspRx</li><li>*dtwRsp propagated to ace bresp</li><li>updRsp</li><li>dtrReqRx</li><li>sysReqRx</li><li>sysRspRx</li><li>dtwDbgRsp</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertooutput.1"><u>concerto output</u></h4><ol><li>cmdReq</li><li>updReq</li><li>snpRsp</li><li>strRsp</li><li>dtrRspTx</li><li>*dtrReqTx propagated from ??</li><li>dtwReq</li><li>sysReqTx</li><li>sysRspTx</li><li>dtwDbgReq</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Miscellaneous"><u>Miscellaneous</u></h3><ol><li>error on 1st part of coherent atomic<span class="legacy-color-text-green4"> – no atomics for 3.2</span><ol><li><u>Actions</u>:<ol><li>drop 2nd half of transaction</li><li>Propagate: error to ACE</li></ol></li></ol></li><li>error on 2nd part of coherent atomic<span class="legacy-color-text-green4"> – no atomics for 3.2</span><ol><li><u><span class="legacy-color-text-blue1">Actions</span></u>:<ol><li>Propagate: error to ACE</li></ol></li></ol></li><li>error on non-coherent part of WriteBack/WriteClean/WriteEvict/Evict<ol><li><u>Actions</u>:<ol><li>Do not drop coherent update to DCE</li><li>Propagate: error response on ACE interface</li></ol></li></ol></li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CSR.1">CSR</h3><p style="margin-left: 30.0px;">Uses standard template for:</p><p style="margin-left: 60.0px;">XAIUCECR uses xCECR<br/>XAIUCESR usees xCESR<br/>XAIUCELR0 uses xELR0<br/>XAIUCELR1 uses xELR1<br/>XAIUCESAR uses xCESAR<br/>XAIUCRTR uses xCRTR<br/>XAIUUESR uses xUESR<br/>XAIUUELR0 uses xELR0<br/>XAIUUELR1 uses xELR1<br/>XAIUUESAR uses xUESAR</p><p style="margin-left: 30.0px;">XAIUUEDR meets Spec</p><p style="margin-left: 30.0px;">XAIUUEIR meets Spec</p><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================DCE=======================================">=======================================<br/>DCE<br/>=======================================</h2><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CorrectableLocalErrors.1"><u>Correctable Local Errors</u></h3><ol><li><strong>Data correctable error</strong> (Snoop filter)<br/><u><em>Actions:</em></u><br/>Log (if DCEUCECR[ErrDetEn]==1<span class="legacy-color-text-blue3"><span> </span>&amp;&amp; (DCEUCECR[ErrThreshold]==DCEUCESR[ErrCount])</span>)<br/>Interrupt (if DCEUCECR[ErrIntEn]==1 &amp;&amp; (DCEUCECR[ErrThreshold]==DCEUCESR[ErrCount]))</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-UncorrectableLocalErrors.2"><u>Uncorrectable Local Errors</u></h3><ol><li><strong>Data uncorrectable error</strong> (Snoop filter)<br/><em><u>Actions:</u></em><br/>Log (if DCEUUEDR[MemErrDetEn]==1)<br/>Interrupt (if DCEUUEIR[MemErrIntEn]==1)<br/>Propagate: Issue StrReq w/ cmstatus=AddrError</li><li><strong>TransPort error </strong>(cmdReq/updReq/rbuReq/snpRsp/strRsp/mrdRsp/rbrRsp illegal targetId only for 3.2)<br/><u><em>Actions:</em></u><br/>Log (if DCEUUEDR[TransErrIntEn]==1)<br/>Interrupt (if DCEUUEIR[TransErrIntEn]==1)<br/>propagate (no): Drop the message; return ready</li><li><strong>Timeout error</strong> (recall)</li><li><strong>Timeout error:</strong> SysEvent<br/><u><em>Actions:</em></u><br/>Log (if DCEUUEDR[TimeoutErrDetEn]==1)<br/>Interrupt (if DCEUUEIR[TimeoutErrIntEn]==1)<br/>Propagation - none<br/>Complete EventIn protocol</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorcompletion.1"><u>Interface error completion</u></h3><p><br/>(1) n/a</p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorpropagation.2"><u>Interface error propagation</u></h3><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertoinput.2"><u>concerto input</u></h4><ol><li>cmdReq</li><li>updreq</li><li><br/>rbuReq</li><li>*snpRsp<ol><li>none if any snooper providing data via DtrReq</li><li>strReq cmstatus=??Err if no snooper providing data</li></ol></li><li>strRsp</li><li>*mrdRsp propagated to strReq <span class="legacy-color-text-red2">- missing?</span></li><li>rbrRsp</li><li>sysRspRx</li><li>sysReqRx</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertooutput.2"><u>concerto output</u></h4><ol><li>cmdRsp</li><li>updRsp</li><li>rbuRsp</li><li>snpReq</li><li>strReq propagated from snpRsp or <span class="legacy-color-text-red2">mrdReq</span></li><li>rbrReq</li><li>mrdReq</li><li>sysReqTx</li><li>sysRspTx</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CSR.2">CSR</h3><p style="margin-left: 30.0px;">Uses standard template for:</p><p style="margin-left: 60.0px;">DCEUCECR uses xCECR<br/>DCEUCESR uses xCESR<br/>DCEUCELR1 uses xELR1<br/>DCEUCESAR uses xCESAR<br/>DCEUCRTR uses xCRTR<br/>DCEUUESR uses xUESR<br/>DCEUUESAR use xUESAR</p><p style="margin-left: 30.0px;">DCECELR0</p><p style="margin-left: 60.0px;">ErrWord is missing <span class="legacy-color-text-green5">- added; now use standard errCsr template</span><br/>ErrWay is 6 bits wide in spec and 12 bits wide in CPR</p><p style="margin-left: 30.0px;">DCEUUEDR</p><p style="margin-left: 30.0px;"><span class="legacy-color-text-green5">Note: No protocol errors for dce, but added the errCSR template for consistency</span></p><p style="margin-left: 60.0px;">ProtErrDetEn is missing <span class="legacy-color-text-green5">- added; now use standard errCsr template</span><br/>All other fields' bit offsets are off by -1.<span class="legacy-color-text-green5"> - fixed</span></p><p style="margin-left: 30.0px;">DCEUUEIR</p><p style="margin-left: 60.0px;">ProtErrIntEn is missing <span class="legacy-color-text-green5">- added; now use standard errCsr template</span><br/>All other fields' bit offsets are off by -1<span class="legacy-color-text-green5"> - fixed</span></p><p style="margin-left: 30.0px;">DECUUELR0</p><p style="margin-left: 60.0px;">ErrWord is missing <span class="legacy-color-text-green5">- added; now use standard errCsr template</span><br/>ErrWay is 6 bits wide in spec and 12 bits wide in CPR<span class="legacy-color-text-green5"> - fixed</span></p><p style="margin-left: 30.0px;">DECUUELR1</p><p style="margin-left: 60.0px;">Meets Spec</p><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================DII=======================================">=======================================<br/>DII<br/>=======================================</h2><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CorrectableLocalErrors.2"><u>Correctable Local Errors</u></h3><ol><li><strong>Data correctable error</strong> (read buffer)<br/><u><em>Actions:</em></u><br/>Log (if DIIUCECR[ErrDetEn]==1 &amp;&amp; (DIIUCECR[ErrThreshold]==DIIUCESR[ErrCount]))<br/>Interrupt (if DIIUCECR[ErrIntEn]==1 &amp;&amp; (DIIUCECR[ErrThreshold]==DIIUCESR[ErrCount]))</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-UncorrectableLocalErrors.3"><u>Uncorrectable Local Errors</u></h3><ol><li><strong>Data uncorrectable error</strong> (read buffer)<br/><u><em>Actions:</em></u><br/>Log (if DIIUUEDR[MemErrDetEn]==1)<br/>Interrupt (if DIIUUEIR[MemErrIntEn]==1)</li><li><strong>Protocol Native interface wrte:</strong> AXI bresp error<br/><u><em>Actions:</em></u><br/>Log (if DIIUUEDR[ProtErrDetEn]==1)<br/>Interrupt (if DIIUUEIR[ProtErrIntEn]==1)<br/>Propagate error on DtwRsp</li><li><strong>Protocol Native interface read:</strong> AXI rresp error<br/><em><strong>Actions:</strong></em><br/>Log (if DIIUUEDR[ProtErrDetEn]==1)<br/>Interrupt (if DIIUUEIR[ProtErrIntEn]==1)<br/>Propagate error on DtrReq</li><li><strong>TransPort error</strong> (CMDreq/DTWreq/DTRrsp/STRrsp illegal targetId only for 3.2)<br/><u><em>Actions:</em></u><br/>Log (if DIIUUEDR[TransErrIntEn]==1)<br/>Interrupt (if DIIUUEIR[TransErrIntEn]==1)<br/>Propagate (no): Drop the message; return ready</li></ol><p><br/></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorcompletion.2"><u>Interface error completion</u></h3><ol><li>n/a</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorpropagation.3"><u>Interface error propagation</u></h3><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-axi4input"><u>axi4 input</u></h4><ol><li>rresp propagate to dtrReq; cmstatus==TargetError(slvErr) or cmstatus==addressError(decErr); set dBad</li><li>bresp propagate to dtwRsp; cmstatus==TargetError(slvErr) or cmstatus==addressError(decErr)</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertoinput.3"><u>concerto input</u></h4><ol><li>cmdReq</li><li>strRsp</li><li>dtrRsp</li><li>*dtwReq<ol><li>(1) wstrb set to 0 if AXI destination</li><li>(2) DTWrsp cmstatus=0</li><li>(3) poison data in cache</li></ol></li><li>dtwDbgRsp</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertooutput.3"><u>concerto output</u></h4><ol><li>dtwRsp propagated from bresp</li><li>strReq</li><li>*dtrReq propagated from rresp</li><li>dtwDbgReq</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CSR.3">CSR</h3><p style="margin-left: 30.0px;">Uses standard template for:</p><p style="margin-left: 60.0px;">DIIUCECR → xCECR<br/>DIIUCESR → xCESR<br/>DIIUCELR0 → xELR0<br/>DIIUCELR1 → xELR1<br/>DIIUCESAR→ xCESAR<br/>DIIUUESR → xUESR<br/>DIIUUER0 → xELR0<br/>DIIUUER1 → xELR1<br/>DIIUUESAR → xUESAR<br/>DIIUCRTR → xCRTR<br/><br/></p><p style="margin-left: 30.0px;">DIIUUEDR: Missing definitions for:</p><p style="margin-left: 60.0px;">DecErrDetEn - <span class="legacy-color-text-green5">ok; no decode error in dii</span><br/>TimeOutErrDetEn - <span class="legacy-color-text-green5">ok; no SysEvent block in this rev of nCore</span></p><p style="margin-left: 30.0px;">DIIUUEIR: Missing definitions for:</p><p style="margin-left: 60.0px;">DECErrIntEn - <span class="legacy-color-text-green5">ok; no decode error in dii</span><br/>TimeOutErrIntEn - <span class="legacy-color-text-green5">ok; no SysEvent block in this rev of nCore</span></p><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================DMI=======================================">=======================================<br/>DMI<br/>=======================================</h2><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CorrectableLocalErrors.3"><u>Correctable Local Errors</u></h3><ol><li><strong>Data correctable error</strong> (write buffer)<br/><u><em>Actions:</em></u><br/>Log (if DMIUCECR[ErrDetEn]==1 &amp;&amp; (DMIUCECR[ErrThreshold]==DMIUCESR[ErrCount]))<br/>Interrupt (if DMIUCECR[ErrIntEn]==1 &amp;&amp; (DMIUCECR[ErrThreshold]==DMIUCESR[ErrCount]))</li><li><strong>Cache correctable error</strong> (SMC tag/data/replacement)<br/><u><em>Actions:</em></u><br/>Log (if DMIUCECR[ErrDetEn]==1 &amp;&amp; (DMIUCECR[ErrThreshold]==DMIUCESR[ErrCount]))<br/>Interrupt (if DMIUCECR[ErrIntEn]==1 &amp;&amp; (DMIUCECR[ErrThreshold]==DMIUCESR[ErrCount])</li></ol><p><br/></p><p><span class="legacy-color-text-red2">assign corr_err_vld       = pipe_ccp__correctible_error_valid | protCtrl_c_wr_data_mem_ce;</span></p><p><span class="legacy-color-text-red2">assign corr_err_type      = pipe_ccp__correctible_error_valid ? \=wCErrType=\'d1 : \=wCErrType=\'d0 ;</span></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-UncorrectableLocalErrors.4"><u>Uncorrectable Local Errors</u></h3><ol><li><strong>Data uncorrectable error</strong> (write buffer)<br/><u><em>Actions:</em></u><br/>Log (if DMIUUEDR[MemErrDetEn]==1)<br/>Interrupt (if DMIUUEIR[MemErrIntEn]==1)</li><li><strong>Cache uncorrectable error</strong> (SMC tag/data/replacement)<br/><u><em>Actions:</em></u><br/>Log (if DMIUUEDR[MemErrDetEn]==1)<br/>Interrupt (if DMIUUEIR[MemErrIntEn]==1)<br/>Propagate:<br/>- tag error for CmdReq/MrdReq/DtwMrgMrdReq,<br/>DtrReq cmstatus=AddressError, plus manufacture correctly sized poisoned data<br/>- tag error for Prefetch,<br/>drop messge, send StrReq wo/ error. <span class="legacy-color-text-red2">This seems correct also the diagram in DMI uarch do no mention the StrReq for prefetch. We think it is probably an old diagram.</span><br/>- data error, data poisoned and DtrReq cmstatus=DataError</li><li><strong>Protocol Native interface write:</strong> AXI bresp error<br/><u><em>Actions:</em></u><br/>Log (if DMIUUEDR[ProtErrDetEn]==1)<br/>Interrupt (if DMIUUEIR[ProtErrIntEn]==1)<br/>Propagate error on DtwRsp</li><li><strong>Protocol Native interface read:</strong> AXI rresp error<br/><u><em>Actions:</em></u><br/>Log (if DMIUUEDR[ProtErrDetEn]==1)<br/>Interrupt (if DMIUUEIR[ProtErrIntEn]==1)<br/>Propagate error on DtrReq</li><li><strong>TransPort error</strong> (CNDreq/DTWreq/SNPrsp illegal targetId only for 3.2)<br/><em>Actions:</em><br/>Log (if DMIUUEDR[TransErrIntEn]==1)<br/>Interrupt (if DMIUUEIR[TransErrIntEn]==1)<br/>propagate (no): Drop the message; return ready</li><li><strong>Timeout error</strong> (evictions)<br/><u><em>Actions:</em></u><br/>Log (if DMIUUEDR[TimeoutErrIntEn]==1)<br/>Interrupt (if DMIUUEIR[TimeoutErrIntEn]==1)<br/>Propagate (?)<br/>Complete (?)</li><li><strong>Timeout error</strong>: SysEvent <span class="legacy-color-text-red2">Not in Ncore 3.2. If Exclusive monitor are added to DMI in Ncore3.4 then will be there (per Boon).</span><br/><u><em>Actions:</em></u><br/>Log (if DMIUUEDR[TimeoutErrDetEn]==1)<br/>Interrupt (if DMIUUEIR[TimeoutErrIntEn]==1)<br/>Propagation - none<br/>Complete EventIn protocol</li></ol><p><br/></p><p><span class="legacy-color-text-red2">assign uncorr_err_vld       = pipe_ccp__uncorrectible_error_valid   |</span></p><p><span class="legacy-color-text-red2">                              transCtrl_downstream_bresp_err        |</span></p><p><span class="legacy-color-text-red2">                              transCtrl_downstream_rresp_err        |</span></p><p><span class="legacy-color-text-red2">                              protCtrl_c_wr_data_mem_uce            |</span></p><p><span class="legacy-color-text-red2">                              protCtrl_target_id_error              |</span></p><p><span class="legacy-color-text-red2">                              wtt_timeout_ue_valid;</span></p><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorcompletion.3"><u>Interface error completion</u></h3><ol><li>prefetch(?) arch says terminate on tag error</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorpropagation.4"><u>Interface error propagation</u></h3><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-axi4input.1"><u>axi4 input</u></h4><ol><li>rresp propagate to dtrReq; cmstatus==TargetError(slvErr) or cmstatus==addressError(decErr); set dBad</li><li>bresp propagate to dtwRsp; cmstatus==TargetError(slvErr) or cmstatus==addressError(decErr)</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertoinput.4"><u>concerto input</u></h4><ol><li>cmdReq</li><li>mrdReq</li><li>rbrReq</li><li>strRsp</li><li>rbuRsp</li><li>dtrRsp</li><li>*dtwReq<ol><li>wstrb set to 0 if AXI destination</li><li>DTWrsp cmstatus=0</li><li>poison data in cache</li></ol></li><li>dtwDbgRsp</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertooutput.4"><u>concerto output</u></h4><ol><li>dtwRsp propagated from bresp</li><li>rbrRsp</li><li>rbuReq</li><li>strReq</li><li>mrdRsp</li><li>*dtrReq arch<ol><li>tag uncorrectable cmdReq/mrdReq/dtwMrgMrdReq, send cmstatus=addressCorruption</li><li>tag uncorrectable prefetch message (?), send cmstatus=none (but cancel prefetch). </li><li>data uncorrectable cmdReq/mrdReq/dtwMrgMrdReq, send cmstatus=dataError</li><li>propagated from bresp</li></ol></li><li>dtwDbgReq</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CSR.4">CSR</h3><p style="margin-left: 30.0px;">Uses standard template for:</p><p><br/></p><p style="margin-left: 60.0px;">DMIUCECR uses xCECR<br/>DMIUCESR uses xCESR  <span class="legacy-color-text-red2"> ErrCountOverflow  and ErrCount   are missing writing through the DMIUCESAR. Probably related to : </span><a class="external-link" href="https://arterisip.atlassian.net/browse/CONC-7992" rel="nofollow" style="text-decoration: none;">CONC-7992</a><span class="legacy-color-text-red2">*CESR register dosen't fet value written in *CESAR for DCE, DMII and DII</span><br/>DMIUCELR0 uses xELR0<br/>DMIUCELR1 uses xELR1<br/>DMIUCESAR uses xCESAR<br/>DMIUCRTR uses xCRTR<br/>DMIUUESR uses xUESR<br/>DMIUUELR0 uses xELR0<br/>DMIUUELR1 uses xELR1<br/>DMIUUesar uses xUESAR</p><p style="margin-left: 60.0px;"><br/></p><p style="margin-left: 30.0px;">DMIUUEDR</p><p style="margin-left: 60.0px;">Missing field DecErrDetEn</p><p style="margin-left: 30.0px;">DMIUUEIR</p><p style="margin-left: 60.0px;">Missing field DecErrIntEn</p><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================DVE=======================================">=======================================<br/>DVE<br/>=======================================</h2><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CorrectableLocalErrors.4"><u>Correctable Local Errors</u><br/><br/></h3><ol><li><strong>Data correctable error</strong> (trace buffer)<br/><em><u>Actions:</u></em><br/>Log (if DVEUCECR[ErrDetEn]==1 &amp;&amp; (DVEUCECR[ErrThreshold]==DVEUCESR[ErrCount]))<br/>Interrupt (if DVEUCECR[ErrIntEn]==1 &amp;&amp; (DVEUCECR[ErrThreshold]==DVEUCESR[ErrCount])</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-UncorrectableLocalErrors.5"><u>Uncorrectable Local Errors</u><br/><br/></h3><ol><li><strong>Data uncorrectable error</strong> (trace buffer)<br/><u><em>Actions:</em></u><br/>Log (if DVEUUEDR[MemErrDetEn]==1)<br/>Interrupt (if DVEUUEIR[MemErrIntEn]==1)</li><li><strong>TransPort error</strong> (CMDreq/DTWreq/SNOrsp/STRrsp/DTWDbgReq illegal targetId only for 3.2)<br/><u><em>Actions:</em></u><br/>Log (if DVEUUEDR[TransErrIntEn]==1)<br/>Interrupt (if DVEUUEIR[TransErrIntEn]==1)<br/>propagate (no): Drop the message; return ready</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorcompletion.4"><u>Interface error completion</u></h3><ol><li>dtwReq (uarch says terminate) DtwRsp == no error, CmpRsp == DataError, (DvmOp only))</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-Interfaceerrorpropagation.5"><u>Interface error propagation</u></h3><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertoinput.5"><u>concerto input</u></h4><ol><li>cmdReq</li><li>dtwReq propagated to cmpRsp (uarch says log, but no interrupt?)</li><li>snpRsp propagated to cmpRsp</li><li>strRsp</li><li>sysReq</li><li>dtwDbgReq</li></ol><h4 id="Ncore3.2ErrorMicroArchitecturechecklist-concertooutput.5"><u>concerto output</u></h4><ol><li>strReq</li><li>dtwRsp</li><li>snpReq</li><li>cmpRsp propagated from dtwReq (data error), or cmpRsp (snpRsp cmstatus)</li><li>sysRsp</li><li>dtwDbgRsp</li></ol><h3 id="Ncore3.2ErrorMicroArchitecturechecklist-CSR.5">CSR</h3><p style="margin-left: 30.0px;">Uses standard template for:</p><p style="margin-left: 60.0px;">DVEUCRTR uses xCRTR<br/>DVEUUEDR uses xUEDR<br/>DVEUUEIR uses xUEIR<br/>DVEUUESR uses xUESR<br/>DVEUUELR0 uses xELR0<br/>DVEUUELR1 uses xELR1<br/>DVEUUESAR uses xUESAR</p><p style="margin-left: 30.0px;">DVEUCECR is missing</p><p style="margin-left: 30.0px;">DVEUCESR is missing</p><p style="margin-left: 30.0px;">DVEUCELR0 is missing</p><p style="margin-left: 30.0px;">DVEUCELR1 is missing</p><p style="margin-left: 30.0px;">DVEUCESAR is missing</p><p style="margin-left: 30.0px;"><br/></p><h2 id="Ncore3.2ErrorMicroArchitecturechecklist-=======================================MISCELLANEOUS=======================================">=======================================<br/>MISCELLANEOUS<br/>=======================================</h2><ol><li><strong>Unsupported message type (?)</strong><br/><u><em>Actions:</em></u><br/>Log (no)<br/>Propagate (no)</li></ol><p><br/></p><p><br/></p><p><br/></p>