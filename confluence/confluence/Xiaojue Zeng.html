<h2 id="XiaojueZeng-Weekending">Week ending <time datetime="2023-01-17" class="date-past">17 Jan 2023</time></h2><ul><li>Ncore3.6<ul><li>Reviewing DVM mapping table to support DVM_v8.4 for CHI and ACE.</li><li>Synced up with DV on updating TB to support CCP tagpipe slow sram fix.</li><li>Start looking into error handling for new CHI-E transaction types.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.1">Week ending <time datetime="2023-01-10" class="date-past">10 Jan 2023</time></h2><ul><li>Ncore3.4 CAIU<ul><li>Awaiting Synopsys VIP Functional coverage number.</li></ul></li><li>Ncore3.6 CHI-E<ul><li>Reviewing CHI-B to CHI-E.c feature lists with the team. Scoping out features that require Ncore changes.</li><li>Still bringing up 3.6 CAIU TB with Synopsys VIP.</li></ul></li><li>Ncore3.6 Slow Sram<ul><li>Awaiting Synopsys Automotive Sram </li><li>Need DV to pull in</li></ul></li><li>Ncore3.8<ul><li>Working on defining IOAIU Proxy Cache interface with the architecture team.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.2">Week ending <time datetime="2023-01-03" class="date-past">03 Jan 2023</time></h2><ul><li>Ncore3.6<ul><li>Finishing scrutinizing CHI-B to CHI-E.c feature changes. Ready for review.</li><li>Picking up CCP DataPipe Gearbox logic from Rong.</li><li>Transferring CHI-E work to Boon and Darshan.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.3">Week ending <time datetime="2022-12-20" class="date-past">20 Dec 2022</time></h2><ul><li>PTO 3 days off</li><li>Reviewing CHI-B to CHI-E.c architecture spec changes.</li></ul><h2 id="XiaojueZeng-Weekending.4">Week ending <time datetime="2022-12-13" class="date-past">13 Dec 2022</time></h2><ul><li>Ncore3.6<ul><li>Reviewing CHI-B to CHI-E.c architecture spec changes.</li><li>Reviewed CAIU OWO implementation in Ncore3.4. Came up with a proposal to support WriteNoSnoop OWO in Ncore3.6. Fix will be confined within CAIU only.</li></ul></li><li>Ncore3.8<ul><li>Discussed new IOAIU micro-architecture within the design team. Agreed on the AXI+Proxy Cache Modular design. Working on high-level block diagram for future discussion.</li><li>Working on optimized OWO for Ncore3.8. </li></ul></li></ul><h2 id="XiaojueZeng-Weekending.5">Week ending <time datetime="2022-12-06" class="date-past">06 Dec 2022</time></h2><ul><li>Ncore3.6<ul><li>Uploaded CCP micro-architecture spec with sram timing fix.</li><li>Awaiting TB update to support CHI-E interface.</li></ul></li><li>Participated in new IOAIU micro-architecture discussion.</li><li>Reviewing Ncore3 OWO implementation in IOAIU.</li></ul><h2 id="XiaojueZeng-Weekending.6">Week ending <time datetime="2022-11-29" class="date-past">29 Nov 2022</time></h2><ul><li>Ncore3.6<ul><li>Resume DMI + CCP tag-pipe timing verification. Fixed error correction related logic bug in DMI cache pipe. </li><li>Maestro change for 3.6 CHI-E interface change is in. Maestro now can successfully generate RTL with CHI-E support. Awaiting DV support.</li></ul></li><li>Ncore3.8<ul><li>Reviewing 3.8 MTE Architecture Spec. Deriving MTE related transactions for CHI-E. Will need to do so for proxy cache configurations. ACE5 does not support MTE.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.7">Week ending <time datetime="2022-11-22" class="date-past">22 Nov 2022</time></h2><ul><li>Reviewing DMI code coverage for resource control blocks.</li><li>Synced up with DV and Maestro team about Ncore3.6 CHI.E change. CHI-E VIP change for TB is still pending. CHI-E interface Maestro change is also pending. </li></ul><h2 id="XiaojueZeng-Weekending.8">Week ending <time datetime="2022-11-15" class="date-past">15 Nov 2022</time></h2><ul><li>Looking into DMI code coverage. Starting with familiar modules like cache_wrap and cache_pipe.</li><li>Analyzing several protocol change options for Ncore3.8<ul><li>For Option1, DMI will be removed and its functionality keep in DCE. Code Cache serves as SMC and talks to DCE via AXI interface. This option requires significant architectural and u-arch changes w/o much performance gain since there won't be DWT/DMT.</li><li>For Option2, DMI will be merged into DCE using internal connection. This is to reduce legato pup latency on the network, estimated to be around 8 cycles round trip. CCP in this case needs to support MTE.</li><li>For Option3, similar to Option2 but to disable CCP in DMI and use Code Cache as SMC connected to DMI through AXI interface. This option requires minimum architectural and u-arch changes.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.9">Week ending <time datetime="2022-11-08" class="date-past">08 Nov 2022</time></h2><ul><li>Reviewed and fixed DMI NC Write Buffer timing path for ME config.</li><li>Reviewing Ncore3.8 AIU snoop response mapping table with Memory Tagging.</li><li>Start looking into Code/Tachl coverage flow.</li></ul><h2 id="XiaojueZeng-Weekending.10">Week ending <time datetime="2022-11-01" class="date-past">01 Nov 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>Debugging CCP maintenance operation tests.</li></ul></li><li>Scoping Ncore3.8 design changes<ul><li>Scoping MTE related design changes in Ncore3.8</li><li>Start looking into MTE cache architecture</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.11">Week ending <time datetime="2022-10-25" class="date-past">25 Oct 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>Debugging CCP Tagpipe random bugs. Most fixes are related to data forwarding corner cases.</li></ul></li><li>Reviewed Ncore 3.6 CHI-E design change.</li><li>Reviewing Ncore 3.8 Memory Tagging Architecture Spec.</li></ul><h2 id="XiaojueZeng-Weekending.12">Week ending <time datetime="2022-10-18" class="date-past">18 Oct 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>Debugged CCP Tagpipe random bugs. Fixed P3+ to P3 stage data forwarding logic.</li></ul></li><li>Reviewed 3.6 Architecture Spec with the team. </li><li>Reviewed Sharer Promotion CHI/ACE snoop response to Concerto mapping table.</li><li>Reviewing Sharer Promotion Proxy Cache state transition table.</li></ul><h2 id="XiaojueZeng-Weekending.13">Week ending <time datetime="2022-10-11" class="date-past">11 Oct 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>CCP tagpipe<ul><li>Debugging random tests.</li><li>Updated CCP u-arch spec.</li></ul></li></ul></li><li>Read Ncore3.6 Architecture Spec</li><li>Reading Ncore3.8 Architecture Spec<ul><li>Scoping design changes in each Ncore block to support MTE.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.14">Week ending <time datetime="2022-10-04" class="date-past">04 Oct 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>CCP datapipe<ul><li>Synthesis with Synopsys industrial variant slow sram is clean.</li></ul></li><li>CCP tagpipe<ul><li>Received DV help and TB is fixed. Debugging bring up tests.</li><li>Updating CCP u-arch spec</li></ul></li></ul></li><li>CHI-AIU for Ncore 3.6<ul><li>Studying CHI-AIU code.</li></ul></li><li>Reading Ncore3 Memory Tag Architecture Spec</li></ul><h2 id="XiaojueZeng-Weekending.15">Week ending <time datetime="2022-09-27" class="date-past">27 Sep 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>CCP datapipe<ul><li>Regression ongoing.</li><li>Synthesis with Synopsys industrial variant slow sram is complete. Analysis onging.</li></ul></li><li>CCP tagpipe<ul><li>RTL changes for CCP tagpipe and DMI cachepipe are complete.</li><li>TB is failing. Need DV support.</li></ul></li></ul></li><li>CHI-AIU for Ncore 3.6<ul><li>Reviewing CHI-AIU code.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.16">Week ending <time datetime="2022-09-20" class="date-past">20 Sep 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>CCP datapipe <ul><li>Running regression. Design is getting stable. No bugs were found for several days.</li></ul></li><li>CCP tagpipe <ul><li>Finished RTL coding for ccp tagpipe. Reviewing data forwarding logic.</li><li>Discussed DMI cache pipe change with DMI team. Estimated 3 weeks of RTL work.</li></ul></li><li>Synthesis result of NXP config with Synopsys industrial variant slow sram<ul><li>Finished base run without slow sram support. We saw a 50ps violation in the from_data_ram path.</li></ul></li></ul></li><li>CHI-AIU for Ncore3.6<ul><li>Studying CHI-AIU u-arch.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.17">Week ending <time datetime="2022-09-07" class="date-past">07 Sep 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>CCP multi-cycle Data ram<ul><li>Running regression. Fixing failed test cases.</li></ul></li><li>CCP Tag Ram<ul><li>Finished CCP tagpipe to_sram stage flop RTL coding.</li><li>Will start working on adding from_sram stage flop.</li></ul></li></ul></li><li>CHI-AIU for Ncore3.6<ul><li>Reviewing Ncore4.0 CHI-AIU micro-arch spec, especially how CHI.E transactions are mapped to CCMP commands.</li><li>Start with estimating the scope of work. </li></ul></li></ul><h2 id="XiaojueZeng-Weekending.18">Week ending <time datetime="2022-08-30" class="date-past">30 Aug 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>Fixed several RTL bugs in CCP datapipe_pipe_ctrl.</li><li>Working on CCP Tag Pipe RTL change. Adding the To_sram stage flop.</li><li>Reviewed CCP Tag Pipe change with IOAIU and DMI team. Will start work on DMI cache pipe change with DMI designers soon.</li><li>Analyzing Synopsys industrial slow sram timing numbers. BE is working on creating Synopsys industrial variant slow Sram Wrapper with same sram size as what NXP is using. Current plan is to use NXP config RTL + Synopsys industrial slow sram as baseline for NXP slow sram fix before actually get the automobile slow sram compiler.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.19">Week ending <time datetime="2022-08-24" class="date-past">24 Aug 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>All the fixes to CCP Data Pipe is in. Currently running regressions with all the supported configurations.</li><li>Updating CCP u-arch spec for the data pipe change.</li><li>Start to work on CCP Tag Pipe. Will start reviewing proposed design change in ccp tag pipe with DMI team and then start scoping design change in dmi cache control.</li><li>Waiting for Synopsys automobile variant SRAM Compiler.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.20">Week ending <time datetime="2022-08-17" class="date-past">17 Aug 2022</time></h2><ul><li>NXP Slow Sram Design<ul><li>Added CCP Data RAM To path flop. Pre-push tests are now clean.</li><li>Will start working on CCP Tagpipe slow sram fix.</li><li>Analyzing DCE directory pipe u-arch. </li></ul></li></ul><h2 id="XiaojueZeng-Weekending.21">Week ending <time datetime="2022-08-10" class="date-past">10 Aug 2022</time></h2><ul><li>NXP Slow Sram design<ul><li>Working on CCP data-pipe timing fix. Adding one pipe stage in P0 to address data ram setup time violation. RTL change is complete. Cleaning pre-push fail tests.</li></ul></li><li>Slow Sram Path Testing Methodolog<br/><ul><li>Came up with two proposals: <ol><li>Add additional clock uncertainty to the path. But this will add delay to F2F path as well which is not what we want. A fixed amount of delay can be added for one clock which means we cannot add arbitrary number for different sram unless they each has its own clock.</li><li>Modify the lib file for each memory model. This is a WIP. </li></ol></li><li>Exploring Synopsys slow sram for ME to see if they have comparable setup/access time as NXP's slow sram under same configuration. If the number is similar, we can replace our sram with ME's sram to mimic NXP's slow path</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.22">Week ending <time datetime="2022-08-03" class="date-past">03 Aug 2022</time></h2><ul><li>NXP Slow Sram<ul><li>Reviewd CCP tag-pipe micro-arch. Came up with a proposal to added one stage (P0+) before sram access and one stage (P1+) after sram access. Most changes will be in CCP tagpipe and tagmem modules. Complexity is the P1+ stage need to capture P3 forwarding event when index matches. </li><li>Working on CCP data-pipe timing fix. Adding one pipe stage in P0 to address data ram setup time violation. RTL change ongoing.</li></ul></li><li>Ncore4.0 design change scoping<ul><li>Reviewing Ncore4.0 DMI u-arch. Studying Concerto D protocol. Discussed with architecture team about the potential design changes. Based on architecture team's input, there will be no retry handshake between CCE and DMI, only between AIU and CCE. Most changes will be in Transaction Control that needs to support both AXI and CHI interface.</li><li>Reviewed Ncore4.0 CAIU u-arch with CAIU owners. Prefer to use Ncore3.4 database as a starting point which includes latest features and timing/bug fixes. Need to support CHI.E new features include MTE and new transaction types. Will need the Concerto D protocol spec to estimate u-arch change.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.23">Week ending <time datetime="2022-07-27" class="date-past">27 Jul 2022</time></h2><ul><li>NXP Slow Sram<ul><li>Studying CCP tag-pipe micro-arch. Considering adding one pipe stage in P0 to address setup time violation and one pipe stage in P1 to give extra cycle for clock skewing.</li><li>Reviewing CCP data-pipe micro-arch to add one pipe stage in P0 to address data ram setup time violation. </li></ul></li></ul><h2 id="XiaojueZeng-Weekending.24">Week ending <time datetime="2022-07-20" class="date-past">20 Jul 2022</time></h2><ul><li>CCP Datapipe Timing Fix<ul><li>Verifying datapipe_pipe_ctrl module with memory access time set to 1 cycle. Found a failing case in IOAIU. Debugging the Failing case.</li><li>Working on passing a slow clock to the external memory in dmi top module to verify 2-cycle data ram.</li><li>Updating CCP microarchitecture document to include slow sram time slot table.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.25">Week ending <time datetime="2022-07-13" class="date-past">13 Jul 2022</time></h2><ul><li>CCP Datapipe Timing Fix<ul><li>Adding 2-cycle sram support in ccp datapipe. The goal is to support configurable memory access (1 or 2-cycle) in ccp datapipe. RTL change is mostly done. Debugging DMI random tests when memory access is set to 1 cycle.</li><li>To ensure higher throughput, data width of each sram access need to be adjusted. That portion is not touched yet. </li></ul></li></ul><h2 id="XiaojueZeng-Weekending.26">Week ending <time datetime="2022-07-06" class="date-past">06 Jul 2022</time></h2><ul><li>Attended exida FuSa Training.</li><li>Fixing To CCP Data Mem data pin timing path when there is an uncorrectable error on partial write. RTL change is complete. Now searching for testcases that cover this particular case. </li></ul><h2 id="XiaojueZeng-Weekending.27">Week ending <time datetime="2022-06-29" class="date-past">29 Jun 2022</time></h2><ul><li>Jun22 NXP timing report analysis<ul><li>With 1.1GHz target frequency, there are two sram paths in DMI CCP data pipe.  <br/><ol><li>To DMI_DATA path: Critical path is when P2 is a read modify write with uncorrectable error detection, poison data will be merged, sent to the ecc_encoding logic and presented as a memory write to data_sram.</li><li>From DMI_DATA path: ~600ps sram access time.</li></ol></li></ul></li><li>Studied CCP Data Pipe u-arch<ul><li>To fix To DMI_DATA path, poison data of uncorrectable read modify write can be written in the next cycle. In this case, data input to sram will be decoupled from ECC logic. Code review ongoing.</li><li>To fix From DMI_DATA path, ccp_datapipe_pipe_ctrl will need dramatic change to support multi cycle sram. Prefer to create a separate source file.</li></ul></li></ul><h2 id="XiaojueZeng-Weekending.28">Week ending <time datetime="2022-06-22" class="date-past">22 Jun 2022</time></h2><ul><li>Slow SRAM path analysis for NXP<ul><li>Came up with a plan on fixing DMI To Tag_RAM path.<ul><li>FIFO can be placed to cut the path from protocol control. FIFO is already there and configured as bypass-able. If timing violation still exists, another stage can be added right in front of the sram. By doing so, the FIFO and recycle flop due to timing fix should be removed to avoid extra cycle.</li></ul></li><li>Reviewed DCE to Tag_RAM path.<ul><li>ME pin is tied off and timing now meets 1.1 GHz for NXP configuration. Will need further improve to meet 1.3 GHz.</li></ul></li><li>Studying CCP data pipe u-arch to figure out design scope of work to support multi-cycle data sram. <ul><li>Estimated changes will mainly be in ccp_datapipe_pipe_ctrl where two stages need to be added to solve both setup time and access time.</li><li>Write data buffer will collect multiple beats of data and be modified to send the whole cache line data in one beat.</li><li>Read response port should be expecting data in one beat. Then unpack and return data in multiple beats. </li></ul></li></ul></li></ul><h2 id="XiaojueZeng-Weekending.29">Week ending <time datetime="2022-06-15" class="date-past">15 Jun 2022</time></h2><ul><li>DMI SRAM timing path analysis for NXP.<ul><li>Ben is recently working on Tag RAM ME path optimization. One fix is to tie off ME pin and relocate sram enable logic to clock gator since clock gator will have much smaller setup time. The other fix is to remove ECC relative logic in sram enable logic. These fixes should improve ME timing path and address NXP slow sram issue. </li><li> Extra stages can be inserted in CCP data pipe to solve Data RAM setup and access time violations. Since CCP data pipe is not in lockstep with DMI_cahce_pipe, design change effort should be reasonable.</li></ul></li><li>IOAIU SRAM timing path analysis for NXP.<ul><li>Rong is analyzing OD buffer. There is a slow sram path in OD sram address pin. One stage can be added in read and write address to solve the slow sram issue. </li></ul></li><li>Reviewed IOAIU 4.0 feature lists.<ul><li>We are still in the early stage planning for IOAIU 4.0. Need more study on PCIe support (Ordered write observation handling and Write aggregation support) and Virtualization Support (for RISV-5 and ARM ecosystem).</li></ul></li><li>Reviewed DMI micro-architecture and latency numbers with DMI designers.</li></ul><h2 id="XiaojueZeng-Weekending.30">Week ending <time datetime="2022-06-08" class="date-past">08 Jun 2022</time></h2><ul><li>Analyzed NXP slow sram timing report.</li><li>DMI CCP Pipe, DCE SF, IOAIU OTT Buffer are the major modules that will need design changes to support multi-cycle sram. </li><li>Now in the stage of identifying scope of work starting with DMI CCP pipe. Will take CCP 4.0 into account and see how much effort can be reused in Ncore4. </li></ul><h2 id="XiaojueZeng-Weekending.31">Week ending <time datetime="2022-06-01" class="date-past">01 Jun 2022</time></h2><ul><li>Full System Debug<ul><li>CONC-9689 &amp; CONC-9738 : Snoop request must make forward progress and do not depend on udpates when there is outstanding WriteUnique</li><li>CONC-9696 :  oc_cnt and OTT freelist vector is out of sync.</li></ul></li><li>Studied potential PCIe Ordering deadlock<ul><li>PCIe device honors WAW and RAW. Posted writes must always make forward progress. </li></ul></li><li>Talked to Kjeld about IOAIU 4.0. Will first start with the feature list.  </li></ul><h2 id="XiaojueZeng-Weekending.32">Week ending <time datetime="2022-05-25" class="date-past">25 May 2022</time></h2><ul><li>Studied PCIe ordering requirements. Understand how Transaction Modes, GPRAR and OR work.</li><li>Reviewed IOAIU micro-architecture.</li><li>Reviewed IOAIU 4.9 Ordering Checks under <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16777728/IOAIU+v3.0+Testplan" data-linked-resource-id="16777728" data-linked-resource-version="181" data-linked-resource-type="page">IOAIU+v3.0+Testplan</a>. A new policy &quot;Write-Order&quot; is added to resolve PCIe WAR deadlock. </li><li>Started FSys debugging. Currently looking into CONC-9694</li></ul><h2 id="XiaojueZeng-Weekending.33">Week ending <time datetime="2022-05-18" class="date-past">18 May 2022</time></h2><ul style="text-align: left;"><li>Discussed Back-End feasibility and effort on applying clock skew and useful skew techniques on slow sram with physical designer.</li><li>Reviewed DMI micro-architecture details with Benjamin. Need more deep dive discussion on CCP control with replay scheme.</li><li>Reviewing DCE micro-architecture.</li><li>Fsys debug training with Boon. </li><li>Preparing CHI Protocol Introduction presentation for the design team</li></ul>