<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759723324177 {padding: 0px;}
div.rbtoc1759723324177 ul {list-style: disc;margin-left: 0px;padding-left: 2;}
div.rbtoc1759723324177 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759723324177'>
<ul class='toc-indentation'>
<li><a href='#Runsim--Testlistformat&amp;features-A.Testlistdata-structure:'>A. Testlist data-structure:</a>
<ul class='toc-indentation'>
<li><a href='#Runsim--Testlistformat&amp;features-Thetop-leveltestlist:'>The top-level testlist :</a></li>
<li><a href='#Runsim--Testlistformat&amp;features-Theenv-level(block-level)testlist:'>The env-level (block-level) testlist:</a></li>
<li><a href='#Runsim--Testlistformat&amp;features-Thetests_nlfile:'>The tests_nl file:</a></li>
</ul>
</li>
<li><a href='#Runsim--Testlistformat&amp;features-B.Config-Testpairing:'>B. Config-Test pairing:</a></li>
<li><a href='#Runsim--Testlistformat&amp;features-C.Filteringusinglabellingmechanism:'>C. Filtering using labelling mechanism:</a></li>
<li><a href='#Runsim--Testlistformat&amp;features-D.Test-Flavors:'>D. Test - Flavors:</a>
<ul class='toc-indentation'>
<li><a href='#Runsim--Testlistformat&amp;features-SupportedProperties:'>Supported Properties:</a></li>
<li><a href='#Runsim--Testlistformat&amp;features-Overridingpriority:'>Overriding priority:</a></li>
<li><a href='#Runsim--Testlistformat&amp;features-Example:'>Example:</a></li>
<li><a href='#Runsim--Testlistformat&amp;features-Theflavorinsideconfig-testpairing:'>The flavor inside config-test pairing:</a></li>
<li><a href='#Runsim--Testlistformat&amp;features-Limitations'>Limitations</a></li>
</ul>
</li>
</ul>
</div></p><h1 id="Runsim--Testlistformat&amp;features-A.Testlistdata-structure:">A. Testlist data-structure:</h1><p>The runsim testlist uses the JSON structure for its data organisation. The top-level file has pure objects (key-value pairs) and then the *lists inside them are an array of objects.</p><ol><li><h4 id="Runsim--Testlistformat&amp;features-Thetop-leveltestlist:">The top-level testlist :</h4><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="800" src="https://arterisip.atlassian.net/wiki/download/attachments/16155810/image2020-11-25_1-47-35.png?api=v2"></span></p></li><li><h4 id="Runsim--Testlistformat&amp;features-Theenv-level(block-level)testlist:">The env-level (block-level) testlist:</h4></li><li><h4 id="Runsim--Testlistformat&amp;features-Thetests_nlfile:">The tests_nl file:</h4></li></ol><h1 id="Runsim--Testlistformat&amp;features-B.Config-Testpairing:">B. Config-Test pairing:</h1><h1 id="Runsim--Testlistformat&amp;features-C.Filteringusinglabellingmechanism:">C. Filtering using labelling mechanism:</h1><p><br/></p><p><strong>NOTE</strong>: Label=All (Special label -- Only apply to tests – No change from current behavior)</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh"><p><strong> </strong></p></th><th class="confluenceTh"><p><strong>Config Label </strong></p></th><th class="confluenceTh"><p><strong>Test Label</strong></p></th><th class="confluenceTh"><p><strong>Label (from command-line)</strong></p></th><th class="confluenceTh"><p><strong>Expected Behavior </strong></p></th></tr><tr><td class="confluenceTd"><p><strong>1</strong></p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p>Run tests with label=Nightly.</p></td></tr><tr><td class="confluenceTd"><p><strong>2</strong></p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p>Do not run any test.</p></td></tr><tr><td class="confluenceTd"><p><strong>3</strong></p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p>Axi</p></td><td class="confluenceTd"><p>Nightly|Axi</p></td><td class="confluenceTd"><p>Run tests with label=Axi</p></td></tr><tr><td class="confluenceTd"><p><strong> </strong></p></td><td class="confluenceTd"><p>Axi</p></td><td class="confluenceTd"><p>Nightly,Axi</p></td><td class="confluenceTd"><p>Nightly|Axi</p></td><td class="confluenceTd"><p>Run test with label=Nightly or Axi and config with label=Axi</p></td></tr><tr><td class="confluenceTd"><p><strong>4</strong></p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>Nightly|All</p></td><td class="confluenceTd"><p>Run all test of configs with label=Nightly</p></td></tr><tr><td class="confluenceTd"><p><strong>5</strong></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p>Nightly</p></td><td class="confluenceTd"><p>Run all tests marked nightly.</p></td></tr><tr><td class="confluenceTd"><p><strong>6</strong></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>Run all configs and all tests.</p></td></tr></tbody></table></div><h1 id="Runsim--Testlistformat&amp;features-D.Test-Flavors:">D. Test - Flavors:</h1><p>runsim supports the &quot;flavors&quot; features inside its testlist. This allows the user to have a custom 'flavor' to a test such that majority of the properties can be inherited from a parent test and the flavor can have additional overrides/additions</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="1200" src="https://arterisip.atlassian.net/wiki/download/attachments/16155810/image2020-11-30_8-39-42.png?api=v2"></span></p><p>The parent test &quot;<span class="legacy-color-text-green2"><strong>axi4_single_beat_rd</strong></span>&quot; has multiple &quot;<u>flavors</u>&quot; inside like <em>&quot;</em><span class="legacy-color-text-blue5"><strong>base_test&quot;, &quot;narrow&quot;, &quot;mod</strong></span>&quot; etc<br/>These flavors inherit the properties of the parent test and give a user the ability to add additional properties to it. <br/>They get associated to the configs mentioned inside the parent test, Also the dynamic config directory mechanism attaches these flavors to the default tests of each environment depending on the label.<br/>Label &quot;default_axi_axi&quot; will attach this flover to all the dynamic configs of top_axi_axi environment.</p><h4 id="Runsim--Testlistformat&amp;features-SupportedProperties:">Supported Properties:</h4><p>Currently, flavors supports following properties inside it to override/append:</p><ol><li>Iter → Override</li><li>label → Append to the parent test label array</li><li>plusargs → Override / Append to the parent test plusarg object. (If same plusarg then it'll be overridden, if new then appended)</li></ol><h4 id="Runsim--Testlistformat&amp;features-Overridingpriority:">Overriding priority:</h4><pre>flavor-level param &gt; test-level param &gt; env-level (block-level) param &gt; top-level param</pre><h4 id="Runsim--Testlistformat&amp;features-Example:">Example:</h4><p>Refer the screenshot above, the flavor - &quot;<span class="legacy-color-text-blue5">narrow</span>&quot; inherits the parameters from &quot;<span class="legacy-color-text-green2">axi4_single_beat_rd</span>&quot;, the new test generated internally in runsim will be named : <strong><span class="legacy-color-text-green2">axi4_single_beat_rd</span><span class="legacy-color-text-blue5">_narrow<br/></span></strong>The plusargs will be → {<span class="legacy-color-text-orange2"><em>&quot;+narrow&quot;: &quot;1&quot;</em></span>,&quot;+cmd&quot;: &quot;0&quot;,&quot;+arburst&quot;: &quot;1&quot;,&quot;+arlock&quot;: &quot;0&quot;,&quot;+arlen_max&quot;: &quot;0&quot;,&quot;+NUM_TRANS&quot;: &quot;30&quot;} <code>(Notice how +narrow in flavors over-rides the +narrow in the test)</code></p><p>The label will be       → [&quot;axi&quot;,<span class="legacy-color-text-orange2"><em>&quot;nightly&quot;,&quot;default_axi_apb&quot;,&quot;default_axi_axi&quot;,&quot;default_nl&quot;,&quot;narrow&quot;</em></span>]                                              <code>(Notice how label in flavors appends the label in the test)</code></p><p>The iter will be         → 1                                                                                                                                                            <code>(This follows the Overriding prioirty mentioned above)</code></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="1900" src="https://arterisip.atlassian.net/wiki/download/attachments/16155810/image2020-11-30_17-2-54.png?api=v2"></span></p><h4 id="Runsim--Testlistformat&amp;features-Theflavorinsideconfig-testpairing:">The flavor inside config-test pairing:</h4><p>Flavors are also supported inside the config-test pairing object too. It follows all the same rules as mentioned above.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="1000" src="https://arterisip.atlassian.net/wiki/download/attachments/16155810/image2020-11-30_16-31-7.png?api=v2"></span></p><p>Note: If a flavor present inside the config object of the test has the same name as the flavor inside the parent test, then the config-test pair overrides all properties of the flavor over the parent test. </p><h4 id="Runsim--Testlistformat&amp;features-Limitations">Limitations</h4><ul><li>There is no support to exclude a config from a flavor if the parent test has that config. Refer following example:</li></ul><p><br/></p>