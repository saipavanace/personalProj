<h1 id="HW-SYMCommonLayerProtocol-History"><style>[data-colorid=lndupcriy8]{color:#201f1e} html[data-color-mode=dark] [data-colorid=lndupcriy8]{color:#e1e0df}[data-colorid=cftsq9rvx5]{color:#201f1e} html[data-color-mode=dark] [data-colorid=cftsq9rvx5]{color:#e1e0df}</style><strong>History</strong></h1><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Version</th><th class="confluenceTh">Date</th><th colspan="1" class="confluenceTh">Comments</th><th class="confluenceTh">Editor</th></tr><tr><td class="confluenceTd">0.5</td><td class="confluenceTd">4/24/2019</td><td colspan="1" class="confluenceTd"><ul style="list-style-type: square;"><li>Initial Review Done w/ Changes</li></ul></td><td class="confluenceTd">Eric Taylor</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">5/14/2019</td><td colspan="1" class="confluenceTd"><ul><li>Added Pressure to Req</li><li>Added Ordering ID to Resp</li><li>Added Channel ID to Resp</li><li>Added Echo to Req</li><li>Removed status from Resp</li><li>Fixed Read ID Width</li><li>Fixed Byte Enable Description</li></ul></td><td colspan="1" class="confluenceTd">Eric Taylor</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">6/17/2019</td><td colspan="1" class="confluenceTd"><ul><li>Updated Ordering Model</li><li>Added Intro-Definitions</li><li>Grammar Correction</li><li>Added Protocol Parameters<ul><li><span>addressOverlapCheck</span></li><li><span><span>strictConversion</span></span></li><li><span><span><span>atomicsSupported</span></span></span></li><li><span><span><span>canRetract</span></span></span></li></ul></li></ul></td><td colspan="1" class="confluenceTd">Eric Taylor</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">6/19/2019</td><td colspan="1" class="confluenceTd"><ul><li>Credit Scheme</li></ul></td><td colspan="1" class="confluenceTd">Eric Taylor</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">6/21/2019</td><td colspan="1" class="confluenceTd"><ul><li>Grammar Fixes</li><li>Added Credit Scheme to Each Interface</li><li>Updated descriptions of some signaling</li><li>Removed maxPayload parameter</li><li>Added Protection Signals</li></ul></td><td colspan="1" class="confluenceTd"><span>Eric Taylor</span></td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">7/9/2019</td><td colspan="1" class="confluenceTd"><ul><li>Updated signals to be in sync with the spreadsheet.</li><li>Request and Response Interface is now symmetric.</li></ul></td><td colspan="1" class="confluenceTd">Eric Taylor</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">8/11/2019</td><td colspan="1" class="confluenceTd"><ul><li>Updated Atomic Definition</li></ul></td><td colspan="1" class="confluenceTd">Eric Taylor</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">10/7/2019</td><td colspan="1" class="confluenceTd"><ul><li>Updated so len is true byte count</li></ul></td><td colspan="1" class="confluenceTd">Eric Taylor</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">07/24/2020</td><td colspan="1" class="confluenceTd"><ul><li>&nbsp;Updated type &amp; msgTypeAttr</li></ul></td><td colspan="1" class="confluenceTd">Bob Podnar</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">05/11/2021</td><td colspan="1" class="confluenceTd"><ul style="list-style-type: square;"><li>NUmber of Beat Calculation</li></ul></td><td colspan="1" class="confluenceTd">Eric Taylor</td></tr></tbody></table></div><h1 id="HW-SYMCommonLayerProtocol-Outline"><strong>Outline</strong></h1><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1759723471971 {padding: 0px;}
div.rbtoc1759723471971 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759723471971 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1759723471971">
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-History">History</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-Outline">Outline</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-Description">Description</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-ReferenceSpecification">Reference Specification</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-Introduction-Definitions">Introduction - Definitions</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-ProtocolParameters">Protocol Parameters</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-SignalDescriptions">Signal Descriptions</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-SignalTiming">Signal Timing</a></li>
</ul>
</li>
<li><a href="#HW-SYMCommonLayerProtocol-TransactionAttributes">Transaction Attributes</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-BurstSize">Burst Size</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-BurstLength">Burst Length</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-BurstType">Burst Type</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-Fixed">Fixed</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-Increment">Increment</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-NarrowTransfers">Narrow Transfers</a></li>
</ul>
</li>
<li><a href="#HW-SYMCommonLayerProtocol-TransactionConversion">Transaction Conversion</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-NarrowEquivalence">Narrow Equivalence</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-TransactionConversionDocument">Transaction Conversion Document</a></li>
</ul>
</li>
<li><a href="#HW-SYMCommonLayerProtocol-TransactionType">Transaction Type</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-Misc.Attributes">Misc. Attributes</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-MessageQoSandPressure">Message QoS and Pressure</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-MessageRegion">Message Region</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-MessageErrors">Message Errors</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-MessagePoison">Message Poison</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-RequestType">Request Type</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-ResponseType">Response Type</a></li>
</ul>
</li>
<li><a href="#HW-SYMCommonLayerProtocol-ResponseStructure">Response Structure</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-EchoBits">Echo Bits</a></li>
</ul>
</li>
<li><a href="#HW-SYMCommonLayerProtocol-Exclusives">Exclusives</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-Atomics">Atomics</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-Splitting">Splitting</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-Striping">Striping</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-IDCompression">ID Compression</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-TransactionConversionDocument.1">Transaction Conversion Document</a></li>
</ul>
</li>
<li><a href="#HW-SYMCommonLayerProtocol-OrderingModel">Ordering Model</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-Hierarchy">Hierarchy</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-txn_channel_id">txn_channel_id</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-txn_ordering_id">txn_ordering_id</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-txn_orderingModel">txn_orderingModel</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-OrderingDependencyTable">Ordering Dependency Table</a></li>
</ul>
</li>
<li><a href="#HW-SYMCommonLayerProtocol-AppendixA.TimingDiagrams">Appendix A. Timing Diagrams</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMCommonLayerProtocol-nCtlVC==1">nCtlVC == 1</a></li>
<li><a href="#HW-SYMCommonLayerProtocol-nCtlVC==2">nCtlVC == 2</a></li>
</ul>
</li>
<li><a href="#HW-SYMCommonLayerProtocol-Appendix.BNarrowExamples">Appendix. B Narrow Examples</a></li>
</ul>
</div><p /><h1 id="HW-SYMCommonLayerProtocol-Description"><strong>Description</strong></h1><p>This document contains the definition of a transaction on the Common Layer Interface, and defines how transactions will interact with one another. This document does not go into how each function and interaction are supported. That information is contained in other reference documentation.</p><h1 id="HW-SYMCommonLayerProtocol-ReferenceSpecification"><strong>Reference Specification</strong></h1><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16166695/HW-SYM+Base+Packet+Parameters+Relationships" data-linked-resource-id="16166695" data-linked-resource-version="108" data-linked-resource-type="page">Base Packet Parameters &amp; Relationships<br /></a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16169110/Symphony+Architecture+Spec" data-linked-resource-id="16169110" data-linked-resource-version="18" data-linked-resource-type="page">Symphony Architecture Spec</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16171451/HW-SYM+Common+Layer+Transformations" data-linked-resource-id="16171451" data-linked-resource-version="65" data-linked-resource-type="page">HW-SYM Common Layer Transformations</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156349/HW-SYM+Common+Transaction+Layer+Microarchitecture+Specification" data-linked-resource-id="16156349" data-linked-resource-version="327" data-linked-resource-type="page">HW-SYM Common Transaction Layer Microarchitecture Specification</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16157530/HW-SYM+Reorder+Buffer+Microarchitecture+Specification" data-linked-resource-id="16157530" data-linked-resource-version="33" data-linked-resource-type="page">HW-SYM Reorder Buffer Microarchitecture Specification</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16157422/HW-SYM+Exclusive+Monitor+Micro-architecture+Specification" data-linked-resource-id="16157422" data-linked-resource-version="19" data-linked-resource-type="page">HW-SYM Exclusive Monitor Micro-architecture Specification</a></p><h1 id="HW-SYMCommonLayerProtocol-Introduction-Definitions"><strong>Introduction - Definitions</strong></h1><p>The Common Layer Interface is a synchronous, point to point interface that carries transactions in and out of the Symphony ATUs.</p><p>The primary use of the CTL interface is as an intermediate protocol in the protocol conversion process. To implement protocol conversions at the initiator side, native transactions are mapped first to the CTL protocol, then processed inside the IATU. Conversely, CTL transactions from TATU are converted into native transactions at the slave side.</p><p>A second use for the CTL protocol is as a NoC to NoC connection: an upstream NoC is connected to a downstream NoC using a CTL interface.</p><p>A CTL interface has four physical channels:</p><ul><li>Request.</li><li>Write Data</li><li>Response</li><li>Read Data</li></ul><p>Each physical channel has its own flow control. Within each channel there can be multiple flows with their own flow control.&nbsp;</p><p>Transactions are sequences of events, called phases, occurring on each physical CTL channels; depending on the type of transaction, not every channel may be involved:</p><ul><li>Read transactions have a Request phase, a response phase, and a read data phase</li><li>Write transactions have a Request phase, a write data phase, a response phase</li><li>Some atomic transactions have a request phase, a write data phase, a response phase, and a read response phase</li><li>Control transactions have a Request phase and a response phase&nbsp;</li></ul><p>CTL is a parametrizable interface, this means that it&rsquo;s precise functionality can be controlled through setting a set of parameters values. Most of the signal widths are configurable, the type of transactions supported is configurable, the type of burst, support for atomics, and so on are configurable as seen below.</p><h1 class="checked" id="HW-SYMCommonLayerProtocol-ProtocolParameters"><strong>Protocol Parameters</strong></h1><p>These are parameters of a Common Layer interface at either the slave or the master.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Parameter</th><th class="confluenceTh">Options</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">enBufWrite</td><td class="confluenceTd">{True, False}</td><td class="confluenceTd"><span class="inline-comment-marker" data-ref="7ab978b2-c47c-4ee2-9e76-99d797e599ce">Enables</span> this interface to accept buffered write. If disabled the behavior of a buffered write is undefined.</td></tr><tr><td class="confluenceTd">fixedSupported</td><td class="confluenceTd"><span>{True, False}</span></td><td class="confluenceTd">Enables the handling of fixed burst types. The behavior of fixed bursts is undefined if disabled.</td></tr><tr><td class="confluenceTd">incrSupported</td><td class="confluenceTd"><span>{True, False}</span></td><td class="confluenceTd">Enables the handling of increment burst types. The behavior of increment bursts is undefined if disabled.</td></tr><tr><td class="confluenceTd">wrapSupported</td><td class="confluenceTd"><span>{True, False}</span></td><td class="confluenceTd">Enables the handling of wrap burst types. The behavior of wrap bursts is undefined if disabled.</td></tr><tr><td colspan="1" class="confluenceTd">atomicsSupported</td><td colspan="1" class="confluenceTd"><span>{True, False}</span></td><td colspan="1" class="confluenceTd"><span>Enables the handling of atomics by the Common Layer Interface.</span></td></tr><tr><td colspan="1" class="confluenceTd">addressOverlapCheck</td><td colspan="1" class="confluenceTd"><span>{True, False}</span></td><td colspan="1" class="confluenceTd">Enables the ordering of requests to the same or overlapping addresses within a Common Layer Flow.</td></tr><tr><td class="confluenceTd">narrowSupported</td><td class="confluenceTd"><span>{True, False}</span></td><td class="confluenceTd">Enables the handling of wrap narrow bursts. (txn_hdr_burstSize &lt; txn_hdr_maxBurstSize). The behavior of narrow bursts is undefined if disabled.</td></tr><tr><td class="confluenceTd">readInterleaveSupported</td><td class="confluenceTd"><span>{True, False}</span></td><td class="confluenceTd">Indicates if the interface supports read interleaving. If disabled the Common Layer will not interleave responses to the master.</td></tr><tr><td colspan="1" class="confluenceTd">widthAdaptionSupported</td><td colspan="1" class="confluenceTd">{True, False}</td><td colspan="1" class="confluenceTd">Enables the handling of width adaption by the Common Layer Interface. If disabled the Common Layer will not handle transactions that have passed through width adapters.</td></tr><tr><td colspan="1" class="confluenceTd">strictConversion</td><td colspan="1" class="confluenceTd"><span>{True, False}</span></td><td colspan="1" class="confluenceTd">When enabled, converted transactions will not read any extra bytes.</td></tr><tr><td colspan="1" class="confluenceTd">lckOnReady</td><td colspan="1" class="confluenceTd"><span>{True, False}</span></td><td colspan="1" class="confluenceTd">If &quot;True&quot;,<span data-colorid="lndupcriy8">&nbsp;a <span class="inline-comment-marker" data-ref="6e77eeec-8622-45b3-8119-e8a10b6b153b">command</span> is not accepted (valid asserted but ready de-asserted), it can be retracted the next cycle and a new command presented. If &quot;False&quot;, <span data-colorid="cftsq9rvx5">once a command is presented (valid asserted) it will stay present until ready is asserted. This is true for all channels.</span></span></td></tr><tr><td colspan="1" class="confluenceTd">readyMode</td><td colspan="1" class="confluenceTd">{&quot;pulse&quot;,&quot;level&quot;}</td><td colspan="1" class="confluenceTd"><span>Level: Indicates that the interface can accept one request. <span>Pulse: The ready will be pulsed the number of requests it can accept as indicated by <span>either <span>reqCreditsPerVc or <span>respCreditsPerVc.</span></span></span></span></span></td></tr><tr><td colspan="1" class="confluenceTd">reqCreditsPerFlow</td><td colspan="1" class="confluenceTd">{int,int,int,...}</td><td colspan="1" class="confluenceTd">The <span class="inline-comment-marker" data-ref="a4c18d17-a56c-4622-be42-daf92dc2fd8f">number</span> of request credits per Flow. Indicates the number of requests that can be accepted.</td></tr><tr><td colspan="1" class="confluenceTd"><span>reqDataCreditsPerFlow</span></td><td colspan="1" class="confluenceTd"><span>{int,int,int,...}</span></td><td colspan="1" class="confluenceTd"><span>The </span>number<span> of request data credits per Flow. Indicates the number of beats of data that can be accepted.</span></td></tr><tr><td colspan="1" class="confluenceTd"><span>respCreditsPerFlow</span></td><td colspan="1" class="confluenceTd"><span>{int,int,int,...}</span></td><td colspan="1" class="confluenceTd">The <span class="inline-comment-marker" data-ref="0db8cfef-1f24-420a-8051-6c35f19d0188">number</span> of response credits per VC. Indicates the number of responses that can be accepted.</td></tr><tr><td colspan="1" class="confluenceTd"><span>respDataCreditsPerFlow</span></td><td colspan="1" class="confluenceTd"><span>{int,int,int,...}</span></td><td colspan="1" class="confluenceTd">The number of response data credits per Flow. Indicates the number of beats of data that can be accepted.</td></tr><tr><td colspan="1" class="confluenceTd">enRd</td><td colspan="1" class="confluenceTd"><span>{True, False}</span></td><td colspan="1" class="confluenceTd">Enables the Read functionality of the Common Layer. If disabled the behavior of reads is undefined and the response data channel shall not be present.</td></tr><tr><td colspan="1" class="confluenceTd">enWr</td><td colspan="1" class="confluenceTd"><span>{True, False}</span></td><td colspan="1" class="confluenceTd">Enables the Write functionality of the Common Layer. If disabled the behavior of writes is undefined and the request data channel shall not be present.</td></tr></tbody></table></div><p><br /></p><div class="page view"><div class="wiki-content"><h1 class="checked" id="HW-SYMCommonLayerProtocol-SignalDescriptions"><strong>Signal <span class="inline-comment-marker" data-ref="96847bca-c674-4ee7-88f4-b6d3c95a1207">Descriptions</span></strong></h1><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable" style="font-size: 14.0px;"><colgroup><col /><col /><col /><col /><col /><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Signal</th><th class="confluenceTh">Width</th><th class="confluenceTh">Direction (Master)</th><th colspan="1" class="confluenceTh">Request</th><th colspan="1" class="confluenceTh">Response</th><th colspan="1" class="confluenceTh">Use Case</th><th colspan="1" class="confluenceTh">Description (More in-depth description in later sections.)</th></tr><tr><td class="highlight-grey confluenceTd" colspan="7" data-highlight-colour="grey"><strong>Command Channel (ndp_)</strong></td></tr><tr><td class="confluenceTd">valid</td><td class="confluenceTd">nCtlFlow</td><td class="confluenceTd">int</td><td colspan="1" class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd">Boundary</td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="261fd994-04ab-42bd-8764-f77538501bd4">Indicates if a VC has a valid request. One hot or none</span>.</td></tr><tr><td class="confluenceTd">ready</td><td class="confluenceTd">nCtlFlow</td><td class="confluenceTd">out</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">Can have two modes. 1) Level: Indicates that the interface can accept one request. 2) Pulse: The ready will be pulsed the number of requests it can accept. (As indicated by reqC<span>reditsPerFlow)</span></td></tr><tr><td colspan="1" class="confluenceTd">dp_present</td><td colspan="1" class="confluenceTd">nCtlPayload</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Internal</span></td><td colspan="1" class="confluenceTd">Indication if the request has a certain payload present.</td></tr><tr><td colspan="1" class="confluenceTd">type</td><td colspan="1" class="confluenceTd">wCtlType</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="e137d94b-998c-4047-9cf1-9dce4db2cf6f">The type of message. Request or response.</span></td></tr><tr><td colspan="1" class="confluenceTd">msgTypeAttr</td><td colspan="1" class="confluenceTd">wCtlMsgTypeAttr</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">Indicates if the transaction is a read or a write, is modifiable, cacheable, posted, or bufferable</td></tr><tr><td colspan="1" class="confluenceTd">src_id</td><td colspan="1" class="confluenceTd">wCtlSrcId</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Internal</span></td><td colspan="1" class="confluenceTd">Source ID of the transaction.</td></tr><tr><td colspan="1" class="confluenceTd">targ_id</td><td colspan="1" class="confluenceTd">wCtlTargId</td><td colspan="1" class="confluenceTd"><span>in</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Internal</span></td><td colspan="1" class="confluenceTd"><span>Target ID of the transaction. </span></td></tr><tr><td colspan="1" class="confluenceTd">id</td><td colspan="1" class="confluenceTd">wCtlId</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="df7f315c-cbc2-447b-b523-d9d23b0209fe">The request ID</span></td></tr><tr><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="77279f45-f0ce-4b1d-9a8f-883bb8b13e52">addr</span></td><td colspan="1" class="confluenceTd">wCtlAddr</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">The request message address</td></tr><tr><td colspan="1" class="confluenceTd">len</td><td colspan="1" class="confluenceTd">wCtlLen</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="e5959dd5-b154-4464-9a6b-6867dbc26aad">The request length in bytes.</span></td></tr><tr><td colspan="1" class="confluenceTd">qos</td><td colspan="1" class="confluenceTd">wCtlQos</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="2c1968ae-8578-462e-91d5-6669e0d95b7f">Indicates the quality of service of the message.</span></td></tr><tr><td colspan="1" class="confluenceTd">prot</td><td colspan="1" class="confluenceTd">wCtlProt</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">Indicates security of the packet.</td></tr><tr><td colspan="1" class="confluenceTd">user</td><td colspan="1" class="confluenceTd">wCtlUser</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">User bits to travel along with the request.</td></tr><tr><td colspan="1" class="confluenceTd">err</td><td colspan="1" class="confluenceTd">wCtlErr</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="3e4470ac-c88a-452e-8a2e-c123a10e0df3">Request Error Indication.</span></td></tr><tr><td colspan="1" class="confluenceTd">echo</td><td colspan="1" class="confluenceTd">wCtlEcho</td><td colspan="1" class="confluenceTd">In</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary/Not Internal</span></td><td colspan="1" class="confluenceTd">The field will be stored in the context and returned with the response.</td></tr><tr><td colspan="1" class="confluenceTd">poison</td><td colspan="1" class="confluenceTd">wCtlPoison</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd">Internal</td><td colspan="1" class="confluenceTd">Asserted if the request fails a firewall check.</td></tr><tr><td colspan="1" class="confluenceTd">pressure</td><td colspan="1" class="confluenceTd"><span>wCtlPressure</span></td><td colspan="1" class="confluenceTd">In</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">A one-<span class="inline-comment-marker" data-ref="a5bcb9b5-6766-4df5-90c4-cbc6d5b8fc5c">hot or all zero </span>vector with each bit representing a priority. An asserted bit means that pressure will be applied to that priority.</td></tr><tr><td colspan="1" class="confluenceTd">txn_hdr_burstType</td><td colspan="1" class="confluenceTd">wCtlBurstType</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">The type of burst.</td></tr><tr><td colspan="1" class="confluenceTd">txn_hdr_burstSize</td><td colspan="1" class="confluenceTd">wCtlBurstSize</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">The width of the burst.</td></tr><tr><td colspan="1" class="confluenceTd">txn_hdr_maxBurstSize</td><td colspan="1" class="confluenceTd">wCtlMaxBurstSize</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd">Internal</td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="34e5d68c-fbc0-48a6-aa8d-63086e45a6fe">The width of the <span class="inline-comment-marker" data-ref="feaf1b30-55cd-495c-8764-eb3758c8612a">bus</span>. <span>&nbsp;</span></span></td></tr><tr><td colspan="1" class="confluenceTd">txn_region</td><td colspan="1" class="confluenceTd">wCtlRegion</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="1acfcd82-a1a5-465a-af81-6d7299cc78af">Carries <span class="inline-comment-marker" data-ref="354b3bcc-c13b-4fa1-ac88-88e63a090013">information</span> about which region the transaction belongs to</span></td></tr><tr><td colspan="1" class="confluenceTd">txn_attr</td><td colspan="1" class="confluenceTd">wCtlAttr</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="b9e1db97-9358-44db-9f4e-ae2eba14af39">Other <span class="inline-comment-marker" data-ref="89bab3bf-8ebe-41c8-8a63-cb875678160e">transaction</span> attributes to be carried through.</span></td></tr><tr><td colspan="1" class="confluenceTd">txn_atomic</td><td colspan="1" class="confluenceTd">wCtlAtomic</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">Indications if a request is exclusive or an atomic</td></tr><tr><td colspan="1" class="confluenceTd">txn_orderingModel</td><td colspan="1" class="confluenceTd">wCtlOrderingModel</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>NoC-to-NoC</span></td><td colspan="1" class="confluenceTd">This defines the ordering model to use. Controls the use of the two fields <span class="inline-comment-marker" data-ref="d8b9f9f5-42f0-4086-b619-e6fd5a271eeb">below</span>.</td></tr><tr><td colspan="1" class="confluenceTd">txn_ordering_id</td><td colspan="1" class="confluenceTd">wCtlOrderingId</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">Defines the ordering relationship between transactions.</td></tr><tr><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="4e75000b-871e-4cd6-8519-dd99d51f9911">txn_channel_id</span></td><td colspan="1" class="confluenceTd">wCtlChannelId</td><td colspan="1" class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="4b646b5f-c6b3-4836-b963-b0f9cca2a480">Defines an additional relationship between different ordering IDs. If two transactions with the same source ID have the same Channel ID then they have to order with respect to each other.</span></td></tr><tr><td class="confluenceTd">vnid</td><td class="confluenceTd">wCtlVNid</td><td class="confluenceTd"><span>in</span></td><td class="confluenceTd">&nbsp;<span>Yes</span></td><td class="confluenceTd"><span>Yes</span></td><td class="confluenceTd"><span>Internal</span></td><td class="confluenceTd">&nbsp;Pass through on Internal Interfaces</td></tr><tr><td class="confluenceTd">steer</td><td class="confluenceTd">wCtlSteer</td><td class="confluenceTd"><span>in</span></td><td class="confluenceTd">&nbsp;<span>Yes</span></td><td class="confluenceTd"><span>Yes</span></td><td class="confluenceTd"><span>Internal</span></td><td class="confluenceTd">&nbsp;<span>Pass through on Internal Interfaces</span></td></tr><tr><td class="confluenceTd">ndp</td><td class="confluenceTd">wCtlNDP</td><td class="confluenceTd"><span>in</span></td><td class="confluenceTd">&nbsp;<span>Yes</span></td><td class="confluenceTd"><span>No</span></td><td class="confluenceTd"><span>Internal</span></td><td class="confluenceTd">&nbsp;<span>Pass through on Internal Interfaces</span></td></tr><tr><td class="confluenceTd">ndp_len&nbsp;</td><td class="confluenceTd">wCtlNDPLen</td><td class="confluenceTd"><span>in</span></td><td class="confluenceTd">&nbsp;<span>Yes</span></td><td class="confluenceTd"><span>No</span></td><td class="confluenceTd"><span>Internal</span></td><td class="confluenceTd">&nbsp;<span>Pass through on Internal Interfaces</span></td></tr><tr><td class="confluenceTd">multi_label</td><td class="confluenceTd">wCtlMultiLabel</td><td class="confluenceTd"><span>in</span></td><td class="confluenceTd">&nbsp;<span>Yes</span></td><td class="confluenceTd"><span>Yes</span></td><td class="confluenceTd"><span>Internal</span></td><td class="confluenceTd">&nbsp;<span>Pass through on Internal Interfaces</span></td></tr><tr><td colspan="1" class="confluenceTd"><span>multi_mask</span></td><td colspan="1" class="confluenceTd"><span>wCtlMultiMsk</span></td><td colspan="1" class="confluenceTd">In</td><td colspan="1" class="confluenceTd">Yes</td><td colspan="1" class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><span>Internal</span></td><td colspan="1" class="confluenceTd"><span> Pass through on Internal Interfaces</span></td></tr><tr><td class="confluenceTd">sec_fail</td><td class="confluenceTd">wCtlSecFail</td><td class="confluenceTd"><span>in</span></td><td class="confluenceTd">&nbsp;<span>No</span></td><td class="confluenceTd"><span>Yes</span></td><td class="confluenceTd"><span>Internal</span></td><td class="confluenceTd">&nbsp;<span>Pass through on Internal Interfaces</span></td></tr><tr><td class="confluenceTd">seqnum</td><td class="confluenceTd">wCtlSeqnum</td><td class="confluenceTd"><span>in</span></td><td class="confluenceTd">&nbsp;<span>Yes</span></td><td class="confluenceTd"><span>Yes</span></td><td class="confluenceTd"><span>Internal</span></td><td class="confluenceTd">&nbsp;<span>Pass through on Internal Interfaces</span></td></tr><tr><td colspan="1" class="confluenceTd">sb_prot</td><td colspan="1" class="confluenceTd">wCtlNdpSbProt</td><td colspan="1" class="confluenceTd"><span>in</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd">N/A</td><td colspan="1" class="confluenceTd">Carries the concatenated protection of the request fields in the direction of valid.</td></tr><tr><td colspan="1" class="confluenceTd"><span><span>sb_prot</span>_b</span></td><td colspan="1" class="confluenceTd"><span>wCtlNdpSbProtB</span></td><td colspan="1" class="confluenceTd"><span>out</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>N/A</span></td><td colspan="1" class="confluenceTd"><span>Carries the concatenated protection of the request fields in the direction of ready.</span></td></tr><tr><td class="highlight-grey confluenceTd" colspan="7" data-highlight-colour="grey"><strong>Data Channel (dp_)</strong></td></tr><tr><td class="confluenceTd">valid</td><td class="confluenceTd">nCtlFlow</td><td class="confluenceTd">in</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd">Boundary</td><td class="confluenceTd"><span class="inline-comment-marker" data-ref="40d8522e-7ab2-4a37-9d75-1e66286ed2ab">Indicates</span> if a VC has a valid beat of data. One hot or none.</td></tr><tr><td class="confluenceTd">ready</td><td class="confluenceTd">nCtlFlow</td><td class="confluenceTd">out&nbsp;</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td class="confluenceTd">External<span>Can have two modes. 1) Level: Indicates that the interface can accept one request. 2) Pulse: The ready will be pulsed the number of requests it can accept. (As indicated by reqDataC</span><span>reditsPerFlow)</span></td></tr><tr><td class="confluenceTd">last</td><td class="confluenceTd">1</td><td class="confluenceTd">in&nbsp;</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td class="confluenceTd"><span>Indicates the last beat of data.</span></td></tr><tr><td class="confluenceTd">data</td><td class="confluenceTd">wCtlData</td><td class="confluenceTd">in&nbsp;</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td class="confluenceTd">The write data of the transaction. Data is Little Endian.</td></tr><tr><td class="confluenceTd">be</td><td class="confluenceTd"><span class="inline-comment-marker" data-ref="59bf93fd-3e31-4941-afe6-506e0d29c41a">wCtlDataBe</span></td><td class="confluenceTd">in&nbsp;</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td class="confluenceTd"><span class="inline-comment-marker" data-ref="cbb6c256-a906-4766-995e-8381ef8fb920">Data Enables. C<span class="inline-comment-marker" data-ref="dbc1f7d0-60f0-4e74-b0e5-b2ddf7aeb373">ould</span> be by any granularity (double word, word, bytes)</span></td></tr><tr><td colspan="1" class="confluenceTd"><span>txn_ordering_id</span></td><td colspan="1" class="confluenceTd"><span>wCtlOrderingId</span></td><td colspan="1" class="confluenceTd">In</td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span>Defines the ordering relationship between transactions.</span></td></tr><tr><td colspan="1" class="confluenceTd"><span>txn_channel_id</span></td><td colspan="1" class="confluenceTd"><span>wCtlChannelId</span></td><td colspan="1" class="confluenceTd"><span>in</span></td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd"><span>Defines an additional relationship between different ordering IDs. If two transactions with the same source ID have the same Channel ID then they have to order with respect to each other.</span></td></tr><tr><td class="confluenceTd">user</td><td class="confluenceTd">wCtl<span>Data</span>User</td><td class="confluenceTd">in&nbsp;</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td class="confluenceTd">User bits to be carried alongside the write data.</td></tr><tr><td class="confluenceTd">err</td><td class="confluenceTd">wCtl<span>Data</span>Err</td><td class="confluenceTd">in&nbsp;</td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd">No</td><td colspan="1" class="confluenceTd"><span>Internal</span></td><td class="confluenceTd"><span class="inline-comment-marker" data-ref="67bc8ad0-dc41-4870-91c4-26d8f4702b99">Write data error indications.</span></td></tr><tr><td colspan="1" class="confluenceTd">resp</td><td colspan="1" class="confluenceTd">wCtl<span>Data</span>Status</td><td colspan="1" class="confluenceTd">In</td><td colspan="1" class="confluenceTd"><span>No</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">Per beat data error indication.</td></tr><tr><td colspan="1" class="confluenceTd"><span>sb_prot</span></td><td colspan="1" class="confluenceTd"><span>wCtlDpSbProt</span></td><td colspan="1" class="confluenceTd"><span>in&nbsp;</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>N/A</span></td><td colspan="1" class="confluenceTd"><span><span class="inline-comment-marker" data-ref="67abb7eb-5be0-4f6a-825f-f615beff8f91">Carries</span> the concatenated protection of the request fields in the direction of valid.</span></td></tr><tr><td colspan="1" class="confluenceTd"><span><span>sb_prot</span>_b</span></td><td colspan="1" class="confluenceTd"><span>wCtlDpSbProt</span></td><td colspan="1" class="confluenceTd"><span>out&nbsp;</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>N/A</span></td><td colspan="1" class="confluenceTd"><span>Carries the concatenated protection of the request fields in the direction of ready.</span></td></tr><tr><td colspan="1" class="confluenceTd">ib_prot</td><td colspan="1" class="confluenceTd">wCtlIbProt</td><td colspan="1" class="confluenceTd"><span>in</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Yes</span></td><td colspan="1" class="confluenceTd"><span>Boundary</span></td><td colspan="1" class="confluenceTd">Used to carry end to end protection of the data.</td></tr></tbody></table></div><p><span class="inline-comment-marker" data-ref="37318bc3-6c11-449f-90a7-285dce4633c8">Note</span>: Limits and Requirements for Signal Inclusion will be based on Verified Combinations.</p><p>Note: Boundary means the signal will be seen at the Boundary of the Fabric. Internal means the signal will be seen on Common Interfaces inside the fabric. NoC to NoC means the signal will only be seen at the boundary in a NoC to NoC connection.</p><br /><div><h2 class="checked" id="HW-SYMCommonLayerProtocol-SignalTiming"><u><span class="inline-comment-marker" data-ref="df7a5a55-8241-4a36-81d8-5a2ecda4f287">Signal Timing</span></u></h2><p>The timing of each channel is separate&nbsp;with no dependency on one another.</p><p>Response data can be interleaved between different Flows and/or between different ordering IDs. (When two transactions are ordered the second transaction cannot be interleaved with the first)&nbsp;</p><ul><li>Response data can start in any order with respect to requests on other Flows.<br /><ul><li>e.g., Response data can start in any order when interleaving between Flows.</li></ul></li><li><span class="inline-comment-marker" data-ref="792276eb-4706-4112-bfb4-7ba9e93b75a6">Response data must be received in order with respect to response control within a Flows.</span>&nbsp;&nbsp;</li><li>Response data can precede or proceed with the response control in any case.</li><li>Not every response will have data.</li></ul><p>Write data can be interleaved between different Flows.</p><ul><li>Request data can start in any order when interleaving between&nbsp;Flows&nbsp;</li><li>Request data must be received in order with respect to request&nbsp;control within a Flows.&nbsp;&nbsp;</li><li>Request data can precede or proceed&nbsp;the request control in any case.</li><li>Not every request will have data.</li></ul><p><strong>Timing Diagrams in Appendix. A&nbsp;</strong></p></div><h1 class="checked" id="HW-SYMCommonLayerProtocol-TransactionAttributes"><strong>Transaction Attributes</strong></h1><h2 id="HW-SYMCommonLayerProtocol-BurstSize"><span class="inline-comment-marker" data-ref="8678eef0-e247-427c-b7f6-198e7bae2da3">Burst Size</span></h2><p>txn_hdr_burstSize defines the maximum number of bytes per beat in the transfer. This value is in log2(bytes).</p><p><u>Restrictions</u></p><ul><li>Must be a power of two.</li><li>Must indicate a value less than the <span class="inline-comment-marker" data-ref="22563f1a-61a8-4513-b7f8-41b75a91fc2e">maxBurstSize (wData/8)</span></li></ul><p>If burst size is smaller than the maxBurstSize (wData/8), that means the transaction is a narrow transfer. Only specific byte lanes will be used each beat of the transfer. More detail below.</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">txn_hdr_burstSize&nbsp;</th><th class="confluenceTh">Burst Width in Bytes</th></tr><tr><td class="confluenceTd">0x000</td><td class="confluenceTd">1</td></tr><tr><td class="confluenceTd">0x001</td><td class="confluenceTd">2</td></tr><tr><td colspan="1" class="confluenceTd">0x010</td><td colspan="1" class="confluenceTd">4</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">...</td></tr><tr><td colspan="1" class="confluenceTd">0x111</td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="986c4539-b197-48f8-a9d9-fbe449ae96f2">128</span></td></tr><tr><td colspan="1" class="confluenceTd">...</td><td colspan="1" class="confluenceTd">...</td></tr></tbody></table></div><h2 id="HW-SYMCommonLayerProtocol-BurstLength"><span class="inline-comment-marker" data-ref="2cf2e791-c084-40f9-a881-d73d9bf6c8a2">Burst Length</span></h2><p>len defines the length on the transaction in either <span class="inline-comment-marker" data-ref="66b34629-03a3-4784-a9a9-b6394cca5b45">bytes</span>.</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">len</th><th class="confluenceTh">Size (Beats)</th></tr><tr><td class="confluenceTd">0x000</td><td class="confluenceTd">1</td></tr><tr><td class="confluenceTd">0x001</td><td class="confluenceTd">2</td></tr><tr><td colspan="1" class="confluenceTd">0x010</td><td colspan="1" class="confluenceTd">3</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">...</td></tr><tr><td class="confluenceTd">0x0FF</td><td class="confluenceTd">256</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">--</td></tr><tr><td colspan="1" class="confluenceTd">0xFFF</td><td colspan="1" class="confluenceTd">4096</td></tr><tr><td colspan="1" class="confluenceTd">...</td><td colspan="1" class="confluenceTd">...</td></tr></tbody></table></div><p><br /></p><p><u>Restrictions</u></p><ul><li><p><span class="inline-comment-marker" data-ref="ec281763-1094-4aec-83ba-a1673d91041a">For wrapping bursts this must be a power of two <span class="inline-comment-marker" data-ref="87ad52a0-91b3-44b7-a31f-4b039bc72fca">beats</span> or indicate an equivalent amount in bytes.</span>&nbsp;</p></li></ul><h2 id="HW-SYMCommonLayerProtocol-BurstType">Burst Type</h2><p>CTL transactions can be one of three burst types. txn_hdr_burstType defines the burst type of transaction.&nbsp;</p><p>Note: Examples below are for non-narrow transactions.</p><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">txn_hdr_burstType&nbsp;</th><th class="confluenceTh">Burst Type</th></tr><tr><td class="confluenceTd">00</td><td class="confluenceTd">Fixed</td></tr><tr><td class="confluenceTd">01</td><td class="confluenceTd">Incr</td></tr><tr><td class="confluenceTd">10</td><td class="confluenceTd">Wrap</td></tr><tr><td class="confluenceTd">11</td><td class="confluenceTd">Reserved</td></tr></tbody></table></div><p><br /></p><div class="wiki-content"><u>Definition</u>: len_in_bytes = the number of bytes indicated by the len field. This field may be set to beats so it has to be translated.</div><div class="wiki-content"><div class="wiki-content"><u>Definition</u>: bytesToBoundary = (align(addr,Boundary Size) + Boundary Size) -&nbsp;align(addr,burstSize)&nbsp; where addr is the address of the current request.</div></div><div class="wiki-content"><div class="wiki-content"><u>Definition</u>: align(addr,len_in_bytes)</div><div class="wiki-content"><ul><li>= INT(addr/len_in_bytes) * len_in_bytes</li></ul></div></div><h3 id="HW-SYMCommonLayerProtocol-Fixed">Fixed</h3><div class="wiki-content">In a fixed burst, the address of every beat in a transaction will be the same.</div><div class="wiki-content"><p><u>Byte Lanes:</u></p><ul><li>Byte Lane Bottom: addr - align(addr, maxBurstSize)</li><li><div class="wiki-content"><p>Byte Lane Top:&nbsp;align(addr, maxBurstSize) + burstSize</p></div></li><li><p>Base Address of Beat:&nbsp;align(addr, maxBurstSize)&nbsp;</p></li></ul></div><div class="wiki-content">Example:</div><div class="wiki-content">addr = 0x12, burstSize = 0x40, maxBurstSize = 0x40, len = 138B</div><div class="wiki-content"><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Beat</th><th class="confluenceTh"><span>Byte Lane 63-18</span></th><th class="confluenceTh"><span>Byte Lane 17-0</span></th><th colspan="1" class="confluenceTh"><span>Address</span></th></tr><tr><td colspan="1" class="confluenceTd">0</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">0x12</td><td class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span>0x0</span></td></tr><tr><td colspan="1" class="confluenceTd">1</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">0x12</td><td class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x0</td></tr><tr><td colspan="1" class="confluenceTd">2</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">0x12</td><td class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x0</td></tr></tbody></table></div></div><h3 id="HW-SYMCommonLayerProtocol-Increment">Increment&nbsp;</h3><p>In an incrementing burst the address of each beat will increase by the amount transferred in each beat.</p><p><u>Byte Lanes:</u></p><ul><li>Non-Narrow Transactions:<ul><li><span class="inline-comment-marker" data-ref="52308d53-c257-496e-a3eb-8b61ada23267">Base Address of Beat:&nbsp;align(addr, maxBurstSize) + N * maxBurstSize, where N = beat in transaction</span></li><li>First Beat<ul><li>Byte Lane Bottom: addr - align(addr,maxBurstSize)</li><li><div class="wiki-content"><p>Byte Lane Top: min(<span class="inline-comment-marker" data-ref="1e68c682-ff62-4174-a768-71f4d86adbfc">maxBurstSize - 1, len)</span></p></div></li></ul></li><li>Subsequent Beats (Not Last):&nbsp;<ul><li>Byte Lane Bottom: 0</li><li><div class="wiki-content"><p>Byte Lane Top: maxBurstSize</p></div></li></ul></li><li>Last Beat:<ul><li>Byte Lane Bottom: 0</li><li><div class="wiki-content"><p>Byte Lane Top: Remaining Bytes In Transaction</p></div><p><br /></p></li></ul></li></ul></li></ul><div class="wiki-content">Example:</div><div class="wiki-content">addr = 0x12, burstSize = 0x40, maxBurstSize = 0x40, len = 174B</div><div class="wiki-content"><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Beat</th><th class="confluenceTh">Byte Lane 63-18</th><th class="confluenceTh">Byte Lane 17-0</th><th colspan="1" class="confluenceTh"><span>Address</span></th></tr><tr><td colspan="1" class="confluenceTd">0</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">0x12</td><td class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span>0x12</span></td></tr><tr><td colspan="1" class="confluenceTd">1</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x60</span></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">&nbsp;<span>0x40</span></td><td colspan="1" class="confluenceTd"><span>0x40</span></td></tr><tr><td colspan="1" class="confluenceTd">2</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0xA0</span></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x80</span></td><td colspan="1" class="confluenceTd"><span>0x80</span></td></tr></tbody></table></div><p><br /></p><div class="wiki-content">Example :</div><div class="wiki-content">addr = 0x12, burstSize = 0x40, maxBurstSize = 0x40, len = 64B</div><div class="wiki-content"><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Beat</th><th class="confluenceTh">Byte Lane 63-18</th><th class="confluenceTh">Byte Lane 17-0</th><th colspan="1" class="confluenceTh">Address</th></tr><tr><td colspan="1" class="confluenceTd">0</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x12</span></td><td class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x0</td></tr><tr><td colspan="1" class="confluenceTd">1</td><td style="text-align: center;" class="confluenceTd"><br /></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">0x40</td><td colspan="1" class="confluenceTd">0x40</td></tr></tbody></table></div></div></div><p><strong>Wrap</strong></p><p>In a wrap burst the addresses will behave the same as an increment, however, when an upper boundary is reached the address will change to a lower address.&nbsp;</p><p><br /></p><div class="wiki-content"><u>Restrictions</u></div><div class="wiki-content"><ul><li><p>addr has to be aligned to the burstSize if&nbsp;<span class="inline-comment-marker" data-ref="506181a2-5e38-4ff2-95b6-68df72e95880">narrowBurst</span> is 1. Otherwise, addr has to be aligned to the maxBurstWidth.&nbsp;</p></li><li><p>The len field must indicate either a transaction with a power of 2 beats (1,2,4,8,...) or a size in bytes that will cause a power of 2 beats.<br /><br /></p></li></ul><div class="wiki-content"><p><u>Formulas</u></p><ul><li><p>The wrap boundary can be calculated from the formula below:</p><ul><li><p>Wrap Boundary =&nbsp;align(addr,len_in_bytes)</p></li></ul></li><li><p class="wiki-content">The upper boundary can be calculated from the formula below:</p><ul><li><p>Upper Boundary = Wrap Boundary + len_in_bytes</p></li></ul></li></ul><p><u>Base Address</u></p><div><ul><li><span class="inline-comment-marker" data-ref="d5480b0a-7c0d-4103-921c-ff6deef1250c">Address =&nbsp;align(addr, maxBurstSize) + N * maxBurstSize, where N = beat in transaction</span></li><li>If (Address &lt;&nbsp;<span class="inline-comment-marker" data-ref="2693eca5-d836-4f0e-9a4e-74386d58010a">Upper</span> Boundary)&nbsp;<ul><li>Base Address of Beat = Address</li></ul></li><li>else<br /><ul><li>Base Address of Beat = Address - (Uppe<span class="inline-comment-marker" data-ref="4c171d0b-a795-464d-80fd-5cf011e4814f">r Boundary - Wrap Boundary)</span></li></ul></li></ul></div><p><u>Byte Lanes</u></p><ul><li>Byte Lane Bottom: 0</li><li><div class="wiki-content"><p><span class="inline-comment-marker" data-ref="4dc0b8b0-53bf-46ea-afa7-56e3b5c8b8ae">Byte Lane Top:: maxBurstSize</span></p></div></li></ul><div class="wiki-content">Example:</div><div class="wiki-content">addr = 0x20, burstSize = 0x10, maxBurstSize = 0x10 len =&nbsp;4 beats, Wrap Boundary = 0, Upper Boundary = 0x40</div><div class="wiki-content"><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Beat</th><th class="confluenceTh">Byte Lane 15-0</th><th colspan="1" class="confluenceTh">Address</th></tr><tr><td colspan="1" class="confluenceTd">0</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">0x20</td><td colspan="1" class="confluenceTd"><span>0x20</span></td></tr><tr><td colspan="1" class="confluenceTd">1</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">0x30</td><td colspan="1" class="confluenceTd"><span>0x30</span></td></tr><tr><td colspan="1" class="confluenceTd">2</td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">0x00</td><td colspan="1" class="confluenceTd"><span>0x00</span></td></tr><tr><td colspan="1" class="confluenceTd">3</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x10</span></td><td colspan="1" class="confluenceTd"><span>0x10</span></td></tr></tbody></table></div></div></div></div><h3 id="HW-SYMCommonLayerProtocol-NarrowTransfers">Narrow Transfers</h3><p>A narrow transaction is defined when txn_hdr_burstSize (Burst Width)&nbsp; is smaller than txn_hdr_maxBurstSize (Channel Width).&nbsp;&nbsp;</p><p><u>Restriction</u>:</p><ul><li><span class="inline-comment-marker" data-ref="f5cba53d-12b1-43a4-8f82-78e99640325b">The burst width must be a power of two.</span></li><li>Any burst type can have narrow transactions</li></ul><p><u>Byte Lanes</u>:</p><ul><li>In incrementing or wrapping bursts different byte lanes are used for each beat<ul><li>Each beat is split into&nbsp;txn_hdr_maxBurstSize/txn_hdr_burstSize&nbsp; byte lanes where each beat contain<span class="inline-comment-marker" data-ref="6f4017a7-94f0-4269-a463-3c05974a162f">s valid data for a single byte lane&nbsp;<span>unless the corresponding byte enable is 0.</span></span></li><li>The byte lane width is txn_hdr_burstSize (Burst Width).</li><li>The starting byte lane and ending byte lane are defined below for each burst type.</li></ul></li><li>In a fixed burst, the same byte lanes are used on each beat.</li><li>The amount of beats is determined by len : CEIL(len/burstSize)</li></ul><p><strong>Fixed</strong>:</p><ul><li>Starting Lane =&nbsp;Starting Address - align(Starting Address,maxBurstSize)</li><li>Ending Lane =&nbsp;Starting Lane + burstSize<br /><br /></li></ul><div class="wiki-content"><span class="inline-comment-marker" data-ref="4a96d4f1-28fa-4ddd-8122-d4276530ffc6">Example</span>:</div><div class="wiki-content">addr = 0x12, burstSize = 0x10, maxBurstSize = 0x40 len =&nbsp; 42B</div><div class="wiki-content"><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Beat</th><th colspan="1" class="confluenceTh">Byte Lanes 63-32</th><th class="confluenceTh">Byte Lane 31-18</th><th class="confluenceTh">Byte Lane 17-0</th><th colspan="1" class="confluenceTh">Address</th></tr><tr><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd"><br /></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x18</span></td><td class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x0</td></tr><tr><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd"><br /></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x18</span></td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x0</td></tr><tr><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd"><br /></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x18</span></td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x0</td></tr></tbody></table></div><p><br /><strong>Increment:</strong></p><p>First Beat</p><ul><li>Starting Lane =&nbsp;Starting Address - align(Starting Address,maxBurstSize)</li><li>Ending Lane =&nbsp;align(Starting Lane,burstSize) + burstSize</li></ul><p>Subsequent Beats (Not Last) :&nbsp;</p><ul><li>addr = align(Starting Address,burstSize) + (N * burstSize), where&nbsp;N = Beat of Transaction</li><li>Starting Lane =&nbsp;addr - align(addr,maxBurstSize)</li><li>Ending Lane =&nbsp;Starting Lane + burstSize<br /><br /></li></ul><div class="wiki-content"><p>Last Beat :&nbsp;</p><ul><li>Starting Lane =&nbsp;addr - align(addr,maxBurstSize)</li><li>Ending Lane =&nbsp;Starting Lane + Remaining Bytes<br /><br /></li></ul></div><div class="wiki-content">Example:</div><div class="wiki-content">addr = 0x10, burstSize = 0x10, maxBurstSize = 0x40 len = 128B</div><div class="wiki-content"><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Beat</th><th class="confluenceTh">Byte Lane 63-48</th><th colspan="1" class="confluenceTh"><span>Byte Lane 47-32</span></th><th colspan="1" class="confluenceTh"><span>Byte Lane 31-16</span></th><th class="confluenceTh">Byte Lane 15-0</th><th colspan="1" class="confluenceTh">Address</th></tr><tr><td colspan="1" class="confluenceTd">0</td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x10</span></td><td class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x0</td></tr><tr><td colspan="1" class="confluenceTd">1</td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x20</span></td><td colspan="1" class="confluenceTd"><br /></td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span>0x0</span></td></tr><tr><td colspan="1" class="confluenceTd">2</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x30</span></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span>0x0</span></td></tr><tr><td colspan="1" class="confluenceTd">3</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x40</span></td><td colspan="1" class="confluenceTd">0x40</td></tr><tr><td colspan="1" class="confluenceTd">4</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x50</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x40</td></tr><tr><td colspan="1" class="confluenceTd">5</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x60</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x40</td></tr><tr><td colspan="1" class="confluenceTd">6</td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x70</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x40</td></tr><tr><td colspan="1" class="confluenceTd">7</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>0x80</span></td><td colspan="1" class="confluenceTd">0x80</td></tr></tbody></table></div><p><br /></p><p><strong>Wrap</strong>:</p><p>First Beat</p><ul><li>Starting Lane =&nbsp;Starting Address - align(Starting Address,maxBurstSize)</li><li>Ending Lane =&nbsp;Starting Lane + burstSize</li></ul><p>Subsequent Beats</p><ul><li>Starting Lane =&nbsp;addr - align(addr,maxBurstSize)</li><li>Ending Lane =&nbsp;Starting Lane + burstSize</li><li>addr = align(starting_address,burstSize) + (N * burstSize), where&nbsp;N = Beat of Transaction<br /><br /></li></ul><div class="wiki-content">Example:</div><div class="wiki-content">addr = 0x60, burstSize = 0x10, maxBurstSize = 0x40 len = 128B, Wrap Boundary = 0, Upper Boundary = 0x80</div><div class="wiki-content"><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Beat</th><th class="confluenceTh">Byte Lane 63-48</th><th colspan="1" class="confluenceTh">Byte Lane 47-32</th><th colspan="1" class="confluenceTh">Byte Lane 31-16</th><th class="confluenceTh">Byte Lane 15-0</th><th colspan="1" class="confluenceTh">Address</th></tr><tr><td colspan="1" class="confluenceTd">0</td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">&nbsp;0x60</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x40</td></tr><tr><td colspan="1" class="confluenceTd">1</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">&nbsp;<span>&nbsp;0x70</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x40</td></tr><tr><td colspan="1" class="confluenceTd">2</td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">&nbsp;<span>&nbsp;0x00</span></td><td colspan="1" class="confluenceTd">0x00</td></tr><tr><td colspan="1" class="confluenceTd">3</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">&nbsp;<span>&nbsp;0x10</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span>0x00</span></td></tr><tr><td colspan="1" class="confluenceTd">4</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>&nbsp;0x20</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span>0x00</span></td></tr><tr><td colspan="1" class="confluenceTd">5</td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">&nbsp;<span>&nbsp;0x30</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span>0x00</span></td></tr><tr><td colspan="1" class="confluenceTd">6</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd"><span>&nbsp;0x40</span>&nbsp;</td><td colspan="1" class="confluenceTd">0x40</td></tr><tr><td colspan="1" class="confluenceTd">7</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">&nbsp;<span>&nbsp;0x50</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x40</td></tr></tbody></table></div></div></div></div><p><strong>Master to Slave Narrow Examples in Appendix B.</strong></p><h2 id="HW-SYMCommonLayerProtocol-TransactionConversion">Transaction Conversion</h2><p>The transaction on either end has to be an equivalent Common Layer Transaction when converting one width to another.</p><p>The points below define an equivalent transaction:</p><ul><li>When converting from one Common Layer Width to another <span class="inline-comment-marker" data-ref="e9515945-6e44-4d67-936b-f530534172d8">no extra bytes can be read</span> or written as this can cause unwanted behavior to device memory. (Optional: <span>strictConversion</span>)</li><li>When converting from one Common Layer Width to another the transaction data must stay in the same byte lanes respective to the base address of a beat.</li><li>Non-modifiable transactions can be changed if unavoidable and the transaction cannot be made equivalent in any other way.</li></ul><p>e.g. These two transactions are equivalent:</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="1" class="confluenceTh">Offset:</th><th class="confluenceTh">0x30</th><th class="confluenceTh">0x20</th><th colspan="1" class="confluenceTh">0x10</th><th colspan="1" class="confluenceTh">0x00</th><th colspan="1" class="confluenceTh">Address</th></tr><tr><td colspan="1" class="confluenceTd">Beat 0</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x100</td></tr><tr><td colspan="1" class="confluenceTd">Beat 1</td><td style="text-align: center;" class="confluenceTd"><br /></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td colspan="1" class="confluenceTd">0x140</td></tr></tbody></table></div><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">Offset:</th><th class="confluenceTh">0x10</th><th class="confluenceTh">0x00</th><th class="confluenceTh"><br /></th></tr><tr><td class="confluenceTd">Beat 0</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td style="text-align: center;" class="confluenceTd"><br /></td><td class="confluenceTd">0x120</td></tr><tr><td class="confluenceTd">Beat 1</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td class="confluenceTd">0x140</td></tr><tr><td class="confluenceTd">Beat 2</td><td style="text-align: center;" class="confluenceTd"><br /></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td class="confluenceTd">0x160</td></tr></tbody></table></div><h3 id="HW-SYMCommonLayerProtocol-NarrowEquivalence">Narrow Equivalence</h3><ul><li>For narrow transactions, the above must be true.</li><li>In addition, the size of each access must also be the same unless unavoidable.<ul><li>For example, if the narrow transaction at the initiator has a burstSize greater than the width of the target.</li><li>The burstSize must be modified to the target width.</li></ul></li></ul><p>e.g. These two narrow transactions are <span class="inline-comment-marker" data-ref="2edb8916-b9c7-4eed-b69d-b89a5dc28409">equivalent</span>:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Offset:</th><th class="confluenceTh">0x30</th><th class="confluenceTh">0x20</th><th colspan="1" class="confluenceTh">0x10</th><th colspan="1" class="confluenceTh">0x00</th><th colspan="1" class="confluenceTh">Address</th></tr><tr><td colspan="1" class="confluenceTd">Beat 0</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x100</td></tr><tr><td colspan="1" class="confluenceTd">Beat 1</td><td style="text-align: center;" class="confluenceTd"><br /></td><td style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td colspan="1" class="confluenceTd">0x140</td></tr><tr><td colspan="1" class="confluenceTd"><span>Beat 2</span></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x140</td></tr><tr><td colspan="1" class="confluenceTd"><span>Beat 3</span></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">0x140</td></tr></tbody></table></div><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">Offset:</th><th class="confluenceTh">0x10</th><th class="confluenceTh">0x00</th><th class="confluenceTh"><br /></th></tr><tr><td class="confluenceTd">Beat 0</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td style="text-align: center;" class="confluenceTd"><br /></td><td class="confluenceTd">0x120</td></tr><tr><td class="confluenceTd">Beat 1</td><td style="text-align: center;" class="confluenceTd"><br /></td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td class="confluenceTd">0x140</td></tr><tr><td class="confluenceTd">Beat 2</td><td data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">&nbsp;X</td><td style="text-align: center;" class="confluenceTd"><br /></td><td class="confluenceTd">0x140</td></tr><tr><td colspan="1" class="confluenceTd"><span>Beat 3</span></td><td colspan="1" style="text-align: center;" class="confluenceTd"><br /></td><td colspan="1" data-highlight-colour="blue" style="text-align: center;" class="highlight-blue confluenceTd">X</td><td colspan="1" class="confluenceTd">0x160</td></tr></tbody></table></div><p><br /></p><h3 id="HW-SYMCommonLayerProtocol-TransactionConversionDocument">Transaction Conversion Document</h3><p>The Following document contains information on how Common Layer transactions are converted from one interface to another if interfaces have different features. In addition contains Native Layer to Common Layer mappings and requirements.</p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16171451/HW-SYM+Common+Layer+Transformations" data-linked-resource-id="16171451" data-linked-resource-version="65" data-linked-resource-type="page">HW-SYM Common Layer Transformations</a></p><h2 id="HW-SYMCommonLayerProtocol-TransactionType">Transaction Type</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><tbody><tr><th class="confluenceTh">type</th><th class="confluenceTh">Definition</th></tr><tr><td class="confluenceTd">00</td><td class="confluenceTd">Request</td></tr><tr><td colspan="1" class="confluenceTd">01</td><td colspan="1" class="confluenceTd">Response</td></tr><tr><td colspan="1" class="confluenceTd">10</td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="b27f53a9-1c5b-44d4-a99c-82fb5c209c56">Reserved</span></td></tr><tr><td colspan="1" class="confluenceTd">11</td><td colspan="1" class="confluenceTd">Reserved</td></tr></tbody></table></div><h2 id="HW-SYMCommonLayerProtocol-Misc.Attributes">Misc. Attributes</h2><p>Modifiable - Indicates if the common layer can modify a transaction.&nbsp;</p><ul><li>Non-modifiable transactions will not be split. The common layer should be configured to support the largest non-modifiable request possible.</li><li>The following cannot change:<ul><li>Address</li><li>Burst Size&nbsp;(Unless Unavoidable)&nbsp;/Length (Unless Unavoidable) /Type</li><li>Ordering ID, Channel ID, Ordering Model</li><li>Request Prot</li></ul></li><li>Unavoidable conditions involve modifications to transactions that are needed for forward progress. e.g. Narrower/Wider interface. Burst Size Support. Narrow Support.</li></ul><p>Bufferable - The write response can be sent early before a response is seen from the slave.&nbsp;</p><p>Posted - No response will be seen on the Common Layer interface,&nbsp;</p><p>Write-Through - This value will be passed through from master to slave.</p><p>Write/Read</p><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><tbody><tr><th class="confluenceTh">msgTypeAttr</th><th class="confluenceTh">Definition</th></tr><tr><td class="confluenceTd">----0</td><td class="confluenceTd">Modifiable</td></tr><tr><td colspan="1" class="confluenceTd">----1</td><td colspan="1" class="confluenceTd">Non-Modifiable</td></tr><tr><td colspan="1" class="confluenceTd">---0-</td><td colspan="1" class="confluenceTd">Bufferable</td></tr><tr><td colspan="1" class="confluenceTd">---1-</td><td colspan="1" class="confluenceTd"><span class="inline-comment-marker" data-ref="d165918b-544e-4fe1-b5df-926d17d4b9cf">Non-Bufferable</span></td></tr><tr><td colspan="1" class="confluenceTd">--0--</td><td colspan="1" class="confluenceTd">Write through write/read allocate</td></tr><tr><td colspan="1" class="confluenceTd">--1--</td><td colspan="1" class="confluenceTd">Write through no read allocate</td></tr><tr><td colspan="1" class="confluenceTd">-0---</td><td colspan="1" class="confluenceTd"><span>Posted</span></td></tr><tr><td colspan="1" class="confluenceTd">-1---</td><td colspan="1" class="confluenceTd"><span>Non-Posted</span></td></tr><tr><td colspan="1" class="confluenceTd">&nbsp;0----</td><td colspan="1" class="confluenceTd">Write&nbsp;</td></tr><tr><td colspan="1" class="confluenceTd">&nbsp;1----</td><td colspan="1" class="confluenceTd">Read&nbsp;</td></tr></tbody></table></div><h2 id="HW-SYMCommonLayerProtocol-MessageQoSandPressure"><span class="inline-comment-marker" data-ref="92c76284-9840-4889-8bff-d40c207e7f76">Message</span> QoS and Pressure</h2><ul><li>Message QoS has no specific definition and its function is implementation specific.&nbsp;<ul><li>e.g. There could be configurations with no concept of QoS or one with complex QoS scheduling algorithms.&nbsp;</li></ul></li><li>The slave could receive an identical QoS as indicated by the master or a modified QoS.&nbsp;<ul><li><span class="inline-comment-marker" data-ref="a09b8835-d31f-4760-a47a-903cbf5e7215">This is implementation specific and could be because of panic, ordering, etc...</span></li></ul></li><li><span class="inline-comment-marker" data-ref="a09b8835-d31f-4760-a47a-903cbf5e7215">The highest QoS is 0, the next highest is 1, etc..</span></li><li><span class="inline-comment-marker" data-ref="a09b8835-d31f-4760-a47a-903cbf5e7215">The initiator will use the highest priority pressure between the one seen on the Common Layer interface and one generated by the initiator.</span></li></ul><h2 id="HW-SYMCommonLayerProtocol-MessageRegion">Message Region&nbsp;</h2><ul><li><span class="inline-comment-marker" data-ref="c98d9f2f-d883-4d10-a6e8-726b9c109b0f">Message region has no specific definition and its function is implementation specific.&nbsp;</span></li><li><span class="inline-comment-marker" data-ref="c98d9f2f-d883-4d10-a6e8-726b9c109b0f">This value will pass through from master to slave.</span>&nbsp;</li></ul><h2 id="HW-SYMCommonLayerProtocol-MessageErrors">Message Errors</h2><p>Transport Error</p><ul><li>Transport-related errors not in the scope of the Common Layer Protocol.&nbsp;</li><li>Indicates target received poison marked packet &amp; generated response to send back.</li></ul><p>Path Disconnect Error</p><ul><li><p>A packet is sent to a domain that either has the clock turned off or is powered down.</p></li></ul><p>Slave Error</p><ul><li>Error reported on slave interface</li></ul><p><span class="inline-comment-marker" data-ref="f6783cbf-3c35-4781-a2f4-8a9e4115748e">Decode</span> Error</p><ul><li><p>Examples of decode error are, address not contained in any region defined in the PAM, or the address somehow violates the rules of the PAM. (Request is returned to the Master with decode error indication)</p></li><li>Decode error from upstream interface.</li></ul><p>Exclusive Transaction Error</p><ul><li>See exclusive transaction section.&nbsp;</li></ul><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable" style="font-size: 14.0px;"><tbody><tr><th class="confluenceTh">err</th><th class="confluenceTh">Definition</th></tr><tr><td class="confluenceTd">------0</td><td class="confluenceTd">No Error <span class="inline-comment-marker" data-ref="9eb8d59d-6f5e-4d3b-bc95-4479c2fdf729">Detected</span></td></tr><tr><td colspan="1" class="confluenceTd">-----01</td><td colspan="1" class="confluenceTd">Error Detected</td></tr><tr><td colspan="1" class="confluenceTd">-----11</td><td colspan="1" class="confluenceTd">Transport Error</td></tr><tr><td colspan="1" class="confluenceTd">----1-1</td><td colspan="1" class="confluenceTd">Path Disconnection Error</td></tr><tr><td colspan="1" class="confluenceTd">---1--1</td><td colspan="1" class="confluenceTd">Slave Error</td></tr><tr><td colspan="1" class="confluenceTd">--1---1</td><td colspan="1" class="confluenceTd">Decode Error</td></tr><tr><td colspan="1" class="confluenceTd">-1----1</td><td colspan="1" class="confluenceTd">Exclusive Transaction Error</td></tr></tbody></table></div><h2 id="HW-SYMCommonLayerProtocol-MessagePoison">Message Poison</h2><p><span class="inline-comment-marker" data-ref="e12d13bc-f83e-4bdd-b0ad-2a847cef45d1">The message poison bit indicates that the message is corrupted. The poison field can can exist for both a request and response type packet. It indicates a packet has been poisoned in flight by a fabric block that doesn't modify packet contents, such as a firewall. The presence of a block in the fabric that poisons causes the width of the signal to be 1. If the fabric needs to transmit across it packets from other fabrics that can poison a packet the width of the signal is 1. Otherwise the the width of the signal is 0.</span></p><h3 id="HW-SYMCommonLayerProtocol-RequestType"><span class="inline-comment-marker" data-ref="e12d13bc-f83e-4bdd-b0ad-2a847cef45d1">Request Type</span></h3><p>The CTL initiator is not responsible for setting the poison bit of a request into the fabric.&nbsp;</p><p>If a CTL target receives a poison marked request it will terminate it &amp; not send it to the native layer. It will then generate a response back to the requester with the transport error bit set in the err response field.&nbsp;</p><h3 id="HW-SYMCommonLayerProtocol-ResponseType">Response Type</h3><p>A CTL target is not responsible for setting the poison bit of a response.&nbsp;</p><p>If a CTL initiator receives a poison marked response, it will simply pass it along to the native layer.&nbsp;</p><h2 id="HW-SYMCommonLayerProtocol-ResponseStructure">Response Structure</h2><h3 id="HW-SYMCommonLayerProtocol-EchoBits">Echo Bits</h3><p><span class="inline-comment-marker" data-ref="9591e0c5-e838-470a-8d12-2be01e613d4e">The echo bits in the response will match how the echo bits are driven on the request.</span></p><h2 id="HW-SYMCommonLayerProtocol-Exclusives"><span class="inline-comment-marker" data-ref="c029eb83-1ed9-4e03-b428-37693275e7af">Exclusives</span></h2><p>The Common Layer Protocol supports exclusive transactions which are indicated by txn_atomic[0]. The slave interface will receive whether the exclusive was successful through err[5]&nbsp; which is qualified with err[0].</p><p>The response to the master will carry back its success or failure through the err and status fields of the response.</p><p>The Exclusive Read/Write protocol is defined as follows:</p><ol><li>An exclusive read will be issued from a master interface with an ad<span class="inline-comment-marker" data-ref="f29fcbac-1f46-4456-bd92-1b166ded5413">dr and i</span>d. This will put an exclusive monitor on&nbsp;{addr, id, src id}&nbsp; at the slave.<ol><li>&nbsp;Note: Exclusive transactions must not be cacheable.&nbsp;</li></ol></li><li>This entry can be overwritten if the same master sends another exclusive read with a different address but same id.</li><li>A corresponding exclusive write will be issued from the master to addr and will only succeed if no other master has performed a write to that address.</li><li>The common layer will pass through either a success or fail through the slave interface using err[5,0]. Once the response is seen the monitor will be cleared.&nbsp;</li><li>The response seen at the master interface will either be EXOKAY (err == 7'bx0xxxxxx, status = 2'b00) if its successful or OKAY &nbsp;(err == 7'bx1xxxx1, status = 2'b00) if it was not<br /><br />Note: This <span class="inline-comment-marker" data-ref="a883b1b3-2fbc-4f39-be35-f78ff8bd5d84">functionally</span> is not needed if the upstream slave supports exclusives.&nbsp;<br /><br /></li></ol><div><h2 id="HW-SYMCommonLayerProtocol-Atomics"><span class="inline-comment-marker" data-ref="f46caaa6-4282-4091-9d3a-bd13e2cf5baa"><span class="inline-comment-marker" data-ref="3ac3a760-b73b-4043-a81d-9e42b136a539">Atomics</span></span></h2><p>This field will pass through and will not be modified.</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><span>txn_atomic[7:4]</span></th><th class="confluenceTh">Definition</th></tr><tr><td class="confluenceTd">0000</td><td class="confluenceTd">Not Atomic</td></tr><tr><td class="confluenceTd">0001</td><td class="confluenceTd">Exclusive</td></tr><tr><td class="confluenceTd">0010</td><td class="confluenceTd">Atomic Store</td></tr><tr><td colspan="1" class="confluenceTd">0011</td><td colspan="1" class="confluenceTd">Atomic Load</td></tr><tr><td colspan="1" class="confluenceTd">0100</td><td colspan="1" class="confluenceTd">Atomic Swap</td></tr><tr><td colspan="1" class="confluenceTd">0101</td><td colspan="1" class="confluenceTd">Atomic Compare</td></tr><tr><td colspan="1" class="confluenceTd">0110</td><td colspan="1" class="confluenceTd">Locked</td></tr><tr><td colspan="1" class="confluenceTd">Others</td><td colspan="1" class="confluenceTd">Reserved</td></tr></tbody></table></div><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">txn_atomic[3]</th><th class="confluenceTh">Definition</th></tr><tr><td class="confluenceTd">0</td><td class="confluenceTd">Little Endian</td></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">Big Endian</td></tr></tbody></table></div><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">txn_atomic[2:0]</th><th class="confluenceTh">Definition</th></tr><tr><td class="confluenceTd">000</td><td class="confluenceTd">Add</td></tr><tr><td class="confluenceTd">001</td><td class="confluenceTd">Bit Clear</td></tr><tr><td class="confluenceTd">010</td><td class="confluenceTd">Exclusive OR</td></tr><tr><td colspan="1" class="confluenceTd">011</td><td colspan="1" class="confluenceTd">Bit Set</td></tr><tr><td colspan="1" class="confluenceTd">100</td><td colspan="1" class="confluenceTd">Signed Maximum</td></tr><tr><td colspan="1" class="confluenceTd">101</td><td colspan="1" class="confluenceTd">Signed Minimum</td></tr><tr><td colspan="1" class="confluenceTd">110</td><td colspan="1" class="confluenceTd">Unsigned Max</td></tr><tr><td colspan="1" class="confluenceTd">111</td><td colspan="1" class="confluenceTd">Unsigned Min</td></tr></tbody></table></div><p><br /></p><p>&nbsp;The Common Layer will have to be aware of what to expect with each of these atomics.</p><ul><li>Atomic Store: Expect Write Response that has no data.</li><li>Atomic Load:&nbsp;Expect Write Response that has data.</li><li>Atomic Swap:&nbsp;&nbsp;Expect Write Response that has data.</li><li>Atomic Compare:&nbsp;&nbsp;Expect Write Response that has data.</li></ul><p><strong style="font-size: 24.0px;">Transaction Modification</strong></p><h2 id="HW-SYMCommonLayerProtocol-Splitting"><span class="inline-comment-marker" data-ref="6ce293fd-f720-4b04-8d78-3ba5ceebf419">Splitting</span></h2><p>Transaction splitting is detailed in the splitting table inside&nbsp;<a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156349/HW-SYM+Common+Transaction+Layer+Microarchitecture+Specification" data-linked-resource-id="16156349" data-linked-resource-version="327" data-linked-resource-type="page">HW-SYM Common Transaction Layer Microarchitecture Specification</a></p><h2 id="HW-SYMCommonLayerProtocol-Striping"><span class="inline-comment-marker" data-ref="643fb863-53dd-4671-89d4-ec4d9e946139"><span class="inline-comment-marker" data-ref="134ed435-0ac7-45c6-8971-5664a5da1451">Striping</span></span></h2><p>A transaction can be striped across targets using a striping function. A striped transaction can have modified addr and len at the slave.&nbsp;See&nbsp;<a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156349/HW-SYM+Common+Transaction+Layer+Microarchitecture+Specification" data-linked-resource-id="16156349" data-linked-resource-version="327" data-linked-resource-type="page">HW-SYM Common Transaction Layer Microarchitecture Specification</a>&nbsp;for more info about striping functions and their meaning.&nbsp;</p><h2 id="HW-SYMCommonLayerProtocol-IDCompression">ID Compression</h2><ul><li><span class="inline-comment-marker" data-ref="7a6684c0-423b-4af7-8646-67c8682c843c">The request ordering id can be compressed thus the master CTL interface could have a wider ID than the slave CTL Interface.</span></li><li>The compressed ID seen at the slave is dependent on an <span class="inline-comment-marker" data-ref="97652ff8-9fef-4d01-8b62-207a0818f6e0">implementation</span> specific function of the original ordering id.&nbsp;</li><li>ID Compression will not affect the functionality of exclusive transactions. They will be carried out as if the original ID was used.&nbsp;</li></ul><p>Note: Specifically how transaction modification is done is considered an implementation detail. See&nbsp;<a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156349/HW-SYM+Common+Transaction+Layer+Microarchitecture+Specification" data-linked-resource-id="16156349" data-linked-resource-version="327" data-linked-resource-type="page">HW-SYM Common Transaction Layer Microarchitecture Specification</a>&nbsp;for more info.</p><h2 id="HW-SYMCommonLayerProtocol-TransactionConversionDocument.1">Transaction Conversion Document</h2><p><span style="font-size: 14.0px;">The Following document contains information on how Common Layer transactions are converted from one interface to another if interfaces have different features. In addition contains Native Layer to Common Layer mappings and requirements.</span></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16171451/HW-SYM+Common+Layer+Transformations" data-linked-resource-id="16171451" data-linked-resource-version="65" data-linked-resource-type="page">HW-SYM Common Layer Transformations</a></p><h1 id="HW-SYMCommonLayerProtocol-OrderingModel"><strong style="font-size: 24.0px;">Ordering Model&nbsp;</strong></h1><h2 id="HW-SYMCommonLayerProtocol-Hierarchy">Hierarchy&nbsp;</h2><ul><li>PC: Physical Channel (and Common Layer Flows)&nbsp;<ul><li>As indicated by Src ID and the bit in the valid signal respectively.&nbsp;</li><li>Separate Interfaces</li><li>Totally Independent from one another.</li></ul></li><li>CHI_ID : Channel ID<ul><li>One or more Channel IDs can exist inside a PC.</li><li>Except for sharing the PC they are independent of one another.</li></ul></li><li>ORD_ID: Ordering ID<ul><li>One or more ordering IDs can exist inside a CHI_ID</li><li>ORD_IDs are independent of one another</li><li>Request with different ORD_IDs can execute in any order.</li><li>Responses from different ORD_IDs can come back in any order.</li><li>Inside an ORD_ID <br /><ul><li>Are Ordered</li><li>Cannot be interleaved<br /><br /></li></ul></li></ul></li><li>Hierarchy: PC &gt; CHI_ID &gt; ORD_ID</li></ul><h2 id="HW-SYMCommonLayerProtocol-txn_channel_id">txn_channel_id</h2><p>Indicates separate channels of ordering within a flow. Two transactions with different channel IDs will not be ordered if the check is enabled by txn_orderigModel.</p><h2 id="HW-SYMCommonLayerProtocol-txn_ordering_id">txn_ordering_id</h2><div><div><p>Indicates separate channels of ordering within a Channel ID. Two transactions with different channel IDs will not be ordered if the check is enabled by txn_orderigModel. Two transactions with the same ordering ID will be ordered.</p></div></div><h2 id="HW-SYMCommonLayerProtocol-txn_orderingModel">txn_orderingModel</h2><div><p>This signal defines how a transaction is ordered. This field must be fixed per Common Layer Flow. This means no two transactions with different txn_orderingModel values will ever be ordered with respect to one another. Only specific combinations are allowed as shown below.&nbsp;</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><span>txn_orderingModel</span></th><th class="confluenceTh"><span>Description</span></th></tr><tr><td class="confluenceTd">0bxx0</td><td class="confluenceTd">Order on Ordering ID</td></tr><tr><td class="confluenceTd"><span>0bxx1</span></td><td class="confluenceTd"><span>Don't Order on Ordering ID</span></td></tr><tr><td colspan="1" class="confluenceTd"><span>0bx0x</span></td><td colspan="1" class="confluenceTd">Order on R/W Address Matches</td></tr><tr><td colspan="1" class="confluenceTd"><span>0bx1x</span></td><td colspan="1" class="confluenceTd"><span>Don't </span>Order on R/W Address Matches</td></tr><tr><td colspan="1" class="confluenceTd"><span>0b0xx</span></td><td colspan="1" class="confluenceTd"><span>Order on Channel ID</span></td></tr><tr><td colspan="1" class="confluenceTd"><span>0b1xx</span></td><td colspan="1" class="confluenceTd"><span>Don't Order on Channel ID</span></td></tr></tbody></table></div><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><span>Channel ID (txn_orderingModel[2])</span></th><th class="confluenceTh"><span>Read/Write (txn_orderingModel[1])</span></th><th class="confluenceTh"><span>Ordering ID (txn_orderingModel[0])</span></th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td class="confluenceTd">No Ordering</td></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td class="confluenceTd">0</td><td class="confluenceTd">Ordering on Ordering ID</td></tr><tr><td class="confluenceTd">0</td><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td class="confluenceTd">NA</td></tr><tr><td class="confluenceTd">0</td><td class="confluenceTd">1</td><td class="confluenceTd">0</td><td class="confluenceTd">Order on Both</td></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">0</td><td class="confluenceTd">1</td><td class="confluenceTd"><span>NA</span></td></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">0</td><td class="confluenceTd">0</td><td class="confluenceTd">Order on Ordering ID and R/W Address Collisions</td></tr><tr><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd"><span>NA</span></td></tr><tr><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd">Order on both and R/W Collisions</td></tr></tbody></table></div></div></div><h2 id="HW-SYMCommonLayerProtocol-OrderingDependencyTable">Ordering Dependency Table</h2><div><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><thead><tr><th class="highlight-red confluenceTh" data-highlight-colour="red">orderingModel</th><th class="highlight-red confluenceTh" data-highlight-colour="red">Flow Match</th><th class="highlight-red confluenceTh" colspan="1" data-highlight-colour="red">Channel ID Match</th><th class="highlight-red confluenceTh" data-highlight-colour="red">Ordering ID Match</th><th class="highlight-red confluenceTh" colspan="1" data-highlight-colour="red">Address Match</th><th class="highlight-red confluenceTh" colspan="1" data-highlight-colour="red">Action</th></tr></thead><tbody><tr><td class="confluenceTd">-101</td><td class="confluenceTd">X</td><td colspan="1" class="confluenceTd">X</td><td class="confluenceTd">X</td><td colspan="1" class="confluenceTd">X</td><td colspan="1" class="confluenceTd">Not a valid ordering model.</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" rowspan="4">-100</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">No Dependency Set.</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><span>No Dependency Set.</span></td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">Dependency Set Based on Address Collision.</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><span>Dependency Set Based on Ordering ID Collision.</span></td></tr><tr><td class="confluenceTd">-001</td><td colspan="1" class="confluenceTd">X</td><td colspan="1" class="confluenceTd">X</td><td colspan="1" class="confluenceTd">X</td><td colspan="1" class="confluenceTd">X</td><td colspan="1" class="confluenceTd">Not a valid ordering model.</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" rowspan="6">-000</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">No Dependency Set.</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">No Dependency Set.</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><span>Dependency Set Based on Address Collision.</span></td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">No Dependency Set.</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">No Dependency Set.</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">Dependency Set Based on Channel ID and Ordering ID</td></tr><tr><td class="confluenceTd">-111</td><td class="confluenceTd">X</td><td colspan="1" class="confluenceTd">X</td><td class="confluenceTd">X</td><td class="confluenceTd">X</td><td colspan="1" class="confluenceTd">No Dependency Set (No Ordering)</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" rowspan="3">-110</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">No Dependency Set</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">No Dependency Set</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">Dependency Set Based on Ordering ID</td></tr><tr><td class="confluenceTd"><span>-011</span></td><td colspan="1" class="confluenceTd">X</td><td colspan="1" class="confluenceTd">X</td><td colspan="1" class="confluenceTd">X</td><td class="confluenceTd">X</td><td colspan="1" class="confluenceTd">Not a valid ordering model.</td></tr><tr><td class="highlight-grey confluenceTd" data-highlight-colour="grey" rowspan="4"><span>-010</span></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">No Dependency Set.</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;0</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;No Dependency Set</td></tr><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;1</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;X</td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey">&nbsp;Dependency Set Based on Channel ID and Ordering ID Match.</td></tr></tbody></table></div><p>Notes:</p><p>a) Source ID Match = Same Common Layer Flow</p><h1 id="HW-SYMCommonLayerProtocol-AppendixA.TimingDiagrams">Appendix A. Timing Diagrams</h1><p>All Diagrams below how valid cases.</p><h3 id="HW-SYMCommonLayerProtocol-nCtlVC==1">nCtlVC == 1&nbsp;</h3><p><strong><u>No <span class="inline-comment-marker" data-ref="a2ea6211-983f-4faa-9dae-5600503d602b">Interleaving</span></u></strong></p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></p><h3 id="HW-SYMCommonLayerProtocol-nCtlVC==2">nCtlVC == 2&nbsp;</h3><p><strong><u>No Interleaving</u></strong></p><p>An example is Write Data but the same applies for response&nbsp;data.&nbsp;</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></p><p><strong><u>Read/Write Data Interleaving (VC)</u></strong></p><p>Ordered Between VCs</p><p><strong><u><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></u></strong></p><p>Unordered between VCs</p><p><strong><u><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></u></strong></p><p><strong><u>Read Data Interleaving (Ordering ID)</u></strong></p><p><span class="inline-comment-marker" data-ref="a4f1fb7d-a471-43e4-a642-249bbdbfda1c">Different Channel&nbsp;</span>ID (No Ordering Dependency)</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></p><p>Same Channel ID (Ordering Dependency)</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></p><h1 id="HW-SYMCommonLayerProtocol-Appendix.BNarrowExamples">Appendix. B Narrow Examples</h1><p>All Examples below are of burstType == INCR</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy" /></span></span></p></div><p><br /><br /></p></div></div><p><span style="white-space: pre-wrap;">External</span></p>