<p>CMPS Rev B v0.7</p><ul class="inline-task-list" data-inline-tasks-content-id="16171404"><li data-inline-task-id="764">#Check.AIU.STRReqMsgCmdReq: <a class="confluence-userlink user-mention" data-account-id="624b3806258562006fa69302" href="https://arterisip.atlassian.net/wiki/people/624b3806258562006fa69302?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Chirag Gandhi (Deactivated)</a> Sec 4.3.1 Go through tables 38-44 and confirm that the checks are up to date with respect to these tables.</li><li data-inline-task-id="765">#Check.AIU.nMasterPendingTransv2.0: <a class="confluence-userlink user-mention" data-account-id="624b3818258562006fa69311" href="https://arterisip.atlassian.net/wiki/people/624b3818258562006fa69311?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">David Clarino (Deactivated)</a> update AIU's nMaster Pending Transaction calculations based on section 4.7.1</li><li data-inline-task-id="766">#Check.DCE.HntReqMessageRequirements: <a class="confluence-userlink user-mention" data-account-id="624b3782fd5e45007046ff82" href="https://arterisip.atlassian.net/wiki/people/624b3782fd5e45007046ff82?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Abhinav Nippuleti (Deactivated)</a> Sec 6.3.3 Table 73. Make sure that expected hnt message calculations reflect the latest spec.</li><li data-inline-task-id="767">#Check.DCE.MRDReqMessageTypes: <a class="confluence-userlink user-mention" data-account-id="624b3782fd5e45007046ff82" href="https://arterisip.atlassian.net/wiki/people/624b3782fd5e45007046ff82?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Abhinav Nippuleti (Deactivated)</a> Sec 6.5.1. Make sure DCE sends the correct Memory Directive messages based on type of CmdReq and directory status.</li><li data-inline-task-id="768">#Check.DCE.nMasterPendingTransv2.0: <a class="confluence-userlink user-mention" data-account-id="624b3818258562006fa69311" href="https://arterisip.atlassian.net/wiki/people/624b3818258562006fa69311?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">David Clarino (Deactivated)</a> update AIU's nMaster Pending Transaction calculations based on section 6.7.1</li><li data-inline-task-id="769">#Check.DMI.NewOrderingRulesv2.0: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Broad hashtag that covers section 7.2.1 and 7.3.1. Few specific hashtags to follow</li><li data-inline-task-id="770">#Check.DMI.HNTReqAddrCannotMatchRTTAndCMC: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Note in section 7.2.1: The address of an HNTreq message cannot simultaneously match an address in the RTT and an address in the CMC.</li><li data-inline-task-id="771">#Check.DMI.HntReqHitsAWTTEntryAndWaitsToIssueARReq: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Section 7.2.1 If the address of the HNTreq message matches the address of a WTT resource, the protocol layer sets the write outstanding flag in the RTT resource and delays issuing the memory read request until the memory write response has been received (see Section 7.5.2)</li><li data-inline-task-id="772">#Check.DMI.NoNewMRDReqOrHntReqIfHntRspIsPendingForSameAddr, #Cov.DMI.DTWReqWhileHntRspIsPendingForSameAddr: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Section 7.2.1 For a given cacheline address, the DMI cannot receive a subsequent HNTreq message or MRDreq message until the HNTrsp message has been issued for the HNTreq message. A DTWreq message, however, can be received at any time relative to the HNTreq and HNTrsp messages.</li><li data-inline-task-id="773">#Cov.DMI.DTWReqAndAWReqSeenWhileNoRTTResourcesPresent: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Section 7.2.1 A DMI must also ensure that DTWreq messages and memory write transactions can make forward progress through the DMI, regardless of the availability of RTT resources</li><li data-inline-task-id="774">#Cov.DMI.HntReqHittingAllPossibleResourceTables: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Hit in RTT, WTT and CMC.</li><li data-inline-task-id="775">#Cov.DMI.MRDReqReadMessagesHittingAllPossibleResourceTables: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Hit in RTT, WTT and CMC.</li><li data-inline-task-id="776">#Check.DMI.MRDReqAddrCannotMatchRTTAndCMC: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Note in section 7.3.1: The address of an MRDreq message cannot simultaneously match an address in the RTT and an address in the CMC.</li><li data-inline-task-id="777">#Check.DMI.MRDReqAddrCannotMatchWTTAndCMCDirty: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Note in section 7.3.1: The address of an MRDreq message cannot simultaneously match an address in the WTT and an address of a CMC resource in the dirty state.</li><li data-inline-task-id="778">#Check.DMI.CMCActionsForMRDReqReadMessages: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Check table 93/94.</li><li data-inline-task-id="779">#Check.DMI.MRDReqReadHitsAWTTEntryAndWaitsToIssueARReq: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Section 7.3.1 If the address of the MRDreq message matches the address of a WTT resource, the protocol layer sets the write outstanding flag in the RTT resource and delays issuing the memory read request until the memory write response has been received (see Section 7.5.2)</li><li data-inline-task-id="780">#Cov.DMI.MRDReqFlushHittingAllPossibleResourceTables: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Hit in RTT, WTT and CMC (Clean and Dirty) crossed with different Vis attributes (system/coherence)</li><li data-inline-task-id="781">#Check.DMI.MRDReqFlushDTRReqVis: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Section 7.3.1: all different cases of MRDReqFlush hitting/not hitting different resources and making sure that the DMI does the correct thing (i.e. issue a DTRReqVis at the appropriate time).</li><li data-inline-task-id="782">#Check.DMI.CMCActionsForMRDReqFlushMessages: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Check table 95.</li><li data-inline-task-id="783">#Check.DMI.MRDReqFlushHittingROFlagOrWOFlag: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Section 7.3.1: Check the following paragraph: If the address of the message matches the address of an RTT resource with the read outstanding flag set, the protocol layer waits for the memory read response, then clears the read outstanding flag, and discards the data in the memory read response. If the address of the message matches the address of a WTT resource, the protocol layer sets the write outstanding flag, waits for the memory write response (see Section 7.5.2), and once the memory write response has been received, clears the write outstanding flag. The protocol layer delays issuing the DTRreq message until both the read outstanding flag and the write outstanding flag have been cleared.</li><li data-inline-task-id="784">#Check.DMI.MRDReqToDTRReqMapping: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Check table 96.</li><li data-inline-task-id="785">#Check.DMI.DTWReqCausingCMCEvictionStillUsesOnlyOneWTTEntry: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Section 7.5.1: The above implies that only one WTT resource is required to process DTWreq messages.</li><li data-inline-task-id="786">#Cov.DMI.DTWReqHittingWTT: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a></li><li data-inline-task-id="787">#Check.DMI.DTWReqHittingWTT: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Section 7.5.1: Confirm that the same WTT is used when a DTWReq hits a WTT with the same address. Also confirm that the AW request issued for the second DTWReq has the same AWID as the first one. The DMI can issue the second one without waiting for the first AW request to have received a write response.</li><li data-inline-task-id="788">#Check.DMI.DTWReqActions: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Check table 97.</li><li data-inline-task-id="789">#Cov.DMI.DTWCrossedWithDifferentCases: <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> DtwDataPtl/DtwDataFull crossed with CMC hit (Dty/Cln)/miss crossed with different visibility attributes.</li><li data-inline-task-id="790">#Check.DMI.HNTReqFollowedByDTWReq: When memory read response for the HntReq has not been received and a DTWReq is received, the data from the memory read response is not installed in the CMC. <a class="confluence-userlink user-mention" data-account-id="624b36cc45ece00069cca815" href="https://arterisip.atlassian.net/wiki/people/624b36cc45ece00069cca815?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aniket Ponkshe (Deactivated)</a> Sec 7.5.1</li><li data-inline-task-id="792">#Check.AIU.CmdReqVisAttribute: <a class="confluence-userlink user-mention" data-account-id="624b3806258562006fa69302" href="https://arterisip.atlassian.net/wiki/people/624b3806258562006fa69302?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Chirag Gandhi (Deactivated)</a> Sections 3.1.X. Check that correct visibility attribute is being applied based on the CMDReq.</li></ul>