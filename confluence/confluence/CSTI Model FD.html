<p>This page describes the functionality of the SystemC model of the Ncore CSTI.  This is modeled after the CCTI implementation, and will likely share most of its code with that block.</p><p>  </p><h1 id="CSTIModelFD-1.Operation"><span class="nh-number">1. </span>Operation</h1><p> </p><ul><li>A thread for each OCP initiator watches the request pins.  For each transaction, it grabs an available transaction object from the transaction pool (creating a new one if necessary), populates it with transaction information, including data, determines which target it goes to, and calls nb_transport_fw() on the target, passing the timestamp.  Nb_transport_fw() adds the transaction to the transaction table, and returns immediately.</li></ul><ul><li>A thread for each target reads transactions from the transaction table, assigns a transaction ID from a pool, and drives the request pins to the target.  This thread is responsible for width adaptation, since the OCP initiator is 32 bit and the targets are all 8 bit.</li></ul><ul><li>A second thread at the target watches the response pins. (TBD:  OCP, perhaps it should be the same thread?) For each response, it looks up the transaction object, and then calls the correct initiator’s nb_transport_bw() .   nb_transport_bw() updates the state in the transaction table and returns immediately.  The slave ID is then returned to the pool.</li></ul><ul><li>A second thread at the initiator reads transactions from the transaction table, drives response pins,  and returns the transaction object to the pool.</li></ul><p style="margin-left: 30.0px;"> </p>