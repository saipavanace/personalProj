<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759724009095 {padding: 0px;}
div.rbtoc1759724009095 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724009095 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759724009095'>
<ul class='toc-indentation'>
<li><a href='#Systemleveltestplan-1Introduction'>1 Introduction</a></li>
<li><a href='#Systemleveltestplan-2Testbenchdescription'>2 Testbench description</a>
<ul class='toc-indentation'>
<li><a href='#Systemleveltestplan-2.1TBdiagram'>2.1 TB diagram</a></li>
<li><a href='#Systemleveltestplan-2.2ListanddescriptionofTBcomponents'>2.2 List and description of TB components</a>
<ul class='toc-indentation'>
<li><a href='#Systemleveltestplan-2.2.1Monitors'>2.2.1 Monitors</a></li>
<li><a href='#Systemleveltestplan-2.2.2BFMs'>2.2.2 BFMs</a></li>
</ul>
</li>
<li><a href='#Systemleveltestplan-2.3Checkers'>2.3 Checkers</a></li>
<li><a href='#Systemleveltestplan-2.4Injectors'>2.4 Injectors</a></li>
</ul>
</li>
<li><a href='#Systemleveltestplan-3ConfigurationSpace'>3 Configuration Space</a>
<ul class='toc-indentation'>
<li><a href='#Systemleveltestplan-3.1ForConcertov2.0'>3.1 For Concerto v2.0</a></li>
</ul>
</li>
<li><a href='#Systemleveltestplan-4Performance(LatencyandBandwidth)'>4 Performance (Latency and Bandwidth)</a></li>
<li><a href='#Systemleveltestplan-5.1Uncorrectable/TransportErrorVerification.5Errors'>5.1 Uncorrectable/Transport Error Verification.5 Errors</a></li>
<li><a href='#Systemleveltestplan-6PowerManagement'>6 Power Management</a></li>
<li><a href='#Systemleveltestplan-7CSRInjectionTests'>7 CSR Injection Tests</a></li>
</ul>
</div></p><h2 id="Systemleveltestplan-1Introduction">1 Introduction</h2><h2 id="Systemleveltestplan-2Testbenchdescription">2 Testbench description</h2><h3 id="Systemleveltestplan-2.1TBdiagram">2.1 TB diagram</h3><h3 id="Systemleveltestplan-2.2ListanddescriptionofTBcomponents">2.2 List and description of TB components</h3><h4 id="Systemleveltestplan-2.2.1Monitors">2.2.1 Monitors</h4><h4 id="Systemleveltestplan-2.2.2BFMs">2.2.2 BFMs</h4><h3 id="Systemleveltestplan-2.3Checkers">2.3 Checkers</h3><h3 id="Systemleveltestplan-2.4Injectors">2.4 Injectors</h3><h2 id="Systemleveltestplan-3ConfigurationSpace">3 Configuration Space</h2><h3 id="Systemleveltestplan-3.1ForConcertov2.0">3.1 For Concerto v2.0</h3><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Cfg1</th><th class="confluenceTh">Cfg2</th><th class="confluenceTh">Cfg3</th><th class="confluenceTh"><s>Cfg4</s></th></tr><tr><td class="confluenceTd">3 ACE agent AIUs 1 ACE agent (4-way interleaved) 2 ACE-Lite (2 Interleaved)</td><td class="confluenceTd">4 ACE agent AIUs, 1 ACE Agent 4-way Interleaved, 7 ACE-LITE agent AIUs</td><td class="confluenceTd">3 ACE agent AIUs, 2 ACE-LITE agent AIUs, 1 ACE-Lite 4-way interleaved</td><td class="confluenceTd">10 ACE agent AIUs, 2 ACE-LITE agent AIUs, 1 NCBs (no IO$), 3 NCB (w/IO$)</td></tr><tr><td class="confluenceTd">Agent 0: ACE Agent 1: ACE Agent 2: ACE Agent 3: ACE-Lite Agent 4-7: ACE Agent 8-9: ACE-Lite Agent 10-11: ACE-Lite</td><td class="confluenceTd">Agent 0: ACE-LITE Agent 1: ACE Agent 2: ACE-LITE Agent 3: ACE Agent 4: ACE Agent 5: ACE Agent 6-9: ACE Agent 10-15: ACE-LITE</td><td class="confluenceTd">Agent 0-2: ACE Agent 3: ACE-LITE Agent 4: ACE Agent 5: ACE Agent 6: ACE-LITE Agent 7-10: ACE-Lite</td><td class="confluenceTd">Agent 0: ACE-Lite Agent 1: ACE-LITE Agent 2-11: ACE Agent 12: NCB (no IO$) Agent 13-15: NCBs (w/ IO$ all MOSI)</td></tr><tr><td colspan="1" class="confluenceTd">2 EOSCR</td><td colspan="1" class="confluenceTd">PVCR, PVCR – 8+ VB Entries</td><td colspan="1" class="confluenceTd">EOS PV – 8+ VB Entries</td><td colspan="1" class="confluenceTd">5 PV 5 EOS 1 NULL small VB in 1 PV and 1 EOS</td></tr><tr><td class="confluenceTd">1 Memory region – 4 DMIs 1 Memory region – 3 DMIs (all VC)</td><td class="confluenceTd">8 Memory Region – 1 DMI (VC + HB + Null)</td><td class="confluenceTd">4 Memory Region – 1 DMI each 1 Memory Region – 3 DMIs (VC + HB)</td><td class="confluenceTd">2 Memory Region – 2 DMIs 1 Memory Region – 1 DMIs (VC + Null)</td></tr><tr><td colspan="1" class="confluenceTd">3 DCE</td><td colspan="1" class="confluenceTd">1 DCE</td><td colspan="1" class="confluenceTd">5 DCE</td><td colspan="1" class="confluenceTd">4 DCEs</td></tr><tr><td colspan="1" class="confluenceTd">Non-Resilient</td><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td></tr></tbody></table></div><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><s>Cfg5</s></th><th class="confluenceTh"><s>Cfg6</s></th><th class="confluenceTh"><s>Cfg7</s></th><th class="confluenceTh"><s>Cfg8 (some agents will not be able to talk to some DCEs)</s></th></tr><tr><td class="confluenceTd">2 ACE agent AIUs, 1 ACE-Lite, 5 NCBs (w/IO$)</td><td class="confluenceTd">2 ACE agents (2 interleaved – 4 ACE AIUs), 2 ACE-LITE agents, 2 NCBs (with IO$, 2 interleaved)</td><td class="confluenceTd">1 ACE agent (4-way) ,1 ACE-LITE (4-way), 1 NCBs (with IO$)</td><td class="confluenceTd">7 ACE agents , 3 ACE-LITE agents, 3 NCBs (with IO$)</td></tr><tr><td class="confluenceTd">Agent 0: ACE Agent 1: ACE-LITE Agent 2: ACE Agent 3: ACE-LITE Agent 4,5,6,7,8: NCBs (w/ IO$ all MSI-IX)</td><td class="confluenceTd">Agent 0,1: ACE 64 Agent 2,3: ACE 128 Agent 4: ACE-Lite 64 Agent 5: ACE-LITE 128 Agent 6,7: NCBs (w/ IO$ MOSI) 64 Agent 8,9: NCBs (w/ IO$ MSI-IX) 128</td><td class="confluenceTd">Agent 0-3: ACE 64 Agent 4-7: ACE-Lite 64 Agent 8: NCBs (w/ IO$ MSI-IX) 64</td><td class="confluenceTd">Agent 0: ACE - 128 Agent 1: ACE - 256 Agent 2: ACE – 64 Agent 3: ACE - 64 Agent 4: ACE-Lite - 128 Agent 5: ACE-Lite - 256 Agent 6: ACE- 128 Agent 7: ACE - 256 Agent 8: ACE - 128 Agent 9: ACE-Lite 64 Agent 10: NCB (w/ IO$ MSIIX) – 256 Agent 11: NCB (w/ IO$ MOSI) – 128 Agent 12: NCB (w/ IO$ MOSI) – 64</td></tr><tr><td colspan="1" class="confluenceTd">EOSCR / PV VB in EOS only</td><td colspan="1" class="confluenceTd">EOS / PVCR Victim Buffer in PV only</td><td colspan="1" class="confluenceTd">PVCR(Small)) No Victim Buffer</td><td colspan="1" class="confluenceTd">1 EOSCR 1 NULL 2 PV 2 PVCR VB for al TagFilters</td></tr><tr><td class="confluenceTd">1 Memory Regions – 4 DMI (HB)</td><td class="confluenceTd">2 Memory Region – 1 DMI each 1 Memory Region - 3 DMIs each 64/128 (HB + Null)</td><td class="confluenceTd">2 Memory – 1 DMI/2 DMIs - 64 (all Null)</td><td class="confluenceTd">1 Memory Region – 2 DMI 4 memory regions - 1 DMI each – 64, 128,256 (all HB)</td></tr><tr><td colspan="1" class="confluenceTd">2 DCE</td><td colspan="1" class="confluenceTd">7 DCE</td><td colspan="1" class="confluenceTd">1 DCE</td><td colspan="1" class="confluenceTd"><p>6 DCEs</p></td></tr><tr><td colspan="1" class="confluenceTd"><span>Resilient</span></td><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td></tr></tbody></table></div><div class="table-wrap"><table style="margin-top: 10.0px;font-size: 14.0px;" class="confluenceTable"><tbody><tr><th class="confluenceTh"><s>Cfg9</s></th><th class="confluenceTh">Cfg10</th><th class="confluenceTh"><s>Cfg11(COND-764)</s></th><th class="confluenceTh">Cfg12</th></tr><tr><td class="confluenceTd">8 NCBs (w/ IO$)</td><td class="confluenceTd">1 ACE agent, 2 NCBs (4-way interleaved w/o IO$)</td><td class="confluenceTd">5 ACE agents , 1 ACE-LITE agents, 3 NCBs (w/ IO$)</td><td class="confluenceTd">2 ACE, 2 ACE-Lite, 2 NCBs (2-way Interleaved)</td></tr><tr><td class="confluenceTd"><p>Agent 0-3: NCBs (w/ IO$ all MOSI)</p><p><span>Agent 4-7: NCBs (w/ IO$ all MOSI)</span></p></td><td class="confluenceTd">Agent 0: ACE Agent 2-5: NCB (w/o IO$) Agent 6-9: NCBs(w/o IO$)</td><td class="confluenceTd">Agent 0: ACE 256 Agent 1: ACE 256 Agent 2: ACE 256 Agent 3: ACE 256 Agent 4: ACE-Lite 256 Agent 5: ACE 256 Agent 6: ACE 256 Agent 7,8,9: NCBs (w/ IO$ 2 MOSI 1 MSIIX) 256</td><td class="confluenceTd">Agent 0,1: ACE – 64 N-procs=8 Agent 2: ACE-Lite - 64 Agent 3: ACE – 256 N-Procs=4 Agent 4: ACE-Lite – 256 Agent 5,6: NCBs (w/IO$ MOSI) – 64 Agent 7,8: NCBs (w/IO$ MOSI) - 256</td></tr><tr><td colspan="1" class="confluenceTd">PVCR (Small) /NULL VB in PV</td><td colspan="1" class="confluenceTd">Null</td><td colspan="1" class="confluenceTd">7 EOS 2 VBs with 1 Entry 1 VB of Med. Size 2 VB of max size</td><td colspan="1" class="confluenceTd">1 PVCR 1 EOSCR – 1 Entry VB PV – Large Victim Buffer</td></tr><tr><td class="confluenceTd">1 Memory Region – 1 DMI each (Null)</td><td class="confluenceTd">1 Memory Region – 3 DMIs (VC)</td><td class="confluenceTd">1 Memory Region – 2 DMI 1 Memory Region - 3 DMI each (all VC)</td><td class="confluenceTd">4 Memory Region – 2 DMI each – 64,128,256 (VC + Null)</td></tr><tr><td colspan="1" class="confluenceTd">1 DCE</td><td colspan="1" class="confluenceTd">8 DCE</td><td colspan="1" class="confluenceTd">3 DCE</td><td colspan="1" class="confluenceTd">1 DCE</td></tr><tr><td colspan="1" class="confluenceTd">Resilient</td><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td><td colspan="1" class="confluenceTd"><span>Resilient</span></td><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td></tr></tbody></table></div><p> </p><p> </p><div class="table-wrap"><table style="margin-top: 10.0px;font-size: 14.0px;" class="confluenceTable"><tbody><tr><th class="confluenceTh"><s>Cfg13 (max config)</s></th><th class="confluenceTh"><s>Cfg 14 (NCTI)</s></th><th class="confluenceTh"> </th><th class="confluenceTh"> </th></tr><tr><td class="confluenceTd">16 ACE, 8 ACE-LITE, 8 NCBs (w/IO$)</td><td class="confluenceTd">1 ACE 1 ACE-LITE 1 NCB 1 NCB w/IO$</td><td class="confluenceTd"> </td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd"><p>Agent 0-15: ACE Agent 15-23: ACE-LITE Agent 24-32: NCBs</p><p>128/256 smattered around MOSI/MSIIX smattered around</p></td><td class="confluenceTd"><p>Agent 0: ACE Agent 1: ACE-LITE</p><p>Agent 2: NCB w/o IO$ Agent 3 NCB w/OI$ (Both connected to NCTI)</p></td><td class="confluenceTd"> </td><td class="confluenceTd"> </td></tr><tr><td colspan="1" class="confluenceTd">2 EOS, 2 PV, 3 EOSCR, 3 PVCR 1 Null Max Entry VB</td><td colspan="1" class="confluenceTd">EOSCR</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">8 Memory regions - 1 DMI each, 64/128/256</td><td class="confluenceTd">2 memory regions - 1 DMI each (both NCTI)</td><td class="confluenceTd"> </td><td class="confluenceTd"> </td></tr><tr><td colspan="1" class="confluenceTd">8 DCE</td><td colspan="1" class="confluenceTd">1 DCE</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr><tr><td colspan="1" class="confluenceTd"><span>Non-Resilient</span></td><td colspan="1" class="confluenceTd">Resilient</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><p> </p><h2 id="Systemleveltestplan-4Performance(LatencyandBandwidth)">4 Performance (Latency and Bandwidth)</h2><p>Latency numbers are run at the system level. Numbers are published at <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16168932/v2.0+Release+checklist" data-linked-resource-id="16168932" data-linked-resource-version="168" data-linked-resource-type="page">v2.0 Release checklist</a></p><h2 id="Systemleveltestplan-5.1Uncorrectable/TransportErrorVerification.5Errors"><span style="font-size: 16.0px;font-weight: bold;">5.1 Uncorrectable/Transport Error Verification.</span>5 Errors</h2><p>Concerto System error test injects directed uncorrectable errors and transport errors from all Ncore units. Test is self-checking in terms of predicting Error response from Native agent perspective. Below description indicates all types of error checking performed by this test. Test is controlled by knobs</p><p>For uncorrectable errors, depending on the knob, test triggers corresponding event that causes TB top to hierarchically call uncorrectable error injection task in respective unit memory instance.  Error is injected on next read or write access to memory. To predict the error response accurately, test first calls the method to notify memory to inject error on next access. Then the test initiates RD or WR request so that the native response for this request will indicate correct error type occurred.</p><p>Transport errors are injected by corrupting requests/responses in Pseudo NOC. Since we do not have easy way to inject errors in FlexNOC, these tests run are enabled only in pseudo system regressions with SV NOC. Like uncorrectable errors, transport error injections are controlled by knobs. Test calls SV NOC error injection method by specifying unit-ID and SFI request or response type. Then the test initiates RD or WR request so that the native response for this request will indicate correct error type occurred.</p><p>Below table specifies all types of errors injected. For detailed description on how each unit in Ncore responds to various errors, please refer to CSAS.</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p align="center"><strong>Description</strong></p></td><td class="confluenceTd"><p align="center"><strong>Hash Tag</strong></p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable AIU OTT error</p></td><td class="confluenceTd"><p>#Check.AIU.OnUncorOttErrEachBeatOfRdRspHasDataCorrErr, #Check.AIU.OnWrReqOttUncorErrWrRspHasDataCorrErr, #Check.AIU.OnWrReqOttUncorErrCorrDtwReqBEDeasserted</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable NCB tag error</p></td><td class="confluenceTd"><p>#Check.NCB.OnUncorTagErrEachBeatOfRdRspHasAddrCorrErr, #Check.NCB.OnUncorTagErrSnpRspHasAddrCorrErr</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable NCB data error</p></td><td class="confluenceTd"><p>#Check.NCB.OnUncorDataErrEachCorBeatHasDataCorrErrOnRdRsp,</p><p>#Check.NCB.OnWrReqUncorDataErrDtwReqBEDeassertedForCorrByte,</p><p>#Check.NCB.OnSnpReqUncorDataErrDtrReqBEDeassertedForCorrByte,</p><p>#Check.NCB.OnUncorDataErrIoCachePoisonsTheRetainedCorrData</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable NCB fill error</p></td><td class="confluenceTd"><p>#Check.NCB.UncorFillErrDueToDataPropagatedDataCorrErr,</p><p>#Check.NCB.UncorFillErrDueToControlPropagatedDataCorrErr,</p><p>#Check.NCB.UncorFillErrDueToAddrPropagationErr,</p><p>#Check.NCB.UncorFillErrDueToTransportPropagationErr</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable NCB evict addr</p></td><td class="confluenceTd"><p>#Check.NCB.IoCacheEvictionControlPropagatedPropagatedDataCorrErr,</p><p>#Check.NCB.IoCacheEvictionTransportErr</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable DMI RTT error</p></td><td class="confluenceTd"><p>#Check.DMI.OnRttUncorErrDeassertsBEOnDtrReqForCorrData,</p><p>#Check.DMI.OnRttUncorErrCmcillPoisonsCorrDataByte</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable DMI tag error</p></td><td class="confluenceTd"><p>#Check.DMI.OnCmcTagUncorErrDTReqWithAddrCorrErrIsIssued</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable DMI data error</p></td><td class="confluenceTd"><p>#Check.DMI.OnCmcDataUncorErrDeassertsBEOnDtrReqForCorrData,</p><p>#Check.DMI.OnCmcDataUncorErrCmcRetainsPoisonCorrDataByte</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable DMI Fill error</p></td><td class="confluenceTd"><p>#Check.DMI.OnCmcFillErrDeassertsBEOnDtrReqForCorrDataBeat,</p><p>#Check.DMI.OnCmcFillErrCmcillPoisonsCorrDataBeat</p></td></tr><tr><td class="confluenceTd"><p>Uncorrectable DCE tag filter error</p></td><td class="confluenceTd"><p>#Check.DCE.OnTagErrRespectiveSnoopFilterIsDisabled,</p><p>#Check.DCE.RecallUncorErrDueToDataCorrErr,</p><p>#Check.DCE.RecallUncorErrDueToAddrCorrErr,</p><p>#Check.DCE.RecallUncorErrDueToTransportCorrErr</p></td></tr><tr><td class="confluenceTd"><p>Transport CmdRsp security error</p></td><td class="confluenceTd"><p>#Check.AIU.CmdRspSecErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport CmdRsp DISC error</p></td><td class="confluenceTd"><p>#Check.AIU.CmdRspDiscErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport CmdRsp TMO error</p></td><td class="confluenceTd"><p>#Check.AIU.CmdRspTmoErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport SnpRsp DISC error</p></td><td class="confluenceTd"><p>#Check.AIU.SnpRspDiscErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport SnpRsp  TMO error</p></td><td class="confluenceTd"><p>#Check.AIU.SnpRspTmoErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport DtrRsp DISC error</p></td><td class="confluenceTd"><p>#Check.AIU.DtrRspDiscErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport DtrRsp TMO error</p></td><td class="confluenceTd"><p>#Check.AIU.DtrRspTmoErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport DtwRsp DISC error</p></td><td class="confluenceTd"><p>#Check.DMI.DtwRspDiscErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport DtwRsp TMOerror</p></td><td class="confluenceTd"><p>#Check.DMI.DtwRspTmoErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport HntRsp DISC error</p></td><td class="confluenceTd"><p>#Check.DCE.HntRspDiscErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport HntRsp TMO error</p></td><td class="confluenceTd"><p>#Check.DCE.HntRspTmoErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport MrdRsp DISC error</p></td><td class="confluenceTd"><p>#Check.DCE.MrdRspDiscErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport MrdRsp TMOerror</p></td><td class="confluenceTd"><p>#Check.DCE.MrdRspTmoErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport StrRsp DISC error</p></td><td class="confluenceTd"><p>#Check.DCE.StrRspDiscErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport StrRsp TMO error</p></td><td class="confluenceTd"><p>#Check.DCE.StrRspTmoErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport UpdRsp security error</p></td><td class="confluenceTd"><p>#Check.AIU.UpdRspSecErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport UpdRsp DISC error</p></td><td class="confluenceTd"><p>#Check.AIU.UpdRspDiscErrIssued</p></td></tr><tr><td class="confluenceTd"><p>Transport UpdRsp TMO error</p></td><td class="confluenceTd"><p>#Check.AIU.UpdRspTmoErrIssued</p></td></tr></tbody></table></div><h2 id="Systemleveltestplan-6PowerManagement">6 Power Management</h2><p>Below are various power management tests in system environment.</p><ul><li>Full system power up/down test:<ul><li>We have two flavors of tests for full system power management tests. One (concerto_fullsys_powerdown_fsys_test) test power’s down all ncore units sequentially starting from unit:0 while traffic is actively running. Another test (concerto_fullsys_power_fsys_test) repeats similar behavior as well as power’s up them back sequentially.  Please refer to CSAS for detailed steps power management Up/down sequence.</li></ul></li><li>Full system snoop filter power up/down test:<br/><ul><li>In this test (concerto_fullsys_power_snpfltr_test), we power down all Tag Filters in the system after running traffic for some point. Power down of tag filters happen while agents are actively running traffic.  We then run traffic for few more cycles and then start powering down AIU’s and NCB’s. Once the power down sequence of agents is completed, after some time Snoop filters are powered up back, all the agents are also powered up. Test re-starts traffic and runs until all the requests issued/responded.</li></ul></li><li>Full system ACE agent power up/down test:<br/><ul><li>In this test (concerto_fullsys_power_ace_test), randomly one ACE agent is picked and is powered down while traffic is running on all other agents.</li></ul></li><li>Full system ACE-lite agent power up/down test:<ul><li>Similar to prior test expect that ACE-lite agent is powered down</li></ul></li><li>Full system NCBU with CCP power up/down test:<br/><ul><li>In this test (concerto_fullsys_power_iocache_test), all IO-cache agents with CCP are powered down sequentially. Only the CCP with-in Io-Cache is powered down. Agent is drives active traffic while CCP is about to power down. Once the CCP is powered down, traffic is drive on the agent for some time. Latter CCP is powered up again. The entire CCP power up/down is performed while traffic is actively driving on the NCBU.</li></ul></li><li>Full system DMI with CCP power up/down test:<br/><ul><li>This test similar to prior one expect that CCP within DMI are powered down and up while traffic is actively running. Please refer to CSAS on power management sequence for CCP.</li></ul></li></ul><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Description</strong></p></td><td class="confluenceTd"><p><strong>HashTag</strong></p></td></tr><tr><td class="confluenceTd"><p>Power Down Snoop Filters Without Disabling Traffic</p></td><td class="confluenceTd"><p>#Check.SYS.PowerDownSFWhileTrafficIsRunning</p></td></tr><tr><td class="confluenceTd"><p>Power Up Snoop Filters while traffic is running</p></td><td class="confluenceTd"><p>#Check.SYS.PowerUpSFWhileTrafficIsRunning</p></td></tr><tr><td class="confluenceTd"><p>Powering Down IoCache while traffic is running. Agents acts like Non-coherent AXI4 unit.</p></td><td class="confluenceTd"><p>#Check.SYS.PowerDownIoCacheWhileTrafficIsRunning</p></td></tr><tr><td class="confluenceTd"><p>Powering up IoCache while traffic is running. Agent will cache transactions once CCP is initialized and Lookup En &amp; Fill En are set</p></td><td class="confluenceTd"><p>#Check.SYS.PowerUpIoCacheWhileTrafficIsRunning</p></td></tr><tr><td class="confluenceTd"><p>Powering Down CMC while traffic is running.</p></td><td class="confluenceTd"><p>#Check.SYS.PowerDownIoCacheWhileTrafficIsRunning</p></td></tr><tr><td class="confluenceTd"><p>Powering up IoCache while traffic is running.</p></td><td class="confluenceTd"><p>#Check.SYS.PowerUpIoCacheWhileTrafficIsRunning</p></td></tr></tbody></table></div><p> </p><h2 id="Systemleveltestplan-7CSRInjectionTests">7 CSR Injection Tests</h2><p>If command line plusarg &quot;+inject_random_csr_seq=1&quot; is specified for test &quot;concerto_inhouse_ace_test&quot; then CSR Maintenance operations are injected while the traffic is running. Below are following operations injected</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Description</strong></p></td><td class="confluenceTd"><p><strong>HashTag</strong></p></td></tr><tr><td class="confluenceTd"><p>Inject IoCache flush-all operation in all NCBU agents that have CMC</p></td><td class="confluenceTd"><p>#Check.SYS.InjectNCBUflushAll</p></td></tr><tr><td class="confluenceTd"><p>Randomly Inject Flush Index/way operation in valid NCBU's</p></td><td class="confluenceTd"><p>#Check.SYS.InjectNCBUflushIndexWay</p></td></tr><tr><td class="confluenceTd"><p>Poll NCBU Maintenance active CSR until the read results 0</p></td><td class="confluenceTd"><p>#Check.SYS.PollNCBUMaintActv</p></td></tr><tr><td class="confluenceTd"><p>Inject DCE flush-all operation in all SF's spread across all DCE's</p></td><td class="confluenceTd"><p>#Check.SYS.InjectDCEflushAll</p></td></tr><tr><td class="confluenceTd"><p>Inject DCE flush-victim buffer operation in all SF's spread across all DCE's</p></td><td class="confluenceTd"><p>#Check.SYS.InjectDCEflushVictimBuffer</p></td></tr><tr><td class="confluenceTd"> <p>Inject DCE recall index/way operation for specific SF in specified DCE</p></td><td class="confluenceTd"> #Check.SYS.InjectDCEflushIndexWay</td></tr><tr><td class="confluenceTd">Poll DCE Maintenance active CSR until the read results 0</td><td class="confluenceTd">#Check.SYS.PollDCEMaintActv</td></tr><tr><td class="confluenceTd"><p>Inject flush-all operation in all DMI's that have CMC's enabled</p></td><td class="confluenceTd"><p>#Check.SYS.InjectDMIwithCMCflushAll</p></td></tr><tr><td class="confluenceTd">Poll DCE Maintenance active CSR until the read results 0</td><td class="confluenceTd">#Check.SYS.PollDCEMaintActv</td></tr></tbody></table></div><p> </p><p>Also TTdebug tests are also enabled if plusarg &quot;+inject_ttdebug=1&quot; is specified for same test. There are two flavors of this test. If &quot;+no_quice=1&quot; is specified then test injects TTdebug operations while live traffic is running, But no checks are performed while traffic is running. The other flavor &quot;+no_quice=0&quot;, halts the traffic after certain point of simulation time and forces all SFI hand-shake signals to 0, so that the pending transactions are blocked. Then TTdebug operations are performed and compared against  corresponding RTL signals. If the value read from CSR differs from actual signal values then test fails.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong>Description</strong></p></td><td class="confluenceTd"><p><strong>HashTag</strong></p></td></tr><tr><td class="confluenceTd"><p>Inject TTdebug operations while traffic is Active</p></td><td class="confluenceTd"><p>#Check.SYS.InjectTTdebugOpsWhileTrafficRunning</p></td></tr><tr><td class="confluenceTd"><p>Inject TTdebug operations after halting the traffic and compare them against RTL signal counterparts</p></td><td class="confluenceTd"><p>#Check.SYS.InjectTTdebugOpsAndCompareCSRvalueReadIsCorrect</p></td></tr></tbody></table></div>