<p><style>[data-colorid=qu144ly32p]{color:#333333} html[data-color-mode=dark] [data-colorid=qu144ly32p]{color:#cccccc}[data-colorid=kaew5hoxkc]{color:#333333} html[data-color-mode=dark] [data-colorid=kaew5hoxkc]{color:#cccccc}[data-colorid=uhjeacemwf]{color:#333333} html[data-color-mode=dark] [data-colorid=uhjeacemwf]{color:#cccccc}[data-colorid=f7vn2vedch]{color:#333333} html[data-color-mode=dark] [data-colorid=f7vn2vedch]{color:#cccccc}[data-colorid=lmpmnfljel]{color:#333333} html[data-color-mode=dark] [data-colorid=lmpmnfljel]{color:#cccccc}[data-colorid=jcqtkp2k7j]{color:#333333} html[data-color-mode=dark] [data-colorid=jcqtkp2k7j]{color:#cccccc}[data-colorid=xrhhbylzca]{color:#333333} html[data-color-mode=dark] [data-colorid=xrhhbylzca]{color:#cccccc}[data-colorid=l6vagcrg5c]{color:#333333} html[data-color-mode=dark] [data-colorid=l6vagcrg5c]{color:#cccccc}[data-colorid=meve7lu7k6]{color:#333333} html[data-color-mode=dark] [data-colorid=meve7lu7k6]{color:#cccccc}[data-colorid=wcjfbxd163]{color:#333333} html[data-color-mode=dark] [data-colorid=wcjfbxd163]{color:#cccccc}[data-colorid=w5po2r1h7l]{color:#333333} html[data-color-mode=dark] [data-colorid=w5po2r1h7l]{color:#cccccc}[data-colorid=xdzojzlm8s]{color:#333333} html[data-color-mode=dark] [data-colorid=xdzojzlm8s]{color:#cccccc}[data-colorid=zzc8jt7pa7]{color:#333333} html[data-color-mode=dark] [data-colorid=zzc8jt7pa7]{color:#cccccc}[data-colorid=t5uv4wo64a]{color:#333333} html[data-color-mode=dark] [data-colorid=t5uv4wo64a]{color:#cccccc}[data-colorid=ih7g6vt3o8]{color:#333333} html[data-color-mode=dark] [data-colorid=ih7g6vt3o8]{color:#cccccc}</style><style type="text/css">/*<![CDATA[*/
div.rbtoc1759724155766 {padding: 0px;}
div.rbtoc1759724155766 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724155766 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1759724155766">
<ul class="toc-indentation">
<li><a href="#MaestroNote-JsonGeneration(NCore3.0)">Json Generation (NCore 3.0)</a>
<ul class="toc-indentation">
<li><a href="#MaestroNote-Preparation">Preparation</a></li>
<li><a href="#MaestroNote-Maestroinstruction">Maestro instruction</a></li>
</ul>
</li>
<li><a href="#MaestroNote-JsonGeneration(NCore3+)">Json Generation (NCore 3+)</a>
<ul class="toc-indentation">
<li><a href="#MaestroNote-Preparation.1">Preparation</a></li>
<li><a href="#MaestroNote-Maestroinstruction.1">Maestro instruction</a></li>
</ul>
</li>
<li><a href="#MaestroNote-JsonSuffix">Json Suffix</a></li>
<li><a href="#MaestroNote-Addressmap">Address map</a>
<ul class="toc-indentation">
<li><a href="#MaestroNote-BitSelectionMechanism">Bit Selection Mechanism</a></li>
<li><a href="#MaestroNote-DCEInterleaving">DCE Interleaving</a></li>
<li><a href="#MaestroNote-DMIInterleaving">DMI Interleaving</a></li>
<li><a href="#MaestroNote-BootInfo">Boot Info</a></li>
</ul>
</li>
<li><a href="#MaestroNote-CCPcacheConfigurationinJson">CCP cache Configuration in Json</a>
<ul class="toc-indentation">
<li><a href="#MaestroNote-IndexBitSelection">Index Bit Selection</a></li>
<li><a href="#MaestroNote-TagBankSelection">Tag Bank Selection</a></li>
<li><a href="#MaestroNote-DataBankSelection">Data Bank Selection</a></li>
</ul>
</li>
</ul>
</div><p /><h2 id="MaestroNote-JsonGeneration(NCore3.0)">Json Generation (NCore 3.0)</h2><h4 id="MaestroNote-Preparation">Preparation</h4><ul><li>git clone&nbsp;<a class="external-link" href="mailto:git@gitlab.arteris.com" rel="nofollow">git@gitlab.arteris.com</a>:hardware/hw-test-projects.git</li><li>module load dev/release/Ncore3/stable</li></ul><h4 id="MaestroNote-Maestroinstruction">Maestro instruction</h4><ul><li>&nbsp;Go to the current configuration tcl directory</li><li>&nbsp;Change TCL files. For additional info, see&nbsp;<ul><li><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159223/Tcl+APIs+used+to+modify+the+hw_configs" data-linked-resource-id="16159223" data-linked-resource-version="28" data-linked-resource-type="page">Tcl APIs used to modify the hw_configs</a></li><li><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159716/Recent+Changes+in+Tcl+Commands" data-linked-resource-id="16159716" data-linked-resource-version="7" data-linked-resource-type="page">Recent Changes in Tcl Commands</a></li></ul></li><li><p>&nbsp;Run maestro commands. Note that there may be errors in the log files that you can ignore if the json files are still generated.</p><ul><li><p>&nbsp;If you have made local changes:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Hw_cfg_1
run_maestro -ums true -cfg hw_config_01 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_2
run_maestro -ums true -cfg hw_config_02 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_3
run_maestro -ums true -cfg hw_config_03 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_4
run_maestro -ums true -cfg hw_config_04 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_5
run_maestro -ums true -cfg hw_config_05 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_6
run_maestro -ums true -cfg hw_config_06 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_7
run_maestro -ums true -cfg hw_config_07 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

Hw_cfg_8
run_maestro -ums true -cfg hw_config_08 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_9
run_maestro -ums true -cfg hw_config_09 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

Hw_cfg_10
run_maestro -ums true -cfg hw_config_10 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

Hw_cfg_20
run_maestro -ums true -cfg hw_config_20 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

Hw_cfg_22
run_maestro -ums true -cfg hw_config_22 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

</pre>
</div></div></li><li><p>If you want to take the files from MAESTRO_EXAMPLES:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Hw_cfg_1
run_maestro -ums true -cfg hw_config_01 -g -ndj -sdj 

Hw_cfg_2
run_maestro -ums true -cfg hw_config_02 -g -ndj -sdj 

Hw_cfg_3
run_maestro -ums true -cfg hw_config_03 -g -ndj -sdj 

Hw_cfg_4
run_maestro -ums true -cfg hw_config_04 -g -ndj -sdj 

Hw_cfg_5
run_maestro -ums true -cfg hw_config_05 -g -ndj -sdj

Hw_cfg_6
run_maestro -ums true -cfg hw_config_06 -g -ndj -sdj 

Hw_cfg_7
run_maestro -ums true -cfg hw_config_07 -g -ndj -sdj 

Hw_cfg_8
run_maestro -ums true -cfg hw_config_08 -g -ndj -sdj 

Hw_cfg_9
run_maestro -ums true -cfg hw_config_09 -g -ndj -sdj 

Hw_cfg_10
run_maestro -ums true -cfg hw_config_10 -g -ndj -sdj 

Hw_cfg_20
run_maestro -ums true -cfg hw_config_20 -g -ndj -sdj 

Hw_cfg_22
run_maestro -ums true -cfg hw_config_22 -g -ndj -sdj </pre>
</div></div></li></ul><p><br /></p></li><li>To clean all maestro generated files:&nbsp; run_maestro -c<br /><br /></li></ul><h2 id="MaestroNote-JsonGeneration(NCore3+)">Json Generation (NCore 3+)</h2><p><br /></p><h4 id="MaestroNote-Preparation.1">Preparation</h4><ul><li>git clone <a class="external-link" href="mailto:git@gitlab.arteris.com" rel="nofollow">git@gitlab.arteris.com</a>:hardware/hw-test-projects.git</li></ul><h4 id="MaestroNote-Maestroinstruction.1">Maestro instruction</h4><ul><li>Go to the current configuration tcl directory</li><li>Change TCL files. For additional info, see<ul><li><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159223/Tcl+APIs+used+to+modify+the+hw_configs" data-linked-resource-id="16159223" data-linked-resource-version="28" data-linked-resource-type="page">Tcl APIs used to modify the hw_configs</a></li><li><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159716/Recent+Changes+in+Tcl+Commands" data-linked-resource-id="16159716" data-linked-resource-version="7" data-linked-resource-type="page">Recent Changes in Tcl Commands</a></li></ul></li><li><p>Run maestro commands. Note that there may be errors in the log files that you can ignore if the json files are still generated.</p><ul><li><p>If you have made local changes:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Hw_cfg_1
run_maestro -cfg hw_config_01 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_2
run_maestro -cfg hw_config_02 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_3
run_maestro -cfg hw_config_03 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_4
run_maestro -cfg hw_config_04 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_5
run_maestro -cfg hw_config_05 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_6
run_maestro -cfg hw_config_06 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_7
run_maestro -cfg hw_config_07 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

Hw_cfg_8
run_maestro -cfg hw_config_08 -mut &lt;path to the tcl files&gt; -ndj -sdj -g

Hw_cfg_9
run_maestro -cfg hw_config_09 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

Hw_cfg_10
run_maestro -cfg hw_config_10 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

Hw_cfg_20
run_maestro -cfg hw_config_20 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

Hw_cfg_22
run_maestro -cfg hw_config_22 -mut &lt;path to the tcl files&gt; -ndj -sdj -g 

</pre>
</div></div></li><li><p>If you want to take the files from MAESTRO_EXAMPLES:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Hw_cfg_1
run_maestro -cfg hw_config_01 -g -ndj -sdj 

Hw_cfg_2
run_maestro -cfg hw_config_02 -g -ndj -sdj 

Hw_cfg_3
run_maestro -cfg hw_config_03 -g -ndj -sdj 

Hw_cfg_4
run_maestro -cfg hw_config_04 -g -ndj -sdj 

Hw_cfg_5
run_maestro -cfg hw_config_05 -g -ndj -sdj

Hw_cfg_6
run_maestro -cfg hw_config_06 -g -ndj -sdj 

Hw_cfg_7
run_maestro -cfg hw_config_07 -g -ndj -sdj 

Hw_cfg_8
run_maestro -cfg hw_config_08 -g -ndj -sdj 

Hw_cfg_9
run_maestro -cfg hw_config_09 -g -ndj -sdj 

Hw_cfg_10
run_maestro -cfg hw_config_10 -g -ndj -sdj 

Hw_cfg_20
run_maestro -cfg hw_config_20 -g -ndj -sdj 

Hw_cfg_22
run_maestro -cfg hw_config_22 -g -ndj -sdj </pre>
</div></div></li></ul><p><br /></p></li><li>To clean all maestro generated files: run_maestro -c<br /><br /></li></ul><p>Json files will be in the ../output/debug.</p><p><br /></p><h2 id="MaestroNote-JsonSuffix">Json Suffix</h2><p>top.level.rtl.json RTL Json</p><p>top.level.rtl.csr.json RTL with CSR Json</p><p><br /></p><h2 id="MaestroNote-Addressmap">Address map</h2><p><br /></p><p>Note: BootInfo and DCE/DMI interleaving information both exists in the System parameters and Unit parameters. The format might be slightly different, but they all conform to the same bit selection mechanism and have identical names.</p><h3 id="MaestroNote-BitSelectionMechanism">Bit Selection Mechanism&nbsp;</h3><p>Primary Selection bits are decimal representing which bit in the address. Secondary Selection Bits are hexadecimal, an array of 0/1 with the address length, implying secondary bits.</p><p>For example, assume we have 12-bit address, and&nbsp;</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">      &quot;PrimaryBits&quot;: [
        6,
        7
      ],
      &quot;SecondaryBits&quot;: [
        &quot;'h200&quot;,
        &quot;'h700&quot;
      ]</pre>
</div></div><p><br /></p><p>Primary Bits (LSB -&gt; MSB) 6,7</p><p>Secondary Bits (LSB -&gt; MSB) h200 = 0010 0000 0000 (Binary) ; h700 = 0111 0000 0000&nbsp; implying 9th and 9th,10th,11th bit.</p><p><br /></p><p>To get the DCE/DMI's NunitId,</p><p>MSB: &lt;6th bit&gt; XOR &lt;9th Bit&gt; = NunitId's MSB , for example 0</p><p>LSB: &lt;7th bit&gt; XOR &lt;10th Bit&gt; XOR &lt;11th bit&gt; XOR &lt;9th bit&gt; = NunitId's LSB, for example 1</p><p>After concatenation, we get MSB+...+LSB = NunitId Binary</p><p>In this case, if we get 01 = 1, it's going to NunidId = 1 DMI/DCE</p><p><br /></p><p><strong>Attention:</strong></p><p>1) In the array of &quot;PrimaryBits&quot;, each bit is unique. &nbsp;</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">      &quot;PrimaryBits&quot;: [
        7,
        7
      ],                                                              //Forbidden </pre>
</div></div><p><br /></p><p>2) One bit used in &quot;PrimaryBits&quot; cannot appear in &quot;SecondaryBits&quot;.&nbsp;</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">      &quot;PrimaryBits&quot;: [
        6,
        7
      ],
      &quot;SecondaryBits&quot;: [
        &quot;'h080&quot;,
        &quot;'h040&quot;
      ]                                                            //Forbidden </pre>
</div></div><p><br /></p><p>3) In the group of &quot;SecondaryBits&quot;, bits can be reused.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">      &quot;SecondaryBits&quot;: [
        &quot;'h040&quot;,
        &quot;'h040&quot;,
        &quot;'h050&quot;,
      ]                                                           //Permitted</pre>
</div></div><p><br /></p><h3 id="MaestroNote-DCEInterleaving">DCE Interleaving</h3><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//&quot;system&quot; 
    &quot;dceInterleaveInfo&quot;: {  
      &quot;PrimaryBits&quot;: [
        ...
      ],
      &quot;SecondaryBits&quot;: [
        ...
      ]
    },</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//&quot;unit&quot;
&quot;dceSelectInfo&quot;: {
	&quot;PriSubDiagAddrBits&quot;:[6, 7, 8], 
	&quot;SecSubRows&quot;: [&quot;'h0&quot;, &quot;'h0&quot;,&quot;'h0&quot;]}
</pre>
</div></div><p><br /></p><p>Apply the above Bits selection mechanism to choose which DCE the address goes to.</p><p><br /></p><h3 id="MaestroNote-DMIInterleaving">DMI Interleaving</h3><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//&quot;system&quot;
    &quot;dmiInterleaveInfo&quot;: {
      &quot;DMIIntrlvFunctions&quot;: {
        &quot;TwoWayIntrlvFuncV&quot;: [
          {
            &quot;PrimaryBits&quot;: [
              6
            ],
            &quot;SecondaryBits&quot;: [
              &quot;'h00000000000&quot;
            ]
          }
        ],
        &quot;ThreeWayIntrlvFuncV&quot;: [
          {
            &quot;PrimaryBits&quot;: [],
            &quot;SecondaryBits&quot;: []
          }
        ],
        &quot;FourWayIntrlvFuncV&quot;: [
          {
            &quot;PrimaryBits&quot;: [
              6,
              7
            ],
            &quot;SecondaryBits&quot;: [
              &quot;'h00000000000&quot;,
              &quot;'h00000000000&quot;
            ]
          }
        ]
      },
      &quot;IGSV&quot;: [
        {
          &quot;IGV&quot;: [
            {
              &quot;DMIIDV&quot;: [
                0,
                1,
                2,
                3
              ]
            },
            {
              &quot;DMIIDV&quot;: [
                4,
                5,
                6,
                7
              ]
            }
          ]
        },
        {
          &quot;IGV&quot;: [
            {
              &quot;DMIIDV&quot;: [
                0,
                1
              ]
            },
            {
              &quot;DMIIDV&quot;: [
                2,
                3
              ]
            },
            {
              &quot;DMIIDV&quot;: [
                4,
                5
              ]
            },
            {
              &quot;DMIIDV&quot;: [
                6,
                7
              ]
            }
          ]
        }
      ]
    },</pre>
</div></div><p>For DMI, Json defines the memory interleaving sets. In the above case, we have two sets(options) in which there are two/four DMI's in each group.&nbsp;</p><p style="margin-left: 0.0px;text-align: left;">The sets are represented as IGSV and the groups are represented as IGV. Each IGV contains the Nunit IDs of the DMIs.</p><p style="margin-left: 0.0px;text-align: left;">To choose which DMI,</p><p style="margin-left: 0.0px;text-align: left;">Choose Two way/ four way &nbsp;&nbsp; - &nbsp; From CSR ( In some sense, address manager)</p><p style="margin-left: 0.0px;text-align: left;">Choose which group -&nbsp; From CSR</p><p style="margin-left: 0.0px;text-align: left;">Choose which particular DMI in the group &ndash; From Primary and Secondary Bits &nbsp;(Bits Selection Mechanism)</p><p><br /></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//&quot;unit&quot;
  &quot;InterleaveInfo&quot;: {
    &quot;dmiIGSV&quot;: [
	{&quot;IGV&quot;:[{&quot;DMIIDV&quot;: [0, 1, 2, 3]}, {&quot;DMIIDV&quot;: [4]},
		{&quot;DMIIDV&quot;: [5, 6]} ,{&quot;DMIIDV&quot;: [7]}]},
	{&quot;IGV&quot;:[{&quot;DMIIDV&quot;: [0, 1]}, {&quot;DMIIDV&quot;: [2, 3]},
		{&quot;DMIIDV&quot;: [4,5,6,7]}]}
	],
    &quot;dmi2WIFV&quot;:[
	{&quot;PrimaryBits&quot;: [6], &quot;SecondaryBits&quot;:[&quot;'h00000000000&quot;]},
	{&quot;PrimaryBits&quot;: [7], &quot;SecondaryBits&quot;:[&quot;'h00000000000&quot;]}],
    &quot;dmi3WIFV&quot;: [],
    &quot;dmi4WIFV&quot;:[
	{&quot;PrimaryBits&quot;: [6, 7], &quot;SecondaryBits&quot;:[&quot;'h00000000000&quot;, &quot;'h00000000000&quot;]},
	{&quot;PrimaryBits&quot;: [8, 9], &quot;SecondaryBits&quot;:[&quot;'h00000000000&quot;, &quot;'h00000000000&quot;]}],
</pre>
</div></div><p>There are two DMI grouping sets/options, referring to &quot;dmiIGSV&quot; in this example.</p><p>In each option(&quot;IGV&quot;), &quot;DMIIDV&quot; represents an interleaving group of DMI's, which can be 2-way interleaving(dmi2WIFV), 3-way interleaving(dmi3WIFV), 4-way interleaving(dmi4WIFV), or no interleaving. The number in &quot;DMIIDV&quot; is the NunitId of DMI's.</p><p style="margin-left: 0.0px;text-align: left;">To choose which DMI,</p><p style="margin-left: 0.0px;text-align: left;">Choose which option(&quot;IGV&quot;) - From run-time CSR</p><p style="margin-left: 0.0px;text-align: left;">Choose which group&nbsp; -&nbsp; From run-time CSR.</p><p style="margin-left: 0.0px;text-align: left;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;For Boot Region, the &quot;regionHui&quot; defines which group is selected for boot, <strong>Attention:&nbsp;<span data-colorid="wcjfbxd163" style="text-decoration: none;">&nbsp;</span> <span data-colorid="l6vagcrg5c" style="text-decoration: none;">&ldquo;regionHui&rdquo; selects the memory group in the memory set 0 ( the first option)</span> </strong></p><p style="margin-left: 0.0px;text-align: left;">Choose which particular DMI in the group - Refer to the corresponding &quot;dmi&lt;x&gt;WIFV&quot;, Calculate NunitId based on Primary and Secondary Bits &nbsp;(Bits Selection Mechanism)</p><p style="margin-left: 0.0px;text-align: left;"><span data-colorid="xdzojzlm8s" style="text-decoration: none;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Example: If the DMI interleaving group is 4-way interleaving, in order to determine which DMI the address goes to, please refer to &quot;dmi4WIFV&quot; and apply the above bits selection mechanism. There are two options to select from. The user can only provide maximum of two options. Here the first option for primary bits is 6,7 and the second option for primary bits is 8,9. The option to select is decided from the CSR at runtime.&nbsp;</span></p><p style="margin-left: 0.0px;text-align: left;"><span data-colorid="w5po2r1h7l" style="text-decoration: none;">There are also two options in&nbsp;<span data-colorid="uhjeacemwf" style="text-decoration: none;">&quot;dmi&lt;x&gt;WIFV&quot;. It is called as MemoryInterleaving Function.</span> </span></p><p style="margin-left: 0.0px;text-align: left;">Choose which Pri-Sec Bit option in &quot;dmi&lt;x&gt;WIFV&quot; - From run-time CSR</p><p style="margin-left: 0.0px;text-align: left;">If the secondary bit is not given by the user, it is taken as &quot;'h0000000&quot; by default.</p><p style="margin-left: 0.0px;text-align: left;"><br /></p><h3 id="MaestroNote-BootInfo">Boot Info</h3><p>In the system parameters,</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//&quot;system&quot;  
    &quot;BootInfo&quot;: {
      &quot;regionBaseAddr&quot;: &quot;'h0&quot;,
      &quot;regionHui&quot;: 0,
      &quot;regionSize&quot;: 524288,            //524288 Bytes
      &quot;regionHut&quot;: &quot;DMI&quot;
    },</pre>
</div></div><ul style="text-decoration: none;text-align: left;margin-left: 0.0px;"><li><span>&ldquo;regionHut&rdquo; = DMI / DII</span></li><li><span>&nbsp;</span> <span>&ldquo;regionHui&rdquo; = ID of the memory group in the memory set 0 ( if Hut == DMI)</span> <br />&nbsp;&ldquo;regionHui&rdquo; = Nunit ID of the DII ( if Hut == DII)</li><li>&nbsp;&quot;regionSize&quot; = size of the bootregion (in KB)</li></ul><p><br /></p><p>In the unit parameters, it's essentially copied from the system parameters.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//&quot;unit&quot;  
&quot;BootInfo&quot;: {
    &quot;regionHui&quot;: 1,
    &quot;regionHut&quot;: 1,
    &quot;regionSize&quot;: 12,            // 2^(12+12) = 2^24 = 1677216 Bytes
    &quot;regionBlr&quot;: &quot;0&quot;,
    &quot;regionBhr&quot;: &quot;0&quot;
  },</pre>
</div></div><p><br /></p><ul><li><span>&ldquo;regionHut&rdquo; (Home Unit Type). This indicates where the boot code is loaded from. It could be DMI or DII.</span></li><li><span>&nbsp;</span> <span>&ldquo;regionHui&rdquo; (Home Unit Identifier)&nbsp;</span></li><li><span>&nbsp; If HUT is DMI, then the ID of the memory group in the memory set 0 is given.</span> <br />&nbsp; If HUT is DII, then the Nunit ID of the DII is given.</li><li><span>&ldquo;regionSize&rdquo; represents which number x is added to 12 for 2^(x+12) = how many bytes for size. The unit is KB.</span></li><li><span>&ldquo;regionBlr&rdquo; = low address bits</span></li><li><span>&ldquo;regionBhr&rdquo; = high address bits, suppose we have 48-bit address, then 24 bits are in lower bits(Blr), 24 bits are in higher bits(Bhr). After stacking them up, we get a 48-bit base address.</span></li></ul><p>Base Address + Region Size = Address region</p><p><br /></p><h2 id="MaestroNote-CCPcacheConfigurationinJson">CCP cache Configuration in Json</h2><h4 id="MaestroNote-IndexBitSelection">Index Bit Selection</h4><p style="margin-left: 0.0px;text-align: left;">To get the IndexBits,</p><p style="margin-left: 0.0px;text-align: left;">We still follow the above Bit Selection Mechanism i.e. PriSubDiagAddrBits[m]&nbsp; XOR&nbsp; SecSubRows[m],&nbsp;</p><p style="margin-left: 0.0px;text-align: left;">Example 1&nbsp;</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">          &quot;PriSubDiagAddrBits&quot;: [
            8,
            9,
          ],
          &quot;SecSubRows&quot;: [
            &quot;'h1000000000&quot;,
            &quot;'h2000000000&quot;,
          ],</pre>
</div></div><p><span data-colorid="kaew5hoxkc" style="text-decoration: none;">Assume addr width is 44,</span></p><p><span data-colorid="ih7g6vt3o8" style="text-decoration: none;"> <span data-colorid="jcqtkp2k7j" style="text-decoration: none;">&quot;'h1000000000&quot;</span> and&nbsp;<span data-colorid="qu144ly32p" style="text-decoration: none;">&quot;'h2000000000&quot; are the 40th and 41th bit respectively.</span> </span></p><p style="margin-left: 0.0px;text-align: left;">MSB: &lt;8th bit&gt; XOR &lt;40th Bit&gt; = Index Bits' MSB , for example 0</p><p style="margin-left: 0.0px;text-align: left;">LSB: &lt;9th bit&gt; XOR &lt;41th Bit&gt;&nbsp; = Index Bits' LSB, for example 1</p><p style="margin-left: 0.0px;text-align: left;">After concatenation, we get MSB+...+LSB = IndexBit Binary</p><p style="margin-left: 0.0px;text-align: left;">In this case, if we get 01 = 1, this address is assigned to the Tag Bank entry with Set = 1.</p><p><br /></p><p>Example 2</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//Example from hw_config_6 json,
          &quot;PriSubDiagAddrBits&quot;: [
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18
          ],
          &quot;SecSubRows&quot;: [
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;
          ],</pre>
</div></div><p style="margin-left: 0.0px;text-align: left;">IndexBit[11 : 0] =&nbsp;PriSubDiagAddrBits[18] +&nbsp;<span data-colorid="xrhhbylzca" style="text-decoration: none;">PriSubDiagAddrBits[17] + ... +&nbsp;<span data-colorid="lmpmnfljel" style="text-decoration: none;">PriSubDiagAddrBits[9] +&nbsp;<span data-colorid="meve7lu7k6" style="text-decoration: none;">PriSubDiagAddrBits[8]</span> </span> </span> <span style="background-color: rgb(238,238,238);">&nbsp;</span></p><p style="margin-left: 0.0px;text-align: left;"><br /></p><h4 id="MaestroNote-TagBankSelection">Tag Bank Selection&nbsp;</h4><p>Number of Tag Banks: 1 or 2</p><p>Number of Tag Bank Selection Bits: 0 or 1 bit</p><p><br /></p><p>TagBankSelBit determines which bit from IndexBits is the TagBankSelBit.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//Example from hw_cfg_6
         &quot;PriSubDiagAddrBits&quot;: [
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18
          ],
          &quot;SecSubRows&quot;: [
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;
          ],          
          &quot;TagBankSelBits&quot;: [
            0
          ],
</pre>
</div></div><p>TagBankSelBit is the 0th bit in Index Bits, which is the 8th bit of address bits.</p><p><br /></p><h4 id="MaestroNote-DataBankSelection">Data Bank Selection</h4><p>Number of Data Banks: 1 or 2 or 4</p><p>Number of Data Bank Selection Bits: 0 or 1 or 2 bits</p><p><br /></p><p><span data-colorid="t5uv4wo64a" style="text-decoration: none;">DataBankSelBits determine which bits from IndexBits are the DataBankSelBits.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">//Example from hw_cfg_6
         &quot;PriSubDiagAddrBits&quot;: [
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18
          ],
          &quot;SecSubRows&quot;: [
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;,
            &quot;'h0&quot;
          ],                    
         &quot;DataBankSelBits&quot;: [
            0,
            1
          ],</pre>
</div></div><p>Data<span data-colorid="zzc8jt7pa7" style="text-decoration: none;"> <span data-colorid="f7vn2vedch" style="text-decoration: none;">BankSelBits are the 0th and 1st bit in Index Bits, which are the 8th and 9th bit of address bits respectively.</span> </span></p><p><br /></p>