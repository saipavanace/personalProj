<h2 id="HW-SYMmergeCsr-Path">Path</h2><p>hw-lib/js/lib_utils.js</p><h2 id="HW-SYMmergeCsr-Description">Description</h2><p>The function is used to merge spaceBlocks in multiple CSR (<a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16154965/csr" data-linked-resource-id="16154965" data-linked-resource-version="35" data-linked-resource-type="page">csr</a>) objects into a single <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16154965/csr" data-linked-resource-id="16154965" data-linked-resource-version="35" data-linked-resource-type="page">csr</a> object with all of those spaceblocks. The CSRs themselves are passed to the function as an associative array of block IDs to their CSRs (csrMap). In addition, the function requires an address map that tells the function how to arrange the spaceBlocks / address-blocks of all CSRs in the proper order of their base-addresses and to re-compute the base-addresses. The address-map is expected to be computed using the function <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16158262/HW-SYM+createConfigAddressMap" data-linked-resource-id="16158262" data-linked-resource-version="13" data-linked-resource-type="page">HW-SYM createConfigAddressMap</a>( ).</p><h2 id="HW-SYMmergeCsr-Usage">Usage</h2><p>const mergedCSR   = mergeCsr ( <em>addrMap</em>, <em>csrMap</em> );</p><p>Parameters</p><ol><li><em>addrMap</em>: An object returned by calling the <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16158262/HW-SYM+createConfigAddressMap" data-linked-resource-id="16158262" data-linked-resource-version="13" data-linked-resource-type="page">HW-SYM createConfigAddressMap</a>( ) function.</li><li><em>csrMap</em>: An object with block IDs as keys, and CSRs associated with those blocks as corresponding values.</li></ol><p><br/></p><h4 id="HW-SYMmergeCsr-ReturnValue">Return Value</h4><p>A <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16154965/csr" data-linked-resource-id="16154965" data-linked-resource-version="35" data-linked-resource-type="page">csr</a> object with all the space-blocks of the individual <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16154965/csr" data-linked-resource-id="16154965" data-linked-resource-version="35" data-linked-resource-type="page">csr</a> objects in the <em>csrMap</em>. The base-addresses of the space-blocks are set according to the <em>addrMap</em> parameter passed.</p><h2 id="HW-SYMmergeCsr-Examples">Examples</h2><p><span class="legacy-color-text-blue3">const addrMap = createAddressMap({ addressWidth: 12, sizes: [ 10, 10, 10 ] }); // Sets offsets at 0, 1024, and 2048, blockIds to 0, 1, and 2<br/>const csrMap = {<br/>  &quot;0&quot;: generateCTLCSR( ... ),<br/>  &quot;1&quot;: generateExclusiveMonitorCSR( ... ),<br/>  &quot;2&quot;: generateInterruptCSR( ... )<br/></span><span class="legacy-color-text-blue3">}</span></p><p><span class="legacy-color-text-blue3">const mergedCSR = mergeCsr ( addrMap, csrMap );   // Returns the merged CSR</span></p><p><br/></p><p><br/></p>