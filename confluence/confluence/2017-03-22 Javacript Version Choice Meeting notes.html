<h2 id="id-2017-03-22JavacriptVersionChoiceMeetingnotes-Date">Date</h2><p><time datetime="2017-03-22" class="date-past">22 Mar 2017</time></p><h2 id="id-2017-03-22JavacriptVersionChoiceMeetingnotes-Attendees">Attendees</h2><ul><li><p><a class="confluence-userlink user-mention" data-account-id="624b3779ad6b7e006aa7d820" href="https://arterisip.atlassian.net/wiki/people/624b3779ad6b7e006aa7d820?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Steve Potter (Deactivated)</a></p></li><li><p><a class="confluence-userlink user-mention" data-account-id="624b3755f813eb00692cb1c3" href="https://arterisip.atlassian.net/wiki/people/624b3755f813eb00692cb1c3?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aliaksei Chapyzhenka (Deactivated)</a></p></li><li><a class="confluence-userlink user-mention" data-account-id="624b37b82e101c006a910636" href="https://arterisip.atlassian.net/wiki/people/624b37b82e101c006a910636?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Manadher Kharroubi (Deactivated)</a></li><li><a class="confluence-userlink user-mention" data-account-id="624b37fc258562006fa692fa" href="https://arterisip.atlassian.net/wiki/people/624b37fc258562006fa692fa?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">John Coddington (Deactivated)</a></li><li><a class="confluence-userlink user-mention" data-account-id="5ed63c82037d930c16bd8c73" href="https://arterisip.atlassian.net/wiki/people/5ed63c82037d930c16bd8c73?ref=confluence" target="_blank" data-linked-resource-id="327834" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Saad Zahid</a></li></ul><h2 id="id-2017-03-22JavacriptVersionChoiceMeetingnotes-Goals">Goals</h2><ul><li>Discuss choice of JavaScript version and feature set for Symphony.</li></ul><h2 id="id-2017-03-22JavacriptVersionChoiceMeetingnotes-Discussionitems">Discussion items</h2><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Time</th><th class="confluenceTh">Item</th><th class="confluenceTh">Who</th><th class="confluenceTh">Notes</th></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd">Possible Choices</td><td class="confluenceTd"></td><td class="confluenceTd"><ul><li>Supported JavaScript features for recent versions across various browsers can be found in <a class="external-link" href="http://kangax.github.io/compat-table/es2016plus/" rel="nofollow">http://kangax.github.io/compat-table/es2016plus/</a></li></ul></td></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">What Symphony code will be using JavaScript?</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><ul><li>Decision can be made without first determining the exact set of Symphony coding will be done in JavaScript. If there are limitations in our planned coding that would limit us to a subset of the JavaScript choices, then we can either restrict the JavaScript version to accommodate that code, or not use JavaScript for that code. Upon further discussion, there were no obvious tasks that would limit our JavaScript version choice.</li></ul></td></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd">What features do we care about?</td><td class="confluenceTd"> </td><td class="confluenceTd"><ul><li>ES 2017 provides async/await, which greatly simplifies JavaScript asynchronous programming.</li><li>ES 2017 does not yet provide shared memory and atomics support</li></ul></td></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">What about DV code sharing with the NCore work?</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><ul><li>DV is currently planning to use the NCore DV code as a starting point. If they want to continue sharing code with the NCore DV group, that code needs to be compatible with the version 5.x version of 'node' that they are using. This can be handled with a set of ESLint rules that they can use to ensure that the shared JavaScript is compatible.</li></ul></td></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">Is it safe to use async/await given that 'atomics' is not yet available</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><ul><li><a class="confluence-userlink user-mention" data-account-id="624b37b82e101c006a910636" href="https://arterisip.atlassian.net/wiki/people/624b37b82e101c006a910636?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Manadher Kharroubi (Deactivated)</a> remarked that we shouldn't use async/await if the 'atomics' feature isn't yet available. Async/await are only a more convenient way of using the 'asynchronous' JavaScript calls that we are already using. Async/await use the 'Promises' library. All operations within JavaScript are already atomic, because JavaScript is single-threaded and executes the 'asynchronous' callbacks within the event loop. The 'atomics' feature is needed only when the (also not yet available) 'SharedArrayBuffer' is used to coordinate access of shared memory between processes.</li></ul></td></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">Conclusion</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><ul><li>We will use JavaScript 2017 for all Symphony JavaScript code. There will be an optional set of ESLint rules that will give warnings or errors for any usage that isn't backward compatible to node 5.1.</li></ul></td></tr></tbody></table></div>