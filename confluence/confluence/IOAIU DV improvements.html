<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759724442856 {padding: 0px;}
div.rbtoc1759724442856 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724442856 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759724442856'>
<ul class='toc-indentation'>
<li><a href='#IOAIUDVimprovements-Environment:'>Environment:</a></li>
<li><a href='#IOAIUDVimprovements-Timeouts:'>Timeouts:</a></li>
<li><a href='#IOAIUDVimprovements-FSYS:'>FSYS:</a></li>
<li><a href='#IOAIUDVimprovements-Stimulus:'>Stimulus:</a></li>
<li><a href='#IOAIUDVimprovements-Checking:'>Checking:</a></li>
<li><a href='#IOAIUDVimprovements-Regressions:'>Regressions:</a></li>
</ul>
</div></p><p>This is a list of improvement ideas for IOAIU to be as soon as possible, hopefully in the Ncore 3.4 timeframe.</p><h2 id="IOAIUDVimprovements-Environment:"><strong>Environment:</strong></h2><ul><li>The current environment is not built based on the standard which makes it non-modular and because of this issue, any changes to TB takes a lot of time.<ul><li>For example, we have a axi_cmd_req_id_if interface which is set in the config_db and it is fetched in the scoreboard (which is not typical) and to make it even worse, this is not fetched directly in the scoreboard. Instead it is fetched in the environment from config_db and the scoreboard is given a handle from the env.</li></ul></li><li>Bringup test is getting the scoreboard handle from the environment and is setting to config_db : Still need to check where this is used but this was causing problems during bringup</li><li>Static variables are used in multiple components (especially axi_seq) because of which each instance of this class is not behaving independently even when they are instantiated multiple times. The static variables in each instance see the same data making it difficult to make the testbench modular. For time being we are using unique identifier for each instance as a workaround but this has to be cleaned to make the TB more robust</li><li>Objections: make sure they are coarse, not raised or dropped per transaction, not raised or dropped by the scoreboard</li></ul><h2 id="IOAIUDVimprovements-Timeouts:"><strong>Timeouts:</strong></h2><p>Heart beat debug cost a lot of time in Ncore 3.2, especially during the time we were trying to release. </p><p><br/></p><p>Improvement ideas:</p><ul><li>Interface readiness timeout:<ul><li>For example, timeout if 10,000 cycles after ar_valid, no ar_ready.</li><li>Does not fire if initiator does not initiate activity.</li><li>AXI/ACE valid/ready, SMI, others?</li></ul></li><li>Transaction response timeout:<ul><li>For example,  timeout if 10,000 cycles after ar_valid/ready, no r_valid (+r_last?).</li></ul></li><li>Single Interface initiator inactivity timeout<ul><li>For example, timeout if no ar_valid, aw_valid, ... after 20,000 cycles.</li></ul></li><li>Global initiator inactivity timeout.<ul><li>For example, timeout if no initiator in the simulation (any AIU, etc) starts a transaction for 100,000 cycles.</li></ul></li><li>Sequence completion timeout.<ul><li>For example, csr_sequence did not complete after 1,000,000 cycles.</li><li>AXI/ACE, others?</li></ul></li><li>Scoreboard pending transaction timeout<ul><li>Maybe check the scoreboard regularly and report transactions pending for more than 20000 cycles?</li></ul></li><li>Better debug messages on Heart Beat or other timeouts.<ul><li>For example, “xxx transactions pending in ioaiu_scb0, xxx transactions pending in ioaiu_scb1…”.</li></ul></li><li>Each of this would need to allow user (plusarg?) control to disable a timeout for a test or change a timeout value.</li></ul><p><br/></p><p>The strategy would be to pick one improvement idea, implement a specific one, get it to work and make a mechanism that can be reused.</p><h2 id="IOAIUDVimprovements-FSYS:"><strong>FSYS:</strong></h2><p>How many IOAIU block tests are run at FSYS? Run more block tests at FSYS?</p><p><br/></p><p><strong style="font-size: 20.0px;letter-spacing: -0.008em;">Randomization:</strong></p><p>FSYS has random configs. Should we do this for IOAIU block level?</p><h2 id="IOAIUDVimprovements-Stimulus:"><strong>Stimulus:</strong></h2><p>Most tests run with 1000 writes, 1000 reads and sometimes 1000 snoops. Have some bug hunting with 5k, 10k, 20k, and more transactions.</p><p>Add no_delays and long_delays versions of some tests, such as random_rd_wr_traffic.</p><h2 id="IOAIUDVimprovements-Checking:"><strong>Checking:</strong></h2><p>Make sure that every transaction is fully checked going into the IOAIU or out of the IOAIU to make FSYS debug faster.</p><p>Some things are checked in the scoreboard transaction and others in the scoreboard. Need to have a coherent strategy for what gets checked in each.</p><p>Review mismatches to make sure that all of them are followed by a UVM_ERROR.</p><h2 id="IOAIUDVimprovements-Regressions:"><strong>Regressions:</strong></h2><p>Make sure IOAIU_nightly runs in 12 hours.</p><p>Set grid timeout to 2 hours for IOAIU_nightly (maybe 3 hours for Mobileye configs).</p><p><br/></p><p><br/></p><p><br/></p>