<div class="contentLayout2">
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="RTTStateEntry-States">States</h2><p>
<style>
    .html-viewer-unsafe-html-content {
        display: none;
    }

    .html-viewer-content {
        height: 650px;
        width: 100%;
        position: relative;
    }

    .html-viewer-iframe {
        height: inherit;
        width: inherit;
        border: none;
    }

    .html-viewer-tab-bar { /* The button group */
        width: max-content;
    }

    .html-viewer-tab-bar button {
        background-color: #F6F6F6; /* Light grey background */
        border: 1px solid #D0D0D0; /* Dark grey border */
        color: #525252; /* Dark grey text */
        padding: 5px 12px;
        cursor: pointer;
        float: left;
        overflow: auto;
        letter-spacing: 0.75px; /* Allows for letters to be clear and readable when bolded */
        height: 32px;
    }

    .html-viewer-tab-bar button:not(:nth-last-of-type(1)) {
        border-right: none; /* Prevents double borders */
    }

    .html-viewer-tab-bar button:hover {
        background-color: #FFFFFF !important;
        color: #0E6232 !important; /* Black text */
        text-shadow: -0.5px 0 black, 0.5px 0 #0E6232 !important; /* Black bolded text */
    }

    .html-viewer-scroller { /* The scrollbar */
        width: 100%;
        overflow-x: auto;
    }
</style>

<div class="office-container">
            <img src="https://api.media.atlassian.com/file/4339027b-05ee-4239-841f-6590438da877/image?token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiI3NWE4Y2IwYS1hMGYyLTQwZDktYTQ2Ny1mNzA2NzhiZTQzMGQiLCJhY2Nlc3MiOnsidXJuOmZpbGVzdG9yZTpmaWxlOjQzMzkwMjdiLTA1ZWUtNDIzOS04NDFmLTY1OTA0MzhkYTg3NyI6WyJyZWFkIl19LCJleHAiOjE3NTk3Mjc3MzMsIm5iZiI6MTc1OTcyNDczMywiYWFJZCI6IjYyNGIzODA3YTYyOWMzMDA2OGE3OWY1MCJ9.OHpd5WRkIds3Fr12dsMSa1W8n5KfZf5_-LaDXZa0X7w&client=75a8cb0a-a0f2-40d9-a467-f70678be430d&name=RTT%20State%20Entry.xlsx" />
    </div>
</p><p><span style="font-size: 20.0px;"><br/>Created with <a class="external-link" href="https://stash.arteris.com/users/thbj/repos/rtt_state_entry_helper/browse/src/createRTTAssertionFromCSV.py" rel="nofollow">https://stash.arteris.com/users/thbj/repos/rtt_state_entry_helper/browse/src/createRTTAssertionFromCSV.py</a> </span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">// Invalid
(~valid)
// Read (waiting for write)
| (valid &amp; ~mrd_type &amp; ~pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; write_outstanding &amp; ~speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Read (AR pending)
| (valid &amp; ~mrd_type &amp; ~pending_way_valid &amp; read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; ~speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Read (AR sent)
| (valid &amp; ~mrd_type &amp; ~pending_way_valid &amp; ~read_pending &amp; read_outstanding &amp; ~write_outstanding &amp; ~speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Read (R received (dtr pending))
| (valid &amp; ~mrd_type &amp; ~pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; ~speculative &amp; ~stale &amp; dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Read (dtr sent)
| (valid &amp; ~mrd_type &amp; ~pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; ~speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Hint (waiting for write)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; write_outstanding &amp; speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Hint (AR pending)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Hint (AR sent)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; read_outstanding &amp; ~write_outstanding &amp; speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Hint (fill pending)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; ~stale &amp; dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Hint (Fill Outstanding)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; ~stale &amp; ~dtr_pending &amp; fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Upgraded Hint (AR sent)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Upgraded Hint (fill pending)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Upgraded Hint (fill outstanding)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; ~dtr_pending &amp; fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Upgraded Hint (reverse command pending)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Upgraded Hint (reverse command outstanding) (removed)
| (valid &amp; ~mrd_type &amp; ~pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Stale Hint (AR Sent)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Stale Hint (fill pending)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Stale Hint (fill outstanding)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; ~dtr_pending &amp; fill_outstanding &amp; ~cmd_pending &amp; fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Stale Hint (invalidate fill pending)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Stale Hint (invalidate fill outstanding)
| (valid &amp; ~mrd_type &amp; pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; speculative &amp; stale &amp; ~dtr_pending &amp; fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; fill_invalid_outstanding)
// Flush (waiting for write)
| (valid &amp; mrd_type &amp; ~pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; write_outstanding &amp; ~speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Flush (dtr pending)
| (valid &amp; mrd_type &amp; ~pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; ~speculative &amp; ~stale &amp; dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)
// Flush (dtr sent)
| (valid &amp; mrd_type &amp; ~pending_way_valid &amp; ~read_pending &amp; ~read_outstanding &amp; ~write_outstanding &amp; ~speculative &amp; ~stale &amp; ~dtr_pending &amp; ~fill_outstanding &amp; ~cmd_pending &amp; ~fill_invalid_pending &amp; ~fill_invalid_outstanding)</pre>
</div></div><h2 id="RTTStateEntry-StateTransitions"><span>State Transitions</span></h2><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th class="confluenceTh">Event</th><th colspan="1" class="confluenceTh">Current State</th><th colspan="1" class="confluenceTh">Inputs</th><th colspan="1" class="confluenceTh">Bits Set</th><th colspan="1" class="confluenceTh">Bits Cleared</th></tr><tr><td class="confluenceTd">Invalid -&gt; Read (waiting for write)</td><td class="confluenceTd">RTT Allocate with outstanding write</td><td colspan="1" class="confluenceTd">~valid</td><td colspan="1" class="confluenceTd">allocate_new_entry, allocate_write_outstanding</td><td colspan="1" class="confluenceTd">valid, write_outstanding</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Invalid -&gt; Read (AR pending)</td><td class="confluenceTd">RTT Allocate without bypass</td><td colspan="1" class="confluenceTd">~valid</td><td colspan="1" class="confluenceTd"><p>allocate_new_entry, ~allocate_bypassing</p></td><td colspan="1" class="confluenceTd"><p>valid, read_pending</p></td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Invalid -&gt; Hint (waiting for write)</td><td class="confluenceTd">RTT allocate hint with outstanding write</td><td colspan="1" class="confluenceTd">~valid</td><td colspan="1" class="confluenceTd"><p>allocate_new_entry, allocate_is_hint, allocate_write_outstanding</p></td><td colspan="1" class="confluenceTd">valid, speculative, write_outstanding</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Invalid -&gt; Hint (AR pending)</td><td class="confluenceTd">RTT allocate hint without bypass</td><td colspan="1" class="confluenceTd">~valid</td><td colspan="1" class="confluenceTd">allocate_new_entry, allocate_is_hint, ~allocate_bypassing</td><td colspan="1" class="confluenceTd">valid, speculative, read_outstanding</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Invalid -&gt; Stale Hint (invalidate fill outstanding)</td><td class="confluenceTd">RTT allocate with mrd_type and write_outstanding</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Invalid -&gt; Flush (dtr pending)</td><td class="confluenceTd">RTT allocate with mrd_type</td><td colspan="1" class="confluenceTd">~valid</td><td colspan="1" class="confluenceTd"><p>allocate_new_entry, allocate_is_mrd, ~allocate_write_outstanding</p></td><td colspan="1" class="confluenceTd">valid, mrd_type, dtr_pending</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Flush (waiting for write)</td><td colspan="1" class="confluenceTd">RTT allocate with outstanding_write</td><td colspan="1" class="confluenceTd">~valid</td><td colspan="1" class="confluenceTd">allocate_new_entry, allocate_is_mrd, allocate_write_outstanding</td><td colspan="1" class="confluenceTd">valid, mrd_type, write_outstanding</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Read (waiting for write) -&gt; Read (AR pending)</td><td class="confluenceTd">write completed</td><td colspan="1" class="confluenceTd">valid &amp; ~speculative</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">read_pending</td><td colspan="1" class="confluenceTd"><p>write_outstanding</p></td></tr><tr><td class="confluenceTd">Read (AR pending) -&gt; Read (AR Sent)</td><td class="confluenceTd">RTT muxarb select or bypass</td><td colspan="1" class="confluenceTd">valid &amp; ~speculative</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">read_outstanding</td><td colspan="1" class="confluenceTd">read_pending</td></tr><tr><td class="confluenceTd">Read (AR sent) -&gt; Read (dtr pending)</td><td class="confluenceTd">Read received without bypass</td><td colspan="1" class="confluenceTd">valid &amp; ~speculative</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">dtr_pending</td><td colspan="1" class="confluenceTd">read_outstanding</td></tr><tr><td class="confluenceTd">Read (dtr pending) -&gt; Read (dtr sent)</td><td class="confluenceTd">DTR muxarb select</td><td colspan="1" class="confluenceTd">valid &amp; ~speculative</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">dtr_pending</td></tr><tr><td colspan="1" class="confluenceTd">Read (dtr sent) -&gt; Invalid</td><td colspan="1" class="confluenceTd">mrd complete (completed reading the RTT)</td><td colspan="1" class="confluenceTd">valid &amp; ~speculative</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">valid</td></tr><tr><td class="confluenceTd">Hint (waiting for write) -&gt; Read (waiting for write)</td><td class="confluenceTd">Collision from MRD (overwrites critical word)</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">speculative</td></tr><tr><td class="confluenceTd">Hint (AR Pending) -&gt; Read (AR pending)</td><td class="confluenceTd">MRD collision with hint read pending (overwrites critical word)</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">speculative</td></tr><tr><td class="confluenceTd">Hint (AR Sent) -&gt; Read (AR Sent)</td><td class="confluenceTd">MRD collision with hint read outstanding and same critical word</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">speculative</td></tr><tr><td class="confluenceTd">Hint (AR pending) -&gt; Hint (AR sent)</td><td class="confluenceTd">RTT muxarb select or bypass</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">read_outstanding</td><td colspan="1" class="confluenceTd">read_pending</td></tr><tr><td class="confluenceTd">Hint (AR sent) -&gt; Upgraded Hint (AR Sent)</td><td class="confluenceTd">MRD collision with hint read outstanding and different critical word</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">stale</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Hint (AR sent) -&gt; Hint (Fill Pending)</td><td class="confluenceTd">Read accepted into RTT Data</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">dtr_pending</td><td colspan="1" class="confluenceTd">read_outstanding</td></tr><tr><td class="confluenceTd">Hint (AR sent) -&gt; Hint (Fill Outstanding)</td><td class="confluenceTd">Read received (no RTT Data)</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">fill_outstanding</td><td colspan="1" class="confluenceTd">read_outstanding</td></tr><tr><td colspan="1" class="confluenceTd">Hint (Fill pending) -&gt; Hint (Fill Outstanding)</td><td colspan="1" class="confluenceTd">DTR muxarb select (RTT Data)</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">fill_outstanding</td><td colspan="1" class="confluenceTd">dtr_pending</td></tr><tr><td class="confluenceTd">Hint (Fill Outstanding) -&gt; Stale Hint (Fill Outstanding)</td><td class="confluenceTd">Write collides with hint fill outstanding</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">stale, fill_invalid_pending</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Hint (Fill Outstanding) -&gt; Upgraded Hint (fill outstanding)</td><td class="confluenceTd">MRD collision with hint fill outstanding</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">stale</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">Hint (AR sent) -&gt; Stale Hint (AR Sent)</td><td class="confluenceTd">Write collides with hint read outstanding</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">stale</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td colspan="1" class="confluenceTd">Hint (Fill pending) -&gt; Invalid</td><td colspan="1" class="confluenceTd">Write collides with hint read Fill pending</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">valid, speculative, stale, dtr_pending</td></tr><tr><td class="confluenceTd">Upgraded Hint (fill outstanding) -&gt; Upgraded Hint (reverse command pending)</td><td class="confluenceTd">Fill done</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">cmd_pending</td><td colspan="1" class="confluenceTd">fill_outstanding</td></tr><tr><td class="confluenceTd">Stale Hint (AR Sent) -&gt; Invalid</td><td class="confluenceTd">Data is dropped</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">valid, speculative, stale, read_outstanding</td></tr><tr><td class="confluenceTd">Stale Hint (fill outstanding) -&gt; Stale Hint (Invalidate Fill Pending)</td><td class="confluenceTd">fill done</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">dtr_pending</td><td colspan="1" class="confluenceTd">fill_outstanding</td></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (invalidate fill pending) -&gt; Stale Hint (invalidate fill outstanding)</td><td colspan="1" class="confluenceTd">DTR muxarb select</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">fill_outstanding, fill_invalid_outstanding</td><td colspan="1" class="confluenceTd">dtr_pending, fill_invalid_pending</td></tr><tr><td class="confluenceTd">Stale Hint (invalidate fill outstanding) -&gt; Invalid</td><td class="confluenceTd">fill done</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd">valid, speculative, stale, fill_outstanding, fill_invalid_outstanding</td></tr><tr><td class="confluenceTd">Flush (waiting for write) -&gt; Flush (dtr pending)</td><td class="confluenceTd">write completed</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">dtr_pending</td><td colspan="1" class="confluenceTd">write_outstanding</td></tr><tr><td class="confluenceTd">Flush (dtr pending) -&gt; Flush (dtr sent)</td><td class="confluenceTd">DTR muxarb select</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd">dtr_oending</td></tr><tr><td class="confluenceTd">Flush (dtr sent) -&gt; Invalid</td><td class="confluenceTd">mrd flush completed (popped from DTR Fifo)</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd">valid, mrd_type</td></tr></tbody></table></div></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="RTTStateEntry-CornerCases">Corner Cases</h2><ol><li>If an incoming MRD transaction collides with a HNT transaction in the RTT it might not have the same critical word.<ol><li>If this is the case the RTT must keep state that the transaction must be sent to the CCP pipeline again when the entry has completed the fill. This is tracked in the RTT as (valid &amp; speculative &amp; ~stale &amp; ~fill_expected). Fill expected goes low when the fill is completed.</li></ol></li><li>An incoming MRD collides with a HNT transaction with fill_outstanding<ol><li><strong>if critical word is the same, convert to normal read</strong></li><li>if critical word is different need to resend cmd after fill completes</li></ol></li><li>An incoming DTW collides with a HNT transaction with fill_outstanding<ol><li>Need to send fill invalid (how to deal with fill data clobbering write data)</li></ol></li><li>An incoming MRD Flush collides with a HNT transaction with fill_oustanding<ol><li>Need to invalidate line after fill completes (CMD or fill?)</li></ol></li></ol><p> </p></div>
</div>
</div>
<div class="columnLayout two-equal" data-layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="RTTStateEntry-RTTEntryControlInputs">RTT Entry Control Inputs</h2><h3 id="RTTStateEntry-allocate_new_entry">allocate_new_entry</h3><h3 id="RTTStateEntry-coll_entry">coll_entry</h3><h3 id="RTTStateEntry-mrd_flush_complete">mrd_flush_complete</h3><h3 id="RTTStateEntry-mrd_complete">mrd_complete</h3><h3 id="RTTStateEntry-allocate_bypassing">allocate_bypassing</h3><h3 id="RTTStateEntry-write_finished">write_finished</h3><h3 id="RTTStateEntry-make_stale">make_stale</h3><h3 id="RTTStateEntry-fill_done">fill_done</h3><h3 id="RTTStateEntry-read_req_muxarb_accept">read_req_muxarb_accept</h3><h3 id="RTTStateEntry-dtr_control_muxarb_req_accept">dtr_control_muxarb_req_accept</h3><h3 id="RTTStateEntry-reverse_cmd_muxarb_req_accept">reverse_cmd_muxarb_req_accept</h3><h3 id="RTTStateEntry-read_finished">read_finished</h3><p> </p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="RTTStateEntry-DataBits">Data Bits</h2><h3 id="RTTStateEntry-address">address</h3><p>Address of the entry</p><h3 id="RTTStateEntry-offset">offset</h3><p>Offset of the entry, only used in systems with different data widths</p><h3 id="RTTStateEntry-security">security</h3><p>Security bit, treated as an extention of the address</p><h3 id="RTTStateEntry-pending_way">pending_way</h3><p>Incorrectly named, this in the binary encoded way for the entry. Only valid when fill_expected is high.</p><h3 id="RTTStateEntry-wtt_id">wtt_id</h3><p>Write table ID for a blocking outstanding write. Only valid when write_outstanding in high.</p><h3 id="RTTStateEntry-sfipriv_aiutransid">sfipriv_aiutransid</h3><p>sfipriv information to pass</p><h3 id="RTTStateEntry-sfipriv_aiuid">sfipriv_aiuid</h3><p><br/>sfipriv information to pass</p><h3 id="RTTStateEntry-sfipriv_aceprot">sfipriv_aceprot</h3><p><br/>sfipriv information to pass</p><h3 id="RTTStateEntry-sfipriv_aceqos">sfipriv_aceqos</h3><p><br/>sfipriv information to pass</p><h3 id="RTTStateEntry-urgency">urgency</h3><p><br/>sfipriv information to pass</p><p> </p></div>
</div>
</div>
<div class="columnLayout two-equal" data-layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="RTTStateEntry-ValidStates,Transitions,andNotesOLD">Valid States, Transitions, and Notes <strong>OLD</strong></h2><h3 id="RTTStateEntry-Invalid">Invalid</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Read (dtr sent) -&gt; Invalid</td><td colspan="1" class="confluenceTd">mrd complete (completed reading the RTT)</td></tr><tr><td colspan="1" class="confluenceTd">Flush (dtr sent) -&gt; Invalid</td><td colspan="1" class="confluenceTd">mrd flush completed (popped from DTR Fifo)</td></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (AR Sent) -&gt; Invalid</td><td colspan="1" class="confluenceTd">Data is dropped</td></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (invalidate fill outstanding) -&gt; Invalid</td><td colspan="1" class="confluenceTd">fill done</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Read(waitingforwrite)">Read (waiting for write)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Read (waiting for write)</td><td colspan="1" class="confluenceTd">RTT Allocate with outstanding write</td></tr><tr><td colspan="1" class="confluenceTd">Hint (waiting for write) -&gt; Read (waiting for write)</td><td colspan="1" class="confluenceTd">Collision from MRD (overwrites critical word)</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Read(ARpending)">Read (AR pending)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Read (AR pending)</td><td colspan="1" class="confluenceTd">RTT Allocate without bypass</td></tr><tr><td colspan="1" class="confluenceTd">Read (waiting for write) -&gt; Read (AR pending)</td><td colspan="1" class="confluenceTd">write completed</td></tr><tr><td colspan="1" class="confluenceTd">Hint (AR Pending) -&gt; Read (AR pending)</td><td colspan="1" class="confluenceTd">MRD collision with hint read pending (overwrites critical word)</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Read(ARSent)">Read (AR Sent)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Read (AR pending) -&gt; Read (AR Sent)</td><td colspan="1" class="confluenceTd">RTT muxarb select or bypass</td></tr><tr><td colspan="1" class="confluenceTd">Hint (AR Sent) -&gt; Read (AR Sent)</td><td colspan="1" class="confluenceTd">MRD collision with hint read outstanding and same critical word</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Read(Rrecieved)">Read (R recieved)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Read (AR sent) -&gt; Read (R recieved)</td><td colspan="1" class="confluenceTd">Read received without bypass</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Read(dtrsent)">Read (dtr sent)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Read (R received (dtr pending) -&gt; Read (dtr sent)</td><td colspan="1" class="confluenceTd">DTR muxarb select</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Hint(waitingforwrite)">Hint (waiting for write)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Hint (waiting for write)</td><td colspan="1" class="confluenceTd">RTT allocate hint with outstanding write</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Hint(ARpending)">Hint (AR pending)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Hint (AR pending)</td><td colspan="1" class="confluenceTd">RTT allocate hint without bypass</td></tr><tr><td colspan="1" class="confluenceTd">Hint (waiting for write) -&gt; Hint (AR pending)</td><td colspan="1" class="confluenceTd">write completed</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Hint(ARsent)">Hint (AR sent)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Hint (AR pending) -&gt; Hint (AR sent)</td><td colspan="1" class="confluenceTd">RTT muxarb select or bypass</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-Hint(RReceived/FillPending)">Hint (R Received/Fill Pending)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Hint (AR sent) -&gt; Hint (R Received/Fill Pending)</td><td colspan="1" class="confluenceTd">Read accepted into RTT Data</td></tr></tbody></table></div><p>Notes:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd">This state is skipped if RTT Data is disabled.</td></tr></tbody></table></div><h3 id="RTTStateEntry-Hint(FillOutstanding)">Hint (Fill Outstanding)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Hint (R reveived/fill pending) -&gt; Hint (Fill Outstanding)</td><td colspan="1" class="confluenceTd">DTR muxarb select (RTT Data)/Read received(no RTT Data)</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-UpgradedHint(ARSent)">Upgraded Hint (AR Sent)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Hint (AR sent) -&gt; Upgraded Hint (AR Sent)</td><td colspan="1" class="confluenceTd">MRD collision with hint read outstanding and different critical word</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-UpgradedHint(filloutstanding)">Upgraded Hint (fill outstanding)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Hint (Fill Outstanding) -&gt; Upgraded Hint (fill outstanding)</td><td colspan="1" class="confluenceTd">MRD collision with hint fill outstanding</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-UpgradedHint(reversecommandpending)">Upgraded Hint (reverse command pending)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Upgraded Hint (fill outstanding) -&gt; Upgraded Hint (reverse command pending)</td><td colspan="1" class="confluenceTd">Fill done</td></tr></tbody></table></div><p>Notes:</p><h3 id="RTTStateEntry-UpgradedHint(reversecommandoutstanding)">Upgraded Hint (reverse command outstanding)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Upgraded Hint (reverse command pending) -&gt; Upgraded Hint (reverse command outstanding)</td><td colspan="1" class="confluenceTd">Upgraded Hint (reverse command pending)</td></tr></tbody></table></div><p>Notes:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd">Updates when read collides. Need to remove pending way valid so the next entry can hit in the cache. Is it okay to de-allocate instead.</td></tr></tbody></table></div><h3 id="RTTStateEntry-StaleHint(ARSent)">Stale Hint (AR Sent)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Hint AR Sent or Hint R Reveived -&gt; Stale Hint (AR Sent)</td><td colspan="1" class="confluenceTd">Write collides with hint read outstanding</td></tr><tr><td colspan="1" class="confluenceTd">Fill Waiting or Hint Fill Outstanding -&gt; Stale Hint (AR Sent)</td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><p>Notes:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd">Drop Outstanding Data and deallocate</td></tr></tbody></table></div><h3 id="RTTStateEntry-StaleHint(FillOutstanding)">Stale Hint (Fill Outstanding)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Hint (Fill Outstanding) -&gt; Stale Hint (Fill Outstanding)</td><td colspan="1" class="confluenceTd">Write collides with hint fill outstanding</td></tr></tbody></table></div><p>Notes:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd">Waiting for fill to complete</td></tr></tbody></table></div><h3 id="RTTStateEntry-StaleHint(InvalidateFillPending)">Stale Hint (Invalidate Fill Pending)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (fill outstanding) -&gt; Stale Hint (Invalidate Fill Pending)</td><td colspan="1" class="confluenceTd">fill done</td></tr></tbody></table></div><p>Notes:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd">Contending to write invalid to fill interface</td></tr></tbody></table></div><h3 id="RTTStateEntry-StaleHint(invalidatefilloutstanding)">Stale Hint (invalidate fill outstanding)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (invalidate fill pending) -&gt; Stale Hint (invalidate fill outstanding)</td><td colspan="1" class="confluenceTd">DTR muxarb select</td></tr></tbody></table></div><p>Notes:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd">writing invalid to fill interface, needs to keep pending way busy</td></tr></tbody></table></div><h3 id="RTTStateEntry-Flush(waitingforwrite)">Flush (waiting for write)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Stale Hint (invalidate fill outstanding)</td><td colspan="1" class="confluenceTd">RTT allocate with mrd_type and write_outstanding</td></tr></tbody></table></div><p>Notes:</p><p> </p><h3 id="RTTStateEntry-Flush(dtrpending)">Flush (dtr pending)</h3><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Flush (dtr pending)</td><td colspan="1" class="confluenceTd">RTT allocate with mrd_type</td></tr><tr><td colspan="1" class="confluenceTd">Flush (waiting for write) -&gt; Flush (dtr pending)</td><td colspan="1" class="confluenceTd">write completed</td></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (invalidate fill outstanding) (Mrd Flush) -&gt; Flush (dtr pending)</td><td colspan="1" class="confluenceTd">DTR muxarb select</td></tr></tbody></table></div><p>Notes:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd">writing invalid to fill interface, needs to keep pending way busy</td></tr></tbody></table></div><p> </p><h3 id="RTTStateEntry-Flush(dtrsent)">Flush (dtr sent)</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Valid Transition From</th><th class="confluenceTh">Transition Event</th></tr><tr><td colspan="1" class="confluenceTd">Flush (dtr pending) -&gt; Flush (dtr sent)</td><td colspan="1" class="confluenceTd">DTR muxarb select</td></tr></tbody></table></div><p>Notes:</p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="RTTStateEntry-StateBits(needstobederived)">State Bits <strong>(needs to be derived)</strong></h2><h3 id="RTTStateEntry-valid">valid</h3><p>Designates if the entry is valid.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; *</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">allocate_entry</td></tr><tr><td colspan="1" class="confluenceTd">Read (dtr sent) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">mrd_complete</td></tr><tr><td colspan="1" class="confluenceTd">Flush (dtr sent) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">mrd_flush_complete</td></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (AR Sent) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; stale &amp; read_finished (data_dropped)</td></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (invalidate fill outstanding) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; stale &amp; fill_invalid_outstanding &amp; fill_done</td></tr><tr><td colspan="1" class="confluenceTd">Hint (AR Pending) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; read_pending &amp; make stale</td></tr><tr><td colspan="1" class="confluenceTd">Hint (waiting for write) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; write_outstanding &amp; make stale</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-default">Hint (Fill Outstanding) -&gt; Invalid</span></td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">fill_done</td></tr><tr><td colspan="1" class="confluenceTd">Upgraded Hint (reverse command pending) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">cmd_pending_muxarb_accept</td></tr></tbody></table></div><p> </p><h3 id="RTTStateEntry-mrd_type">mrd_type</h3><p>mrd_type of 1 means that the entry is a flush. This is used for...</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Flush (waiting for write) | Flush (dtr pending)</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd"><p>allocate_entry &amp; msg_type is Flush</p></td></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; ~Flush</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">allocate_entry &amp; ~msg_type is Flush</td></tr></tbody></table></div><h3 id="RTTStateEntry-read_pending"><br/>read_pending</h3><p>Read is pending in the transaction table. All entries with read_pending high are contending for the path to AXI AR.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Read (AR Pending)</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">allocate_entry &amp; ~allocate_bypsasing &amp; ~allocate_wr_outstanding &amp; msg_type is not Flush</td></tr><tr><td colspan="1" class="confluenceTd">Read (waiting for write)</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">write_finished &amp; write_outstanding &amp; ~mrd_type</td></tr></tbody></table></div><h3 id="RTTStateEntry-read_outstanding">read_outstanding</h3><p>Read is outstanding from the DMI. Means that transaction in between AXI AR and R (or the paths immediately before or after them).</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><h3 id="RTTStateEntry-write_outstanding">write_outstanding</h3><p>An entry to the same cache aligned address/security bit is outstanding in the WTT. This entry must wait for the WTT entry to deallocate before continuing (goes to read_pending next).</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><h3 id="RTTStateEntry-speculative">speculative</h3><p>Means that the entry is a hint. This is also used as a valid to the pending_way. This is high for all hints (until fill completes and entry deallocated or upgraded by MRD).</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd">Invalid -&gt; Hint</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">allocate_entry &amp; msg_type == Flush</td></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (invalidate fill outstanding) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; stale &amp; fill_invalid_outstanding &amp; fill_done</td></tr><tr><td colspan="1" class="confluenceTd">Hint (Fill Outstanding) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; fill_done</td></tr><tr><td colspan="1" class="confluenceTd">Upgraded Hint (reverse command pending) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; stale &amp; cmd_pending &amp; reverse_cmd_muxarb_accept</td></tr><tr><td colspan="1" class="confluenceTd">Hint (waiting for write) -&gt; Read (waiting for write)</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; write_outstanding &amp; coll_entry &amp; ~write_finished</td></tr><tr><td colspan="1" class="confluenceTd">Hint (AR Pending) -&gt; Read (AR Pending)</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; read_pending &amp; coll_entry &amp; ~read_req_muxarb_accept</td></tr><tr><td colspan="1" class="confluenceTd">Hint (AR Sent) -&gt; Read (AR Sent)</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; read_outstanding &amp; coll_entry &amp; full_address == allocate_beat_aligned_address</td></tr></tbody></table></div><p> </p><p><span>stale</span></p><p>The transaction used to be a hint, but at some point a write transaction came and marked the read data as invalid. Data returned to a stale entry gets dropped. If data is in the process of filling the cacheline when a write comes in...</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd">Hint (AR Sent) -&gt; Upgraded Hint (AR Sent)</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; read_outstanding &amp; coll_entry &amp; full_address not equal to allocate_beat_aligned_address</td></tr><tr><td colspan="1" class="confluenceTd">Hint (Fill Outstanding) -&gt; Upgraded Hint (Fill Outstanding)</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; fill_outstanding &amp; coll_entry</td></tr><tr><td colspan="1" class="confluenceTd">Hint (AR Sent) -&gt; Stale Hint (AR Sent)</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; read_outstanding &amp; make_stale</td></tr><tr><td colspan="1" class="confluenceTd">Hint (Fill Outstanding) -&gt; Stale hint (Fill Outstanding)</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">speculative &amp; ~stale &amp; fill_outstanding &amp; make_stale</td></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">allocate_new_entry</td></tr></tbody></table></div><h3 id="RTTStateEntry-dtr_pending">dtr_pending</h3><p>Transaction is contending for the dtr muxarb. This includes hints that have returned from AXI R and are contending to fill.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><h3 id="RTTStateEntry-fill_outstanding">fill_outstanding</h3><p>Between fill and fill done</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><h3 id="RTTStateEntry-cmd_pending">cmd_pending</h3><p>Transaction is contending for the reverse command muxarb to send a command to the CCP pipeline. This is high when a fill completes to an entry with speculative bit not set, but the fill_outstanding bit set. This means that the entry had been upgraded while the fill was in progress.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><h3 id="RTTStateEntry-fill_invalid_pending">fill_invalid_pending</h3><p>Signals that a fill invalid is pending.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd">Hint (Fill Outstanding) -&gt; <span class="legacy-color-text-default">Stale Hint (fill outstanding)</span></td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">make_stale</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-default">Stale Hint (invalidate fill pending) -&gt; </span>Stale Hint (invalidate fill outstanding)</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">dtr_control_muxarb_select</td></tr></tbody></table></div><h3 id="RTTStateEntry-fill_invalid_outstanding">fill_invalid_outstanding</h3><p>Signals that a fill invalid is outstanding.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Transition</th><th colspan="1" class="confluenceTh">Action</th><th class="confluenceTh">Inputs</th></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-default">Stale Hint (invalidate fill pending) -&gt; </span>Stale Hint (invalidate fill outstanding)</td><td colspan="1" class="confluenceTd">set</td><td colspan="1" class="confluenceTd">dtr_control_muxarb_select</td></tr><tr><td colspan="1" class="confluenceTd">Stale Hint (invalidate fill outstanding) -&gt; Invalid</td><td colspan="1" class="confluenceTd">clear</td><td colspan="1" class="confluenceTd">fill_done</td></tr></tbody></table></div></div>
</div>
</div>
</div>