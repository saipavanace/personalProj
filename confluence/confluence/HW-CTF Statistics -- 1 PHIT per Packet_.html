<p><style>[data-colorid=xi4mje4hop]{color:#808080} html[data-color-mode=dark] [data-colorid=xi4mje4hop]{color:#7f7f7f}[data-colorid=hh7kntlyan]{color:#808080} html[data-color-mode=dark] [data-colorid=hh7kntlyan]{color:#7f7f7f}[data-colorid=kh8axywpgt]{color:#808080} html[data-color-mode=dark] [data-colorid=kh8axywpgt]{color:#7f7f7f}[data-colorid=i8wbtjoivl]{color:#808080} html[data-color-mode=dark] [data-colorid=i8wbtjoivl]{color:#7f7f7f}</style>We collected statistics from from all three components initiator, switch and target as follows,</p><h2 style="margin-left: 30.0px;" id="HW-CTFStatistics--1PHITperPacket:-ParametersUsed:">Parameters Used:</h2><ul><li style="list-style-type: none;background-image: none;"><ul><li>Ran 9 simulation with follow different traffic rate in terms of link capacity,</li><li>15%, 25%, 35%, 45%, 55%, 65%, 75%, 85% &amp; 95%.</li><li>Each simulation run was with 10K packets from each initiator,</li><li>160K packets for each above rate.</li><li>1440K packets total.</li><li>Each packet was a single PHIT packet.</li><li>In this analysis we use dynamic queues to see maximum queue depth it reach for each configuration.</li></ul></li></ul><h2 style="margin-left: 30.0px;" id="HW-CTFStatistics--1PHITperPacket:-InitiatorStatistics:">Initiator Statistics:</h2><ul><li style="list-style-type: none;background-image: none;"><ul><li>Max queue size and round trip latency is as follows,</li></ul></li></ul><p style="margin-left: 60.0px;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/max_q_size.jpg?api=v2" /></span></p><ul><li style="margin-left: 30.0px;">Queue build-up (including max queue size) from initiator 0 with rate of 69% of link capacity,<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/benes_69.jpg?api=v2" /></span></li></ul><ul><li style="list-style-type: none;background-image: none;"><ul><li>Queue build-up (including max queue size) from initiator 0 with rate of 70% of link capacity,<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/benes_70.jpg?api=v2" /></span></li><li>Queue build-up (including max queue size) from initiator 0 with rate of 71% of link capacity,<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/benes_71.jpg?api=v2" /></span></li></ul></li></ul><h2 id="HW-CTFStatistics--1PHITperPacket:-TargetStatistics:">Target Statistics:</h2><ul><li>Workload</li><ul><li>FLIT Count Per Initiator - 1Million</li><li>Traffic Rates - 15%, 25%, 35%, 45%, 55%, 65%, <strong>70%</strong>, 75%, 85%, 95%</li></ul><li>Summary<ul><li>Min, Max and Avg Latency Plotted on Y1 axis</li><li>Throughput = Packet count between warmup and cooldown / Time between warmup and cooldown</li><li>CPF = 1 / Throughput&nbsp; *<span data-colorid="kh8axywpgt"><em>This number reports the average number of clocks between packets at the endpoints</em></span></li></ul></li></ul><p><br /></p><p style="margin-left: 60.0px;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/image2017-3-6%2018:21:35.png?api=v2" /></span></p><p style="margin-left: 60.0px;"><br /></p><ul><li>Latency<br /><ul><li>Min, Max and Avg Latencies<br /><br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/image2017-3-6%2018:28:42.png?api=v2" /></span>&nbsp;<br /><br /></li></ul></li></ul><ul><li>Throughput<ul><li>Throughput = Packet count between warmup and cooldown / Time between warmup and cooldown</li><li>Throughput saturates at ~71%<br /><br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" width="645" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/image2017-3-6%2018:29:28.png?api=v2" /></span><br /><br /><br /></li></ul></li></ul><h2 id="HW-CTFStatistics--1PHITperPacket:-SwitchStatistics:">Switch Statistics:</h2><ul><li>Metrics <br />The APM captures statistics on each switch in the design on every 'external clock' and buckets these statistics into a histogram based on the number or input and output ports on the switch.<br />For a 4x4 switch, the explanation is below.<ul><li>Pending Reqs<ul><li>This metric represents the number of requests pending per output port in each clock.</li><li>Since this is a 4x4 switch and every input port can only have a request pending on one output port at a time, pending reqs captured on all output ports of the switch, every cycle, will be in the range {0..4}</li><li>Over the entire run, the value of 'Pending Reqs' captured in each cycle is binned into a histogram based on the range of values, as specified above</li><li>The distribution on pending req&nbsp;is a measure&nbsp;of the probability of an input port of a switch presenting a valid request and being blocked by the output port, due to loss of arbitration or due to a existing link connection.</li><li><span data-colorid="xi4mje4hop"><em><strong>Current Topology Specific</strong> - Pending reqs over S1* switches are 0 because of the way the topology is defined. Each of these switches have a 1:1 connection between an input and a unique output port.</em></span></li></ul></li><li>Grants<ul><li>Grants represents the number of HEAD packet arbitration wins in each cycle</li><li>Once a HEAD&nbsp;PHIT has established a link, the body&nbsp;PHITS have a dedicated path from the corresponding input to output port. These body PHIT&nbsp;wins<strong> do not</strong> count as 'Grants'.</li><li>For a 4x4 switch, this value can range over {0..4}</li><li>The distribution of Grants is a measure of the probability&nbsp;of&nbsp;HEAD PHITS contending at output ports of a switch.</li></ul></li><li>Connections<ul><li>Connections&nbsp;must&nbsp;be&nbsp;interpreted as an output port being locked once a dedicated end to end link is established.</li><li>The distribution of Connections is a measure of the probability of an output port of a switch being locked.</li><li>The range is same as Grants and Pending Reqs.</li><li><span data-colorid="hh7kntlyan"><em><strong>Current Topology Specific</strong> - S3* switches have 0 connections because, a PHIT transported from S3* switches lands at the endpoint instantaneously. Also, all FLITS currently have only 1 PHIT. Thus these output ports are never locked.</em></span></li></ul></li><li>Conflicts<ul><li>Conflicts is a measure of contention on output ports.</li><li>The distribution shown below should be interpreted as the probability of seeing multiple output ports of a switch&nbsp;having more than 1 pending request simultaneously on&nbsp;each external clock.&nbsp;</li><li><span data-colorid="i8wbtjoivl"><em><strong>Current Topology Specific</strong> - S1* switches have 0 conflicts because of the topology. There is no contention for output ports. Each input port has a dedicated output port.</em></span></li></ul></li></ul></li><li>15% Traffic</li></ul><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="1500" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/image2017-3-7%200:49:58.png?api=v2" /></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="500" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/image2017-3-7%200:48:31.png?api=v2" /></span>&nbsp;</p><p><br /></p><ul><li>95% Traffic Rate</li></ul><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="1600" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/image2017-3-7%201:1:44.png?api=v2" /></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="500" src="https://arterisip.atlassian.net/wiki/download/attachments/16155093/image2017-3-7%200:59:21.png?api=v2" /></span></p><p><br /></p>