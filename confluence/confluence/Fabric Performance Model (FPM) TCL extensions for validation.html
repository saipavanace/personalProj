<h1 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-Changelist:">Changelist:</h1><p>version 0.5.0 : </p><ul><li>Internal generation of mesh. Mesh's are now directly supported by FPMTcl.<ul><li>This eliminates many lines of TCL.</li><li>An example is shown in a section below</li></ul></li><li>Additional commands:<ul><li>check_graph - look for malformed graph structures</li><li>fpm_version - version tracking will now be part of FPMTcl script execution, scripts can now be keyed to require versions &gt;= a fixed number</li><li>is_compatible - related to the above, used to create conditional exit from scripts</li><li>create_mesh - native support for meshs of size MxN.</li></ul></li><li>ID's for edges and vertices are now managed internally</li><li>User defined properties now have a convention for use with automated mesh generation<ul><li>graph/vertex/edge type properties are now reserved for graphviz only.</li></ul></li><li>An automated mesh generation example is added to the repo. See &lt;angeloroot&gt;contrib/libfpm/scripts/automesh.tcl</li></ul><h1 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-Buildingfromsource">Building from source</h1><p>Building from source is the recommended method for access to FPMTcl moving forward. Accessing the repo ensures you have the latest version. </p><h2 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-Checkouttheangelosourcefromgitlab(notethisisnotthesameasthepreviousangelorepo).">Check out the angelo source from gitlab (note this is  not the same as the previous angelo repo).</h2><pre>unix &gt; mkdir &lt;targeet&gt;</pre><pre>unix &gt; git clone <a class="external-link" href="mailto:git@gitlab.arteris.com" rel="nofollow">git@gitlab.arteris.com</a>:maestro-dev/packages/angelo.git &lt;target&gt;</pre><pre>unix &gt; module load /home/jeffn/bin/modules/gcc/6.4.0</pre><pre>unix &gt; cd &lt;target&gt;/contrib/libfpm</pre><pre>unix &gt; make -j</pre><p>The executable will be ./bin/run (this name will change, this page will be updated when the change occurs.</p><h1 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-Instructionsforuse">Instructions for use</h1><h2 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-LoadtheGCCmodule">Load the GCC module</h2><pre>unix &gt; module load /home/jeffn/bin/modules/gcc/6.4.0</pre><h2 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-AssumingthattheFPMsourceislocatedunder&lt;target&gt;.TheFPMtclextensiontoolisrunlikethis:">Assuming that the FPM source is located under &lt;target&gt;. The FPM tcl extension tool is run like this: </h2><pre>unix &gt; cd &lt;target&gt;/contrib/libfpm</pre><pre>unix &gt; ./bin/run</pre><p>You should see the fpm prompt</p><pre>fpm &gt;</pre><h2 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-Documentation">Documentation</h2><p>Current documentation is accessed from within the tool, in the form of short help and unix style man pages.</p><p>To see a short list of commands:</p><pre>fpm &gt; help</pre><p>To see detailed instructions in 'man page' form :</p><pre>fpm &gt; man add_vertex</pre><pre>=======================================================================<br/>NAME<br/> add_vertex</pre><pre>SYNOPSIS<br/> Add a node/vertex to the graph.</pre><pre>SYNTAX<br/> add_vertex -name &lt;str&gt; -type &lt;str&gt;</pre><pre>ARGUMENTS<br/> name<br/>     Name of the vertex<br/> type<br/>     Type is a application defined name string<br/> id<br/>     Optional unique identifier for the vertex.</pre><pre>DESCRIPTION<br/> Create a vertex in the graph. The vertex is assigned an internal id.<br/> The type string is used for property assignments. <br/><br/>EXAMPLES<br/> set name &quot;myvertex&quot;</pre><pre> set type &quot;mytype&quot;<br/> add_vertex -name $name -type $type</pre><pre>SEE ALSO<br/> add_edge</pre><h1 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-Runningtheexamples">Running the examples</h1><p>The automated mesh generation script is located &lt;target&gt;/contrib/libfpm/scripts/automesh.tcl</p><h2 id="FabricPerformanceModel(FPM)TCLextensionsforvalidation-Toruntheexample:">To run the example:</h2><pre>unix&gt; cd &lt;target&gt;contrib/libfpm</pre><pre>unix &gt; ./bin/run</pre><pre>fpm &gt; source scripts/automesh.tcl</pre><p>The output will be a *.png file which can be viewed in an image viewer or a browser. The file is called boost.png, found in the current directory.</p><p>Mesh parameters can be changed by modifying the script, for example changing 10 to something else:</p><p>set meshx 10 ;# mesh switch dimensions<br/>set meshy 10</p><p> </p><p> </p><pre> </pre><p> </p><p> </p>