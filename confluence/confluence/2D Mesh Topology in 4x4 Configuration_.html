<h2 id="id-2DMeshTopologyin4x4Configuration:-Implementation">Implementation</h2><p>Below is the block diagram of the mesh for both the request and response fabrics:</p><p><span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16160746/veriph_mesh.svg?api=v2"></span></span></p><p>This mesh has been implemented for the request side at the ATP level and it's top level json is sitting at:</p><p style="margin-left: 30.0px;">hw-sym/rtl/lib/bringup/req_mesh.json</p><p style="margin-left: 30.0px;">Â </p><p>SWNN are switches.</p><p style="margin-left: 30.0px;">The numbers on the switches indicate which ingress or egress port an interface is tied to.</p><p>PxNN and PyNN are pipeline stages that contain two sym_pipe_adapters.</p><p style="margin-left: 30.0px;">lt (left or top) and rb (right or bottom) indicate which ports the interfaces are connected to.</p><p>IswNN_Ni and IswNN_No are ATP interfaces.</p><p style="margin-left: 30.0px;">The pattern is SW00 port 1 in port is tied to Isw00_1i and its port 1 out port is tied to Isw00_1o.</p><p style="margin-left: 30.0px;">All interfaces following the pattern IswNN_0i are slave interfaces for a generic wrapper.</p><p style="margin-left: 30.0px;">All interfaces following the pattern IswNN_0o are master interfaces for a generic wrapper.</p><p style="margin-left: 30.0px;">All other interfaces are write interfaces for a generic wrapper.</p><h2 id="id-2DMeshTopologyin4x4Configuration:-BlockIDs">Block IDs</h2><p>Routing in the network will be done by ID. This reduces the complexity of creating the blocks that make up the network. There will be 16 unique switches, but only one ATU-T and one ATU-I. If routing was by a route field, there would be 3 unique switches and 16 unique ATU-Is and 16 unique ATU-Ts. In addition, the route filed would be 21 bits wide (3 bits route per switch x 7 maximum hops).</p><p>All IDs are five bits. All initiator IDs leading bit is 0. All target IDs leading bit is 1. SW00 in both networks will be tied to Initiator 5'b00000 and Target 5'b10000, SW01 will be tied to Initiator 5'b00001 and Target 5'b10001 and so on.</p><p>Since an Initiator never requests another initiator and a target never responds to another target, the bottom four bits can be used for routing with the top bit ignored.</p>