<h1 id="Solutionrandomizerdescription-Motivation">Motivation</h1><h1 id="Solutionrandomizerdescription-Usage">Usage</h1><p>The parameter randomization process is done in three steps:</p><ol><li>Randomize premap parameters</li><li>Map design</li><li>Randomize postmap parameters</li></ol><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-GeneralUsage.png?api=v2"></span></p><p>The motivation for this is the fact that some premap parameters may impact mapping process so randomizing premap and postmap parameters at one time can lead to inconsistent results.</p><p>The randomization itself is split on two parts:</p><ol><li>Generate several random solutions</li><li>Apply one of solutions to the design.</li></ol><p>Both these steps would be covered later.</p><h1 id="Solutionrandomizerdescription-Sourcecodeorganization">Source code organization</h1><p>The randomizer code consists of two parts</p><ol><li>The randomizer library itself (libconstraints)</li><li>Randomizer Tcl commands implementation.</li></ol><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-Randomizer%20parts.png?api=v2"></span></p><p>This is done to keep Tcl related randomizer code to the rest Tcl handling code.</p><h1 id="Solutionrandomizerdescription-libconstraintscontent">libconstraints content</h1><p>libconstraints directory contains the source code of the randomizer component.</p><p>It consist of two major parts responsible for different tasks.</p><ol><li>Parameters storage</li><li>Parameter values generation.</li></ol><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-libconstraints%20parts.png?api=v2"></span></p><p>Here is a simplified data flow between these two sub-components.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="121" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-libconstraints-parts-dataflow.png?api=v2"></span></p><p>The parameter storage provides parameter descriptions required for randomization.<br/>The parameter values generation provides randomized values which could be applied to the parameters stored in parameters storage.</p><h1 id="Solutionrandomizerdescription-Parameterstoragearchitecture">Parameter storage architecture</h1><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-Parameter%20storage%20classes.png?api=v2"></span></p><h1 id="Solutionrandomizerdescription-Valuesgenerationarchitecture">Values generation architecture</h1><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-Values%20generation%20architecture.png?api=v2"></span></p><h1 id="Solutionrandomizerdescription-SolverInterfaceusage">SolverInterface usage</h1><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-SolverInterface%20usage.png?api=v2"></span></p><h1 id="Solutionrandomizerdescription-Preparerandomsolutionsprocess">Prepare random solutions process</h1><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-prepare%20random%20solution.png?api=v2"></span></p><h1 id="Solutionrandomizerdescription-Solutionapplicationprocess">Solution application process</h1><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16170879/RandomizerDiagrams-solution%20application.png?api=v2"></span></p><h1 id="Solutionrandomizerdescription-Constraints">Constraints</h1><h2 id="Solutionrandomizerdescription-Textdefinedconstraints">Text defined constraints</h2><p>Explained in comment to the ticket 

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="MAES-685" >
                <a href="https://arterisip.atlassian.net/browse/MAES-685?src=confmacro" class="jira-issue-key">MAES-685</a>
                            </span>
 and merge request description <a class="external-link" href="http://gitlab.arteris.com/maestro/maestro/-/merge_requests/71" rel="nofollow">http://gitlab.arteris.com/maestro/maestro/-/merge_requests/71</a></p><h2 id="Solutionrandomizerdescription-Parameterrelatedconstraints">Parameter related constraints</h2>