<h2 id="id-2017-07-14Meetingnotes-Interruptgenerationanderrorlogging-Date">Date</h2><p><time datetime="2017-07-14" class="date-past">14 Jul 2017</time></p><h2 id="id-2017-07-14Meetingnotes-Interruptgenerationanderrorlogging-Attendees">Attendees</h2><ul><li><p><a class="confluence-userlink user-mention" data-account-id="6245011345ece00069c9b891" href="https://arterisip.atlassian.net/wiki/people/6245011345ece00069c9b891?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">monica tang (Deactivated)</a></p></li><li><p><a class="confluence-userlink user-mention" data-account-id="624b37fc258562006fa692fa" href="https://arterisip.atlassian.net/wiki/people/624b37fc258562006fa692fa?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">John Coddington (Deactivated)</a></p></li><li><a class="confluence-userlink user-mention" data-account-id="624501ef8678e900705a9b17" href="https://arterisip.atlassian.net/wiki/people/624501ef8678e900705a9b17?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">benoit de lescure (Unlicensed)</a></li></ul><h2 id="id-2017-07-14Meetingnotes-Interruptgenerationanderrorlogging-Goals">Goals</h2><ul><li>Finalize where interrupts should be generated and logged</li></ul><h2 id="id-2017-07-14Meetingnotes-Interruptgenerationanderrorlogging-Discussionitems">Discussion items</h2><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Time</th><th class="confluenceTh">Item</th><th class="confluenceTh">Who</th><th class="confluenceTh">Notes</th></tr><tr><td class="confluenceTd">30min</td><td class="confluenceTd">Interrupt generation</td><td class="confluenceTd">All</td><td class="confluenceTd"><ul><li>For ECC errors, interrupts should be generated at the source of the error<br/><ul><li>When the error is too severe (e.g. double bit error in the header), then the packet should be killed inside of the network, as the routing information is no longer reliable. This will eventually trigger a timeout at the initiator ATU, and the init ATU shall then complete the transaction in error, gracefully</li></ul></li><li>For all other errors, interrupts are generated at the initiator ATU</li></ul></td></tr><tr><td class="confluenceTd">30min</td><td class="confluenceTd">Error logging</td><td class="confluenceTd">All</td><td class="confluenceTd"><ul><li>Error logging is done at the place where interrupt is generated</li><li>For non-ECC errors, some examples of the info that will be needed are: (user will be able to configure what they want to log)<ul><li>Source ID</li><li>Addr / Dest ID</li><li>Transaction attributes (e.g. RD/WR, exclusive, etc.)</li><li>User bits</li><li>Type of error. Examples of different error types are:<ul><li>address decode error</li><li>Slave IP error</li><li>Power disconnect error</li><li>Security error (firewall)</li><li>Protocol translation error - impossible to translate - e.g. Byte enable on AXI that has a byte lane = 0, going to an APB that does not support Byte enables</li><li>Timeout error</li></ul></li></ul></li><li>For ECC errors, all of the above info, plus the following are needed:<ul><li>Syndrome (syndrome width == width of ECC bits)<ul><li>This tells the user the bit that is in error, and whether it's a single bit or double bit error</li><li>Location of error - where the error occurred, e.g. link ID. This can give information if a different path would be chosen based on this info</li></ul></li></ul></li></ul></td></tr><tr><td colspan="1" class="confluenceTd">10min</td><td colspan="1" class="confluenceTd">Other topics</td><td colspan="1" class="confluenceTd">All</td><td colspan="1" class="confluenceTd"><ul><li>Counting of single bit errors in ECC can be done using Perfmon</li><li>John has done work to evaluate cloning the whole network vs packets to route on different paths upon errors in the network - results show that cloning the whole thing is more area efficient!</li><li>How about protocol violations? Should we detect and report those errors?<ul><li>Although generally not a good idea to spend gates to catch protocol errors (as typically it's customers' responsibility to verify their own IPs), we are seeing more and more FlexNoC customers requesting us to do that<ul><li>No VIPs will generate protocol errors</li></ul></li><li>We should visit this idea in Symphony and perhaps support catching a well-defined set of protocol violations</li></ul></li></ul></td></tr></tbody></table></div><h2 id="id-2017-07-14Meetingnotes-Interruptgenerationanderrorlogging-Actionitems">Action items</h2><ul class="inline-task-list" data-inline-tasks-content-id="16169025"><li data-inline-task-id="1"><a class="confluence-userlink user-mention" data-account-id="624b37fc258562006fa692fa" href="https://arterisip.atlassian.net/wiki/people/624b37fc258562006fa692fa?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">John Coddington (Deactivated)</a> to update architecture spec based on above discussions</li></ul>