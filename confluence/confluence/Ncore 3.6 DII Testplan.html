<style type="text/css">/*<![CDATA[*/
div.rbtoc1759725024485 {padding: 0px;}
div.rbtoc1759725024485 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759725024485 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class="toc-macro rbtoc1759725024485"><style>[data-colorid=tmmx061hfe]{color:#bf2600} html[data-color-mode=dark] [data-colorid=tmmx061hfe]{color:#ff6640}[data-colorid=kh3hrn5sg3]{color:#bf2600} html[data-color-mode=dark] [data-colorid=kh3hrn5sg3]{color:#ff6640}[data-colorid=c329mr9wk1]{color:#14892c} html[data-color-mode=dark] [data-colorid=c329mr9wk1]{color:#76eb8e}[data-colorid=vpvq5x8445]{color:#bf2600} html[data-color-mode=dark] [data-colorid=vpvq5x8445]{color:#ff6640}[data-colorid=vqiip54crd]{color:#006644} html[data-color-mode=dark] [data-colorid=vqiip54crd]{color:#99ffdd}</style>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-History">History</a></li>
<li><a href="#Ncore3.6DIITestplan-ReviewHistory">Review History</a></li>
<li><a href="#Ncore3.6DIITestplan-Introduction">Introduction</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-Assumptions">Assumptions</a></li>
</ul>
</li>
<li><a href="#Ncore3.6DIITestplan-TestbenchDescription">Testbench Description</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-Diagrams">Diagrams</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-DIIlocationwithinNcore">DII location within Ncore</a></li>
<li><a href="#Ncore3.6DIITestplan-DIIUnitDVProcess">DII Unit DV Process</a></li>
<li><a href="#Ncore3.6DIITestplan-SimplifiedTBdiagram">Simplified TB diagram</a></li>
</ul>
</li>
<li><a href="#Ncore3.6DIITestplan-ListanddescriptionofTBcomponents">List and description of TB components</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-Transaction">Transaction</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-Transactionqueue">Transaction queue</a></li>
</ul>
</li>
<li><a href="#Ncore3.6DIITestplan-Checker">Checker</a></li>
<li><a href="#Ncore3.6DIITestplan-Coverage">Coverage</a></li>
<li><a href="#Ncore3.6DIITestplan-BFMs">BFMs</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-concerto">concerto</a></li>
<li><a href="#Ncore3.6DIITestplan-axi">axi</a></li>
<li><a href="#Ncore3.6DIITestplan-apb">apb</a></li>
<li><a href="#Ncore3.6DIITestplan-smi">smi</a></li>
<li><a href="#Ncore3.6DIITestplan-axi.1">axi</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#Ncore3.6DIITestplan-Configurations">Configurations</a></li>
<li><a href="#Ncore3.6DIITestplan-Featuresandtestlist">Features and testlist</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-DIILegacyfeatures">DII Legacy features</a></li>
<li><a href="#Ncore3.6DIITestplan-DII3.6features:">DII 3.6 features :</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-ExclusiveMonitor:">Exclusive Monitor :</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-ExclusiveMonitorParameters:">Exclusive Monitor Parameters :</a></li>
<li><a href="#Ncore3.6DIITestplan-BehavioroftheMonitor">Behavior of the Monitor</a></li>
<li><a href="#Ncore3.6DIITestplan-Stimulus:">Stimulus :</a></li>
<li><a href="#Ncore3.6DIITestplan-FunctionalChecks">Functional Checks</a></li>
<li><a href="#Ncore3.6DIITestplan-Functionalcoverage:">Functional coverage :</a></li>
</ul>
</li>
<li><a href="#Ncore3.6DIITestplan-EventMessaging:">Event Messaging :</a>
<ul class="toc-indentation">
<li><a href="#Ncore3.6DIITestplan-Directedtestcase:">Directed testcase:</a></li>
<li><a href="#Ncore3.6DIITestplan-FunctionalChecks.1">Functional Checks</a></li>
<li><a href="#Ncore3.6DIITestplan-Functionalcoverage:.1">Functional coverage :</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#Ncore3.6DIITestplan-References">References</a></li>
<li><a href="#Ncore3.6DIITestplan-TestbenchPlusargs">Testbench Plusargs</a></li>
</ul>
</div><h1 style="margin-left: 30.0px;" id="Ncore3.6DIITestplan-History">History</h1><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="c2480c8d-3b35-4f07-863a-549667596e80" class="confluenceTable"><colgroup><col style="width: 79.0px;" /><col style="width: 138.0px;" /><col style="width: 384.0px;" /><col style="width: 159.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p style="text-align: center;"><strong><span class="legacy-color-text-blue1">Version</span></strong></p></th><th class="confluenceTh"><p><strong><span class="legacy-color-text-blue1">Date</span></strong></p></th><th class="confluenceTh"><p><strong><span class="legacy-color-text-blue1">Comments</span></strong></p></th><th class="confluenceTh"><p>Autor</p></th></tr><tr><td class="confluenceTd"><p>0.1</p></td><td class="confluenceTd"><p><time datetime="2023-05-23" class="date-past">23 May 2023</time>&nbsp;</p></td><td class="confluenceTd"><ul><li><p>initial version</p></li></ul></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="624b376a1da0e100713c9ab3" href="https://arterisip.atlassian.net/wiki/people/624b376a1da0e100713c9ab3?ref=confluence" target="_blank" data-linked-resource-id="788461" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Zied Tlili</a></p></td></tr><tr><td class="confluenceTd"><p>0.2</p></td><td class="confluenceTd"><p><time datetime="2023-07-23" class="date-past">23 Jul 2023</time>&nbsp;</p></td><td class="confluenceTd"><ul><li><p>Add exclusive Monitor and Event Messaging Features </p></li></ul></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="624b376a1da0e100713c9ab3" href="https://arterisip.atlassian.net/wiki/people/624b376a1da0e100713c9ab3?ref=confluence" target="_blank" data-linked-resource-id="788461" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Zied Tlili</a> </p></td></tr><tr><td class="confluenceTd"><p>0.7</p></td><td class="confluenceTd"><p>&nbsp;<time datetime="2023-11-15" class="date-past">15 Nov 2023</time>&nbsp;</p></td><td class="confluenceTd"><ul><li><p>Test Implemented and Status updated </p></li></ul></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="624b376a1da0e100713c9ab3" href="https://arterisip.atlassian.net/wiki/people/624b376a1da0e100713c9ab3?ref=confluence" target="_blank" data-linked-resource-id="788461" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Zied Tlili</a> </p></td></tr><tr><td class="confluenceTd"><p>0.9</p></td><td class="confluenceTd"><p>&nbsp;<time datetime="2023-11-28" class="date-past">28 Nov 2023</time>&nbsp;</p></td><td class="confluenceTd"><ul><li><p>Test Status updated </p></li></ul></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="624b376a1da0e100713c9ab3" href="https://arterisip.atlassian.net/wiki/people/624b376a1da0e100713c9ab3?ref=confluence" target="_blank" data-linked-resource-id="788461" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Zied Tlili</a> </p></td></tr><tr><td class="confluenceTd"><p>1.0</p></td><td class="confluenceTd"><p>&nbsp;&nbsp;<time datetime="2024-02-16" class="date-past">16 Feb 2024</time>&nbsp;</p></td><td class="confluenceTd"><ul><li><p>Inspection finding fixed</p></li></ul></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="624b376a1da0e100713c9ab3" href="https://arterisip.atlassian.net/wiki/people/624b376a1da0e100713c9ab3?ref=confluence" target="_blank" data-linked-resource-id="788461" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Zied Tlili</a> </p></td></tr><tr><td class="confluenceTd"><p>1.1</p></td><td class="confluenceTd"><p><time datetime="2024-02-26" class="date-past">26 Feb 2024</time>  </p></td><td class="confluenceTd"><p>Adding 3.6 Configurations section</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="624b376a1da0e100713c9ab3" href="https://arterisip.atlassian.net/wiki/people/624b376a1da0e100713c9ab3?ref=confluence" target="_blank" data-linked-resource-id="788461" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Zied Tlili</a> </p></td></tr><tr><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p><strong>&nbsp;</strong></p></td><td class="confluenceTd"><p><strong>&nbsp;</strong></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr></tbody></table></div><h1 style="margin-left: 30.0px;" id="Ncore3.6DIITestplan-ReviewHistory">Review History</h1><p style="margin-left: 30.0px;">&nbsp; &nbsp;<strong>&nbsp;</strong></p><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="f84aa860-1e8c-4527-b50a-9b0976662c56" class="confluenceTable"><colgroup><col style="width: 163.0px;" /><col style="width: 603.0px;" /><col style="width: 416.0px;" /><col style="width: 618.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p style="text-align: center;"><strong><span class="legacy-color-text-blue1">Version</span></strong></p></th><th class="confluenceTh"><p><strong><span class="legacy-color-text-blue1">Date</span></strong></p></th><th class="confluenceTh"><p><strong><span class="legacy-color-text-blue1">Attendees</span></strong></p></th><th class="confluenceTh"><p>Comments</p></th></tr><tr><td class="confluenceTd"><p>0.1</p></td><td class="confluenceTd"><p><time datetime="2023-07-24" class="date-past">24 Jul 2023</time>  </p></td><td class="confluenceTd"><p><a class="external-link" href="mailto:Zied.Tlili@arteris.com" rel="nofollow">Zied.Tlili@arteris.com</a>, <a class="external-link" href="mailto:Naveen.Rajagopal@arteris.com" rel="nofollow">Naveen.Rajagopal@arteris.com</a>, <a class="external-link" href="mailto:abdelaziz.ElHamadi@arteris.com" rel="nofollow">abdelaziz.ElHamadi@arteris.com</a> <a href="#" rel="nofollow">,Eric.Taylor@arteris.com</a> <a href="#" rel="nofollow">,darshan.alagud@arteris.com</a> <a href="#" rel="nofollow">,saad.zahid@arteris.com</a>, <a class="external-link" href="mailto:Jason.Villanueva@arteris.com" rel="nofollow">Jason.Villanueva@arteris.com</a>, <a class="external-link" href="mailto:kavish.shah@arteris.com" rel="nofollow">kavish.shah@arteris.com</a>, <a class="external-link" href="mailto:marc.cote@arteris.com" rel="nofollow">marc.cote@arteris.com</a>, <a class="external-link" href="mailto:Chengchung.Wang@arteris.com" rel="nofollow">Chengchung.Wang@arteris.com</a> <a href="#" rel="nofollow">,Yokesh.Ramasamy@arteris.com</a> <a href="#" rel="nofollow">,Robert.Podnar@arteris.com</a> <a href="#" rel="nofollow">,SaiPavan.Yaraguti@arteris.com</a>  <a href="#" rel="nofollow">,Xiaojue.Zeng@arteris.com</a> </p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p /></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p><strong>&nbsp;</strong></p></td><td class="confluenceTd"><p><strong>&nbsp;</strong></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr></tbody></table></div><p style="margin-left: 30.0px;">&nbsp; &nbsp;<strong>&nbsp;</strong></p><h1 id="Ncore3.6DIITestplan-Introduction"><strong>Introduction</strong></h1><p>DII (Distributed IO Interface) is an Ncore module at the lower boundary of Ncore.</p><p>DII accesses noncoherent address space at the request of Ncore AIUs (Agent Interface Units).</p><p>DII additionally supports</p><ul><li><p>device memory which may be volatile or have side effects (such as config registers of an IP)</p></li><li><p>well behaved memory without side effects (such as DRAM)</p></li><li><p>Ncore transaction ordering modes</p></li><li><p>error tolerance, detection and reporting</p></li></ul><p><br /></p><p>A minimal instance of DII is used to access Configuration and Status Registers of Ncore units (CSR). This instance has 32-bit AXI native interface, and supports only 32-bit aligned device non-modifiable non-buffered read/write accesses.</p><h2 id="Ncore3.6DIITestplan-Assumptions">Assumptions</h2><p>DII::</p><p>-- only AIU initiates</p><p>&ndash;&nbsp;smi initiator &lt;-&gt; axi endpoint</p><p>-- noncoherent</p><p>-- no internal cache</p><p>-- ordering model: CHI ordering (csymlayers:Layers); AXI ordering</p><p>-- error model: sram random faults, transport error signal, propagate external errors identified within protocols.</p><p>&nbsp; &nbsp;transport random faults are covered by resilience feature separate from dii.</p><p>-- 32b Dii shall service only 4B, size aligned accesses.&nbsp;&nbsp;&nbsp;<span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://arterisip.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10303?size=medium" data-image-src="https://arterisip.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10303?size=medium" loading="lazy" /></span><a class="external-link" href="https://arterisip.atlassian.net/browse/CONC-5031" rel="nofollow">CONC-5031</a>&nbsp;-&nbsp;specify csr-dii cmdset&nbsp;<span data-colorid="c329mr9wk1">CLOSED</span></p><h1 id="Ncore3.6DIITestplan-TestbenchDescription"><strong>Testbench Description&nbsp;</strong></h1><p><br /></p><h2 id="Ncore3.6DIITestplan-Diagrams">Diagrams</h2><h3 id="Ncore3.6DIITestplan-DIIlocationwithinNcore">DII location within Ncore</h3><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="272" src="https://arterisip.atlassian.net/wiki/download/attachments/236978177/image2019-3-26%2018:20:26.png?api=v2" /></span><p>( Archive the diagram in editable format: )</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" height="250" src="https://arterisip.atlassian.net/wiki/download/thumbnails/16777955/Ncore3_System_Diagram.pptx?version=5&amp;modificationDate=1553625948560&amp;cacheVersion=1&amp;api=v2&amp;viewType=fileMacro" data-image-src="https://arterisip.atlassian.net/wiki/download/thumbnails/16777955/Ncore3_System_Diagram.pptx?version=5&amp;modificationDate=1553625948560&amp;cacheVersion=1&amp;api=v2&amp;viewType=fileMacro" loading="lazy" /></span><span class="legacy-color-text-inverse">&nbsp;Presentation</span>&nbsp;</p><p><br /></p><h3 id="Ncore3.6DIITestplan-DIIUnitDVProcess">DII Unit DV&nbsp;Process</h3><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="306" src="https://arterisip.atlassian.net/wiki/download/attachments/236978177/image2018-10-2%2011:22:26.png?api=v2" /></span><p>( Archive the diagram in editable format: )</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" height="250" src="https://arterisip.atlassian.net/wiki/download/thumbnails/16777955/Ncore3_DII_DV_Process_Diagram.pptx?version=4&amp;modificationDate=1538479692249&amp;cacheVersion=1&amp;api=v2&amp;viewType=fileMacro" data-image-src="https://arterisip.atlassian.net/wiki/download/thumbnails/16777955/Ncore3_DII_DV_Process_Diagram.pptx?version=4&amp;modificationDate=1538479692249&amp;cacheVersion=1&amp;api=v2&amp;viewType=fileMacro" loading="lazy" /></span><span class="legacy-color-text-inverse">&nbsp;Presentation</span></p><h3 id="Ncore3.6DIITestplan-SimplifiedTBdiagram">Simplified TB diagram</h3><span class="confluence-embedded-file-wrapper image-left-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-left" width="272" src="https://arterisip.atlassian.net/wiki/download/attachments/236978177/image2018-9-19%2016:14:40.png?api=v2" /></span><p>( Archive the diagram in editable format: )</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" height="250" src="https://arterisip.atlassian.net/wiki/download/thumbnails/16777955/Ncore3_DII_DV_Diagram_hier.pptx?version=2&amp;modificationDate=1537373594994&amp;cacheVersion=1&amp;api=v2&amp;viewType=fileMacro" data-image-src="https://arterisip.atlassian.net/wiki/download/thumbnails/16777955/Ncore3_DII_DV_Diagram_hier.pptx?version=2&amp;modificationDate=1537373594994&amp;cacheVersion=1&amp;api=v2&amp;viewType=fileMacro" loading="lazy" /></span><span class="legacy-color-text-inverse">&nbsp;Presentation</span>&nbsp; &nbsp;</p><p><br /></p><h2 id="Ncore3.6DIITestplan-ListanddescriptionofTBcomponents">List and description of TB components</h2><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Dii TB is based around searchable lists of object Dii_txn, which represents the end to end journey of a single request from upstream.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Data manipulation methods are single-sourced at their maximum level of abstraction, mainly in Dii_txn or Dii_txn_q.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Any existing data obj is guaranteed to contain meaningful information.&nbsp; access to data not yet present is a null dereference.&nbsp; This is an intentional mechanism for preventing silent corruption when a component is not ready for use case (due to development state, or mistake) .</p><h3 id="Ncore3.6DIITestplan-Transaction"><strong>Transaction</strong></h3><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;State machine representing the end to end journey of a single request from upstream.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;most of the checks in this doc are implemented here.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;collects smi_seq_item, axi*_seq_item representing each msg in the txn.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;api gen_expd__&lt;Msgtype&gt;() constructs the fields in a next msg of &lt;Msgtype&gt; which may be derived from the current state of the txn.</p><h4 id="Ncore3.6DIITestplan-Transactionqueue"><strong>Transaction queue</strong></h4><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;data store of txns.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;contains certain methods operating across multiple txns, such as ordering checks.</p><h3 id="Ncore3.6DIITestplan-Checker"><strong>Checker</strong></h3><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Objective: die iff any mismatch with srch.&nbsp; Error message sufficient to debug without wave.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; maintains txn_q of all outstanding Dii_txn.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; maintains order_q of all Dii_txn which have not passed their ordering point.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Upon receiving a msg, generates and compares to the msg of that type which is expected by the corresponding txn.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Internally sequences messages of an axi txn to correlate with dii_txn.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; input: smi_seq_item, axi*_seq_item observed by monitors</p><h3 id="Ncore3.6DIITestplan-Coverage"><strong>Coverage</strong></h3><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Objective: cover all functions and corner cases of dii.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;concerto:&nbsp;${WORK_TOP)/dv/common/lib_tb/smi_coverage.svh&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;axi :&nbsp;${WORK_TOP)/dv/dii/env/dii_coverage.svh</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dii:&nbsp; ${WORK_TOP)/dv/dii/env/dii_coverage.svh</p><h3 id="Ncore3.6DIITestplan-BFMs"><strong>BFMs&nbsp;</strong></h3><h4 id="Ncore3.6DIITestplan-concerto">concerto</h4><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Objective:&nbsp; generate all concerto traffic which dii may receive.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; knobs adjust distribution of traffic.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; knobs enable traffic not expected during normal operation, such as uncorrectable errors.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; txn based seq which generates all possible next msgs for a txn</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use systemverilog constrained random</p><h4 id="Ncore3.6DIITestplan-axi">axi</h4><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Reactive bfm.&nbsp;&nbsp;&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Read returns random data.&nbsp; not a memory model.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;knobs enable error injection.</p><h4 id="Ncore3.6DIITestplan-apb">apb</h4><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; For register access (CSR).</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We access implicitly via reg,field name apis in mentor RAL.</p><p><br /></p><p><strong>Monitors</strong></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Sends msg to scoreboard once all beats of data have been collected.</p><h4 id="Ncore3.6DIITestplan-smi">smi</h4><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Collects data on interface and creates smi_seq_item.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;common monitor</p><h4 id="Ncore3.6DIITestplan-axi.1">axi</h4><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Collects data on interface and creates various axi seq_items.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><h1 id="Ncore3.6DIITestplan-Configurations"><strong>Configurations</strong></h1><p>To verify the DII 3.6 features, The below new configs have been added :</p><p>&nbsp;</p><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="b0e3e4e3-eb5a-4271-83b2-8af5b8f7cc4d" class="confluenceTable"><colgroup><col style="width: 643.0px;" /><col style="width: 339.0px;" /><col style="width: 285.0px;" /><col style="width: 198.0px;" /><col style="width: 473.0px;" /></colgroup><tbody><tr><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, #F4F5F7)" class="confluenceTh"><p><strong>Parameter</strong></p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, #F4F5F7)" class="confluenceTh"><p><strong>64b_exmon</strong></p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, #F4F5F7)" class="confluenceTh"><p><strong>128b_exmon</strong></p></th><th class="confluenceTh"><p><strong>hw_cfg_meye_q7_dii</strong></p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, #F4F5F7)" class="confluenceTh"><p>Feedback/Comments</p></th></tr><tr><td class="confluenceTd"><p><strong>instance</strong></p></td><th data-highlight-colour="#ffffff" class="confluenceTh"><p><strong>dii0</strong></p></th><th data-highlight-colour="#ffffff" class="confluenceTh"><p><strong>dii0</strong></p></th><th data-highlight-colour="#ffffff" class="confluenceTh"><p><strong>dii_west</strong></p></th><th data-highlight-colour="#ffffff" class="confluenceTh"><p>&nbsp;</p></th></tr><tr><td class="confluenceTd"><p>nAius</p></td><td class="confluenceTd"><p>17</p></td><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>16</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>nRttCtrlEntries</p></td><td class="confluenceTd"><p>12</p></td><td class="confluenceTd"><p>31</p></td><td class="confluenceTd"><p>32</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>nWttCtrlEntries</p></td><td class="confluenceTd"><p>7</p></td><td class="confluenceTd"><p>15</p></td><td class="confluenceTd"><p>32</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>nWriteRBIDs</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>8</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>nExclusiveEntries</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>8</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>addressIdMap.addressBits</p></td><td class="confluenceTd"><p>[  ]</p></td><td class="confluenceTd"><p>[32]</p></td><td class="confluenceTd"><p>[ 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 35, 36 ]</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>wAddr</p></td><td class="confluenceTd"><p>44</p></td><td class="confluenceTd"><p>52</p></td><td class="confluenceTd"><p>40</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>wArID</p></td><td class="confluenceTd"><p>11</p></td><td class="confluenceTd"><p>14</p></td><td class="confluenceTd"><p>15</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>wAwID</p></td><td class="confluenceTd"><p>11</p></td><td class="confluenceTd"><p>14</p></td><td class="confluenceTd"><p>15</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>wAxAddr</p></td><td class="confluenceTd"><p>44</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>40</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>wXData</p></td><td class="confluenceTd"><p>64</p></td><td class="confluenceTd"><p>128</p></td><td class="confluenceTd"><p>64</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>useResiliency</p></td><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>enableUnitDuplication</p></td><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>nCMDSkidBufArb</p></td><td class="confluenceTd"><p>64</p></td><td class="confluenceTd"><p>64</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>nCMDSkidBufSize</p></td><td class="confluenceTd"><p>192</p></td><td class="confluenceTd"><p>64</p></td><td class="confluenceTd"><p>68</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>nPerformanceCounters</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>nLatencyCounters</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr></tbody></table></div><p>&nbsp;</p><h1 id="Ncore3.6DIITestplan-Featuresandtestlist"><strong>Features and testlist</strong></h1><h2 id="Ncore3.6DIITestplan-DIILegacyfeatures"><strong>DII Legacy features</strong></h2><p>See&nbsp;Ncore 3.4 DII Testplan :&nbsp;&nbsp;<a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16170841/Ncore+3.4+DII+Testplan" rel="nofollow">Ncore 3.4 DII Testplan: - Engineering - Confluence (atlassian.net)</a></p><h2 id="Ncore3.6DIITestplan-DII3.6features:"><strong>DII 3.6 features :</strong></h2><h3 id="Ncore3.6DIITestplan-ExclusiveMonitor:"><strong>Exclusive Monitor :</strong></h3><p><strong>Exclusive Access (ARM Spec) : </strong></p><p>The principles of Exclusive accesses are that a master performing an Exclusive sequence does the following:<br />&bull; Performs an Exclusive Load from a location.<br />&bull; Calculates a value to store to that location.<br />&bull; Performs an Exclusive Store to the location.<br />&mdash; The Exclusive Store fails if another master has performed a store to the location since the Exclusive<br />Load. In this case, the store does not occur and the master does not change the value held at the<br />location.<br />&mdash; The Exclusive Store can pass if no other master has performed a store to the location since the<br />Exclusive Load. In this case, the store can occur and the master can change the value held at the<br />location.</p><h4 id="Ncore3.6DIITestplan-ExclusiveMonitorParameters:"><strong>Exclusive Monitor Parameters : </strong></h4><p><strong>nExclusiveEntries </strong>: defines the number of monitors. Min value : 0, Max Value : 8. </p><p /><h4 id="Ncore3.6DIITestplan-BehavioroftheMonitor"><strong>Behavior of the Monitor</strong></h4><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="937ebc9b-f2ad-44c7-866f-e3399561822f" class="confluenceTable"><tbody><tr><th data-highlight-colour="#ffffff" class="confluenceTh"><p style="text-align: center;"><strong>Type of request</strong></p></th><th data-highlight-colour="#ffffff" class="confluenceTh"><p style="text-align: center;"><strong>Match Addr</strong></p></th><th data-highlight-colour="#ffffff" class="confluenceTh"><p style="text-align: center;"><strong>Match Axld, FunitId</strong></p></th><th data-highlight-colour="#ffffff" class="confluenceTh"><p style="text-align: center;"><strong>Tag Monitor status (full/Not full)</strong></p></th><th data-highlight-colour="#ffffff" class="confluenceTh"><p style="text-align: center;"><strong>Tag Monitor update</strong></p></th><th data-highlight-colour="#ffffff" class="confluenceTh"><p style="text-align: center;"><strong>Response</strong></p></th></tr><tr><td data-highlight-colour="#ffffff" rowspan="6" class="confluenceTd"><p style="text-align: center;"><strong>Load Ex</strong></p></td><td data-highlight-colour="#ffffff" rowspan="3" class="confluenceTd"><p style="text-align: center;"><strong>Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Do nothing</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>EXOKAY</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" rowspan="2" class="confluenceTd"><p style="text-align: center;"><strong>No Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Full</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Replace an existing entry. Selection is round robin.</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>EXOKAY</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Not Full</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Set a new entry</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>EXOKAY</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" rowspan="3" class="confluenceTd"><p style="text-align: center;"><strong>No Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Replace the Tag</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>EXOKAY</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" rowspan="2" class="confluenceTd"><p style="text-align: center;"><strong>No Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Full</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Replace an existing entry. Selection is round robin.</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>EXOKAY</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Not Full</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Set a new entry</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>EXOKAY</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Load</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Do nothing</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" rowspan="2" class="confluenceTd"><p style="text-align: center;"><strong>Store</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Clear all matching address</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>No Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Do nothing</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td></tr><tr><td data-highlight-colour="#ffffff" rowspan="4" class="confluenceTd"><p style="text-align: center;"><strong>Store Ex</strong></p></td><td data-highlight-colour="#ffffff" rowspan="2" class="confluenceTd"><p style="text-align: center;"><strong>Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Match</strong></p></td><td rowspan="2" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p><p style="text-align: center;" /></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Clear all matching address</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong><span data-colorid="vqiip54crd">EXOKAY</span></strong></p></td></tr><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>No Match</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Do Nothing</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong><span data-colorid="tmmx061hfe">OKAY</span></strong></p></td></tr><tr><td data-highlight-colour="#ffffff" rowspan="2" class="confluenceTd"><p style="text-align: center;"><strong>No Match</strong></p></td><td data-highlight-colour="#ffffff" rowspan="2" class="confluenceTd"><p style="text-align: center;"><strong>X</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;">x</p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Do nothing</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong><span data-colorid="kh3hrn5sg3">OKAY</span></strong></p></td></tr><tr><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;">x</p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong>Do nothing</strong></p></td><td data-highlight-colour="#ffffff" class="confluenceTd"><p style="text-align: center;"><strong><span data-colorid="vpvq5x8445">OKAY</span></strong></p></td></tr></tbody></table></div><h4 id="Ncore3.6DIITestplan-Stimulus:"><strong>Stimulus : </strong></h4><p>DII DV should send mix of exclusive and no Command Read and Write Request.</p><p>Exclusive Read and Write should have following constraints : </p><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="1ae129ea-d846-44c1-ac26-b11f5f674f9b" class="confluenceTable"><colgroup><col style="width: 319.0px;" /><col style="width: 140.0px;" /><col style="width: 308.0px;" /><col style="width: 305.0px;" /><col style="width: 115.0px;" /><col style="width: 112.0px;" /><col style="width: 105.0px;" /><col style="width: 109.0px;" /><col style="width: 146.0px;" /><col style="width: 141.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Name of the field</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th><th class="confluenceTh"><p><strong>Constaints</strong></p></th><th class="confluenceTh"><p><strong>Hashtag</strong></p></th><th class="confluenceTh"><p><strong>Tb Location</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>Address</p></td><td class="confluenceTd"><p>The address of the exclusive Command request</p></td><td class="confluenceTd"><p>address must be aligned to the total number of bytes </p></td><td class="confluenceTd"><p>#Stimulus.DII.CMDreq.Excel.Addr</p></td><td class="confluenceTd"><p>dii_seq.svh</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>High</p></td><td rowspan="4" class="confluenceTd"><p /><p /><p>Exclusive Monitor Micro-Architecture Specification </p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p><strong>Asize :</strong> mpf1_asize</p></td><td class="confluenceTd"><p>The filed asize of Multi-Purpose Field 1 which contains the axsize of the AXI cmdReq</p></td><td class="confluenceTd"><p>The number of bytes transferred in burst must be 1,2,4,8,16,64 bytes</p></td><td class="confluenceTd"><p>#Stimulus.DII.CMDreq.Excel.Asize</p></td><td class="confluenceTd"><p /><p>dii_seq.svh</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p><strong>ALength : mpf1_alength</strong></p></td><td class="confluenceTd"><p>The filed Alen of Multi-Purpose Field 1 which contains the axLen of the AXI cmdReq</p></td><td class="confluenceTd"><p>It must not exceed 16 transfers </p></td><td class="confluenceTd"><p>#Stimulus.DII.CMDreq.Excel.Alength</p></td><td class="confluenceTd"><p>dii_seq.svh</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p><strong>CMType</strong>  : Cmd Type </p></td><td class="confluenceTd"><p>The type of the command Request</p></td><td class="confluenceTd"><p>It  should be Read No Snoop or writeNoSnoop</p></td><td class="confluenceTd"><p>#Stimulus.DII.CMDreq.Excel.CmType</p><p /></td><td class="confluenceTd"><p>dii_seq.svh</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h4 id="Ncore3.6DIITestplan-FunctionalChecks"><strong>Functional Checks</strong></h4><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="48aead77-7765-4afd-89f2-bee8450b5892" class="confluenceTable"><colgroup><col style="width: 631.0px;" /><col style="width: 253.0px;" /><col style="width: 266.0px;" /><col style="width: 187.0px;" /><col style="width: 142.0px;" /><col style="width: 142.0px;" /><col style="width: 78.0px;" /><col style="width: 101.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hashtag</strong></p></th><th class="confluenceTh"><p><strong>Tb Location</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>Check that exclusive monitor behavior is identical to the description in table above &ldquo;<strong>Behavior of the Monitor</strong>&rdquo;</p></td><td rowspan="6" class="confluenceTd"><p /><p /><p /><p /><p /><p /><p /><p>Exclusive Monitor Micro-Architecture Specification </p></td><td class="confluenceTd"><p>#Check.DII.ExMon.Func</p></td><td class="confluenceTd"><p>exec_mon_predictor.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Check that Successful exclusive store should return an EXOKAY status </p></td><td class="confluenceTd"><p>#Check.DII.ExMon.ExPassStatus</p></td><td class="confluenceTd"><p>dii_scoreboard.svh</p><p>dii_txn.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Check that Unsuccessful exclusive store should return an OKAY status </p></td><td class="confluenceTd"><p>#Check.DII.ExMon.ExFailStatus</p></td><td class="confluenceTd"><p>dii_scoreboard.svh</p><p>dii_txn.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Check that if there is a fail for an exclusive store the command will be dropped</p><p>&lt;=&gt; Make sure that no transaction (AW,W) will not be sent on the AXI interface.</p></td><td class="confluenceTd"><p>#Check.DII.ExMon.ExFailDropped</p></td><td class="confluenceTd"><p>dii_scoreboard.svh</p><p>dii_txn.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Check that if there is a fail for an exclusive store, DII will send an early DtwRsp without fail status cmstatus = 0 (OKAY).</p></td><td class="confluenceTd"><p>#Check.DII.ExMon.ExFailEarly</p></td><td class="confluenceTd"><p>dii_scoreboard.svh</p><p>dii_txn.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Check that if there is a Pass for an exclusive store, DII will wait fir response from native interface and send an DtwRsp cmstatus based on table below</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="https://arterisip.atlassian.net/wiki/download/attachments/236978177/image-20230601-132619.png?api=v2" /></span><p /></td><td class="confluenceTd"><p>#Check.DII.ExMon.ExPassLate</p></td><td class="confluenceTd"><p>dii_scoreboard.svh</p><p>dii_txn.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h4 id="Ncore3.6DIITestplan-Functionalcoverage:"><strong>Functional coverage :&nbsp;</strong></h4><p>For functional coverage we need to cover all different scenarios listed in table <strong>Behavior of the Monitor </strong></p><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="a8903bd4-81e6-4e2c-80d8-eb4aa2ee3a42" class="confluenceTable"><colgroup><col style="width: 414.0px;" /><col style="width: 222.0px;" /><col style="width: 271.0px;" /><col style="width: 141.0px;" /><col style="width: 140.0px;" /><col style="width: 163.0px;" /><col style="width: 139.0px;" /><col style="width: 310.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Ref doc</strong></p></th><th class="confluenceTh"><p><strong>Hash-Tag</strong></p></th><th class="confluenceTh"><p><strong>Tb Location</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>loadex_addr_match_axid_funitid_match</p></td><td rowspan="6" class="confluenceTd"><p>Exclusive Monitor Micro-Architecture Specification </p></td><td rowspan="6" class="confluenceTd"><p /><p /><p /><p> #Cover.DII.ExMon.LoadScenario</p></td><td rowspan="11" class="confluenceTd"><p /><p /><p /><p /><p /><p /><p>exec_mon_predictor.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>loadex_addr_match_axid_funitid_no_match_full</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>loadex_addr_match_axid_funitid_no_match_not_full</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>loadex_addr_no_match_axid_funitid_match</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>loadex_addr_no_match_axid_funitid_no_match_full</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>loadex_addr_no_match_axid_funitid_no_match_not_full</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>store_addr_match</p></td><td rowspan="5" class="confluenceTd"><p>Exclusive Monitor Micro-Architecture Specification </p></td><td rowspan="5" class="confluenceTd"><p> </p><p /><p>#Cover.DII.ExMon.StoreScenario</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>store_addr_no_match</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>storeex_addr_match_axid_funitid_match</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>storeex_addr_match_axid_funitid_no_match</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>storeex_addr_no_match</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cross coverage Asize : mpf1_asize = {1,2,4,8,16,64} X smi_es = 1</p></td><td class="confluenceTd"><p>Exclusive Monitor Micro-Architecture Specification </p></td><td class="confluenceTd"><p>#Cover.DII.ExMon.Asize</p></td><td class="confluenceTd"><p>smi_coverage.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cross coverage mpf1_alength X smi_es = 1</p></td><td class="confluenceTd"><p>Exclusive Monitor Micro-Architecture Specification </p></td><td class="confluenceTd"><p>#Cover.DII.ExMon.Alen</p></td><td class="confluenceTd"><p>smi_coverage.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h3 id="Ncore3.6DIITestplan-EventMessaging:"><strong>Event Messaging :</strong></h3><p>DII will be responsible for converting the arriving event (assertion of EventInReq) into SysReq.Event messages. It will pass the message to DVE and will expect to receive the SysRsp from it.</p><p>If there is a timeout or if the response indicates an error, an error will be reported.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="https://arterisip.atlassian.net/wiki/download/attachments/236978177/image-20230523-113952.png?api=v2" /></span><p /><h4 id="Ncore3.6DIITestplan-Directedtestcase:"><strong>Directed testcase:</strong></h4><ul><li><p>Send Exclusive Store/Load Commands which triggers a DII exclusive monitor event : When exclusive Monitor is cleared, an event should be generated.</p></li><li><p>Upon receiving the SysReq message on the SMI, DV introduce a random delay and then it issues the corresponding SysRsp message to DII.</p></li></ul><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="00b0cbb8-5368-4e5b-a6e6-8670fcbc81c4" class="confluenceTable"><colgroup><col style="width: 330.0px;" /><col style="width: 273.0px;" /><col style="width: 214.0px;" /><col style="width: 306.0px;" /><col style="width: 233.0px;" /><col style="width: 113.0px;" /><col style="width: 142.0px;" /><col style="width: 106.0px;" /><col style="width: 83.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p style="text-align: center;"><strong>Testcase name</strong></p></th><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hashtag</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Tb Location</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p /><p /><p>sys_event_bring_up</p></td><td class="confluenceTd"><p>Bring-Up Testcase : </p><p>1- Send exclusive sequence to generate exclusive Monitor entries clearing</p><p>2 - Generate Valid SysRsp for each corresponding SysReq</p><p>3 - On the SMI interface, drive the valid response after a randomized delay</p></td><td class="confluenceTd"><p>Syscmd Architecture Specification</p><p>Section 1.3</p></td><td class="confluenceTd"><p>#Stimulus.DII.EventMsg</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>dii_txn.svh</p><p>dii_seq.svh</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>sys_event_disabled</p></td><td class="confluenceTd"><p>Disable Event Testcase : </p><ol start="1"><li><p>Configure DIIUTCR.EventDisable field to 1</p></li></ol><ol start="1"><li><p>Send exclusive sequence to generate exclusive Monitor entries clearing</p></li></ol></td><td class="confluenceTd"><p>Syscmd Architecture Specification</p><p>Section 1.3</p></td><td class="confluenceTd"><p>#Stimulus.DII.EventMsg.DisableEvent</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>dii_txn.svh</p><p>dii_seq.svh</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>sys_event_timeout</p></td><td class="confluenceTd"><p>Timeout testcase : </p><p>1- Configure timeout value in CSR register (<code>TimeOutThreshold</code>)</p><p>2- We issue an event message on the SMI interface by making trigging exclusive monitor events</p><p>3 - Do not issue a response until a timeout is hit.</p></td><td class="confluenceTd"><p>Syscmd Architecture Specification</p><p>Section 1.3</p></td><td class="confluenceTd"><p>#Stimulus.DII.EventMsgTimeoutErr</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>dii_txn.svh</p><p>dii_seq.svh</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h4 id="Ncore3.6DIITestplan-FunctionalChecks.1"><strong>Functional Checks</strong></h4><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="4d630799-2979-4dd3-94dc-57a458fc9b32" class="confluenceTable"><colgroup><col style="width: 608.0px;" /><col style="width: 202.0px;" /><col style="width: 265.0px;" /><col style="width: 179.0px;" /><col style="width: 211.0px;" /><col style="width: 139.0px;" /><col style="width: 98.0px;" /><col style="width: 98.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hashtag</strong></p></th><th class="confluenceTh"><p><strong>Tb Location</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>Check that DII is correctly generating SysReq command from event_in_req (SysReqOP = 3)<strong> (All SysReq fields will be checked)</strong></p></td><td rowspan="5" class="confluenceTd"><p /><p /><p /><p /><p>Syscmd Architecture Specification</p></td><td class="confluenceTd"><p>#Check.DII.EventMsg.SysReq</p></td><td class="confluenceTd"><p>dii_txn.svh</p><p>dii_scoreboard.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Check that DII is able to receive SySRsp </p></td><td class="confluenceTd"><p>#Check.DII.EventMsg.SysResp</p></td><td class="confluenceTd"><p>dii_txn.svh</p><p>dii_scoreboard.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Make sur that when DIIUTCR.EventDisable field set to 1, DII doesn&rsquo;t send any sysreq </p></td><td class="confluenceTd"><p>#Check.DII.EventMsg.DisableEvent</p></td><td class="confluenceTd"><p>dii_txn.svh</p><p>dii_scoreboard.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Check that a timeout error is trigged with SysEvent Error type when sysrep timout is hit</p></td><td class="confluenceTd"><p>#Check.DII.EventMsg.SysRespTimeOut</p></td><td class="confluenceTd"><p>dii_txn.svh</p><p>dii_scoreboard.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Make sure when execlusive Monitor event is generated a sys_req is sent by DII.</p></td><td class="confluenceTd"><p>#Check.DII.EventMsg.EventInReq</p></td><td class="confluenceTd"><p>dii_txn.svh</p><p>dii_scoreboard.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h4 id="Ncore3.6DIITestplan-Functionalcoverage:.1"><strong>Functional coverage :&nbsp;</strong></h4><div class="table-wrap"><table data-table-width="1800" data-layout="full-width" data-local-id="40b833dd-cbdf-44a3-a5d3-b66c5cdc1ec2" class="confluenceTable"><colgroup><col style="width: 417.0px;" /><col style="width: 128.0px;" /><col style="width: 328.0px;" /><col style="width: 175.0px;" /><col style="width: 170.0px;" /><col style="width: 137.0px;" /><col style="width: 135.0px;" /><col style="width: 310.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Scenario</strong></p></th><th class="confluenceTh"><p><strong>Ref Doc</strong></p></th><th class="confluenceTh"><p><strong>Hash-Tag</strong></p></th><th class="confluenceTh"><p><strong>Tb Location</strong></p></th><th class="confluenceTh"><p><strong>Priority</strong></p></th><th class="confluenceTh"><p><strong>Implemented</strong></p></th><th class="confluenceTh"><p><strong>Status</strong></p></th><th class="confluenceTh"><p><strong>Remarks</strong></p></th></tr><tr><td class="confluenceTd"><p>Cover SysReq.Event opcode = 3 </p></td><td rowspan="4" class="confluenceTd"><p /><p>Syscmd Architecture Specification</p></td><td class="confluenceTd"><p>#Cover.DII.EventMsg.opcode</p></td><td rowspan="4" class="confluenceTd"><p /><p /><p>dii_coverage.svh</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cover SysReq cmd_type='h7B</p></td><td class="confluenceTd"><p>#Cover.DII.EventMsg.MsgType</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Cover error type = 'hA</p></td><td class="confluenceTd"><p>#Cover.DII.EventMsg.TimeoutError</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Covr Disable event = 0 (event messaging enabled) or 1 (Event Messaging disabled)</p></td><td class="confluenceTd"><p>#Cover.DII.EventMsg.EventDisable</p></td><td class="confluenceTd"><p>High</p></td><td class="confluenceTd"><p>Done</p></td><td class="confluenceTd"><p>Pass</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><p /><h1 id="Ncore3.6DIITestplan-References">References</h1><p> Syscmd Architecture Specification : <a data-card-appearance="inline" href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/59605622/Arch+Ncore+3.6+Docs#Syscmd-Architecture-Specification" rel="nofollow">https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/59605622/Arch+Ncore+3.6+Docs#Syscmd-Architecture-Specification</a>  </p><p>Exclusive Monitor Micro-Architecture Specification :  <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/219644100/Ncore+3.6+Exclusive+monitors" data-linked-resource-id="219644100" data-linked-resource-version="1" data-linked-resource-type="page">Ncore 3.6 Exclusive monitors</a>  </p><p /><h1 id="Ncore3.6DIITestplan-TestbenchPlusargs">Testbench Plusargs&nbsp;</h1><p><br /></p><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="b2fc4840-9dd3-4739-86a8-aaa91ad5560a" class="confluenceTable"><colgroup><col style="width: 250.0px;" /><col style="width: 510.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Name</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th></tr><tr><td class="confluenceTd"><p>wt_cmd_exclusive</p></td><td class="confluenceTd"><p>Defines the weight of exclusive CmdReqs</p></td></tr><tr><td class="confluenceTd"><p>wt_exclusive_sequence</p></td><td class="confluenceTd"><p>Defines the sequence weight of exlusive CmdReqs from the same srcID with the same MPF2 field to the same target. </p></td></tr><tr><td class="confluenceTd"><p>sys_event_disable</p></td><td class="confluenceTd"><p>Defines whether system event sending is enabled or disabled. If it&rsquo;s set, system event is disabled (system event is enabled by default).</p></td></tr><tr><td class="confluenceTd"><p>dii_sys_event_ev_timeout</p></td><td class="confluenceTd"><p>Defines whether timeout protocol detection is enabled/disabled for the system event feature</p></td></tr><tr><td class="confluenceTd"><p>k_ev_prot_timeout_val</p></td><td class="confluenceTd"><p>Defines protocol timeout value which is provided by a CSR configuration</p></td></tr></tbody></table></div><p><br /></p><p><br /></p><p><br /></p><p><br /></p>