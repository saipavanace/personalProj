<p><br/></p><p><strong>Trace trigger throttling:</strong></p><p>Trace capture changes</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16164275/TRACE_CAPTURE_TOP.png?api=v2"></span></p><p>Trace trigger changes</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16164275/TRACE_TRIGGER_TOP.png?api=v2"></span></p><p>CHI AIU changes</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16164275/CHI_AIU_TOP.png?api=v2"></span></p><p>IO AIU changes</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16164275/IOAIU_TOP.png?api=v2"></span></p><p><br/></p><p>RTL blocks involved: Trace capture, Trace trigger, IOAIU &amp; CHIAIU</p><p>Designers: Jason &amp; Darshan</p><p>Complexity: Simple</p><p>1 day to make the needed RTL changes </p><p><u><strong>DV Estimate:</strong></u></p><p>Owner: Bill + Hardy</p><p>Complexity: complex</p><p>Estimate: 6 man weeks</p><ol><li>Merge TCAP + TTRI scoreboards together – 1 week</li><li>Model TCAP to be cycle accurate (if RTL is deterministic) – 5 weeks</li><li>Tests, Regression and debug – 1 week</li></ol><p><br/></p><p><br/></p><p><br/></p><p><strong>Trace accumulator changes:</strong></p><p><br/></p><p>Trace Accumulate Status &amp; Control Register (xTASCR) changes:</p><p>Old:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><strong>Bits</strong></p></td><td class="confluenceTd"><p><strong>Name</strong></p></td><td class="confluenceTd"><p><strong>Access </strong></p></td><td class="confluenceTd"><p><strong>Reset</strong></p></td><td class="confluenceTd"><p><strong>Description </strong></p></td></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Buffer empty</p></td><td class="confluenceTd"><p>RO</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Set when all the entries within the buffer are read and the buffer is empty</p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Circular buffer</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>When set, local buffer acts as a circular buffer, older messages are dropped once the buffer is full. When not set new messages are dropped when the buffer is full</p></td></tr><tr><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Buffer clear</p></td><td class="confluenceTd"><p>WSC</p></td><td class="confluenceTd"><p>0X0</p></td><td class="confluenceTd"><p>Write 1 to clear the complete buffer</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Reserved</p></td><td class="confluenceTd"><p>RO</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">15:4   </td><td colspan="1" class="confluenceTd">Buffer entry number</td><td colspan="1" class="confluenceTd">R/W</td><td colspan="1" class="confluenceTd">0x0</td><td colspan="1" class="confluenceTd">Specify the entry number to be read</td></tr><tr><td class="confluenceTd"><p>16</p></td><td class="confluenceTd"><p>Buffer read</p></td><td class="confluenceTd"><p>WSC</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Write one to trigger a read</p></td></tr><tr><td class="confluenceTd"><p>31:17</p></td><td class="confluenceTd"><p>Reserved</p></td><td class="confluenceTd"><p>RO</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p><br/></p></td></tr></tbody></table></div><p><br/></p><p>New:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><strong>Bits</strong></p></td><td class="confluenceTd"><p><strong>Name</strong></p></td><td class="confluenceTd"><p><strong>Access </strong></p></td><td class="confluenceTd"><p><strong>Reset</strong></p></td><td class="confluenceTd"><p><strong>Description </strong></p></td></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Buffer empty</p></td><td class="confluenceTd"><p>RO</p></td><td class="confluenceTd"><p>0x1</p></td><td class="confluenceTd"><p>Set when all the entries within the buffer are read and the buffer is empty</p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Buffer full</p></td><td class="confluenceTd"><p>RO</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Set when the buffer is full</p></td></tr><tr><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Circular buffer</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>When set, local buffer acts as a circular buffer, older messages are dropped once the buffer is full. When not set new messages are dropped when the buffer is full</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Buffer clear</p></td><td class="confluenceTd"><p>WSC</p></td><td class="confluenceTd"><p>0X0</p></td><td class="confluenceTd"><p>Write 1 to clear the complete buffer</p></td></tr><tr><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Buffer read</p></td><td class="confluenceTd"><p>WSC</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Write one to trigger a read to next valid entry. Triggering read when buffer is empty does not have any effect  </p></td></tr><tr><td class="confluenceTd"><p>31:5</p></td><td class="confluenceTd"><p>Reserved</p></td><td class="confluenceTd"><p>RO</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p><br/></p></td></tr></tbody></table></div><p><br/></p><p>RTL blocks involved: Trace Accumulator in DVE  [Related CSR changes]</p><p>Designers: Bob</p><p>Complexity: Simple</p><p>3 day to make the needed RTL changes </p><p><u><strong>DV Estimate:</strong></u></p><p>Owner: Andrew</p><p>Complexity: simple</p><p>Estimate:  3 man days</p><ol><li>For DVE (TACC scoreboard) – 1 days</li><li>Tests, Regression and debug – 2 days</li></ol><p><br/></p><p><strong>Timestamp counter correction changes:</strong></p><p><br/></p><p>Capture Control Register (xCCTRLR) changes:</p><p>Old:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 69.3292%;"><colgroup><col style="width: 4.00776%;"/><col style="width: 9.60551%;"/><col style="width: 4.74409%;"/><col style="width: 4.50758%;"/><col style="width: 4.28585%;"/><col style="width: 72.8381%;"/></colgroup><tbody><tr><td class="confluenceTd"><p><strong>Bits</strong></p></td><td class="confluenceTd"><p><strong>Name</strong></p></td><td class="confluenceTd"><p><strong>Access </strong></p></td><td class="confluenceTd"><p><strong>Scope</strong></p></td><td class="confluenceTd"><p><strong>Reset</strong></p></td><td class="confluenceTd"><p><strong>Description </strong></p></td></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Ndn0 SMI TX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn0 SMI Tx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Ndn0 SMI  RX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn0 SMI Rx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Ndn1 SMI TX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn1 SMI Tx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Ndn1 SMI  RX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn1 SMI Rx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Ndn2 SMI TX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn2 SMI Tx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>5</p></td><td class="confluenceTd"><p>Ndn2 SMI  RX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn2 SMI Rx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>Dn0 SMI TX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Dn0 SMI Tx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>7</p></td><td class="confluenceTd"><p>Dn0 SMI  RX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Dn0 SMI Rx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>8</p></td><td class="confluenceTd"><p>Circular Buffer</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>When set, local buffer acts as a circular buffer, older messages are dropped once the buffer is full. When not set new messages are dropped when the buffer is full</p></td></tr><tr><td class="confluenceTd"><p>11:9</p></td><td class="confluenceTd"><p>Buffer threshold</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>Engg</p></td><td class="confluenceTd"><p>0x2</p></td><td class="confluenceTd"><p>Threshold to start draining the local buffer to accumulation buffer the value is 2 ^ (Buffer threshold). Value of 0 is ASAP as first entry is ready to go</p></td></tr><tr><td class="confluenceTd"><p>31:12</p></td><td class="confluenceTd"><p>Reserved</p></td><td class="confluenceTd"><p>RO</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><br/></td></tr></tbody></table></div><p><br/></p><p><br/></p><p>  New:</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><strong>Bits</strong></p></td><td class="confluenceTd"><p><strong>Name</strong></p></td><td class="confluenceTd"><p><strong>Access </strong></p></td><td class="confluenceTd"><p><strong>Scope</strong></p></td><td class="confluenceTd"><p><strong>Reset</strong></p></td><td class="confluenceTd"><p><strong>Description </strong></p></td></tr><tr><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>Ndn0 SMI TX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn0 SMI Tx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Ndn0 SMI  RX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn0 SMI Rx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Ndn1 SMI TX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn1 SMI Tx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Ndn1 SMI  RX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn1 SMI Rx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Ndn2 SMI TX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn2 SMI Tx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>5</p></td><td class="confluenceTd"><p>Ndn2 SMI  RX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Ndn2 SMI Rx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>Dn0 SMI TX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Dn0 SMI Tx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>7</p></td><td class="confluenceTd"><p>Dn0 SMI  RX</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p>Dn0 SMI Rx snoop and capture enable</p></td></tr><tr><td class="confluenceTd"><p>15:8</p></td><td class="confluenceTd"><p>Reserved</p></td><td class="confluenceTd"><p>RO</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x0</p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>19:16</p></td><td class="confluenceTd"><p>gain value</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x2</p></td><td class="confluenceTd"><p>4-bit gain value</p></td></tr><tr><td class="confluenceTd"><p>31:20</p></td><td class="confluenceTd"><p>Inc value</p></td><td class="confluenceTd"><p>R/W</p></td><td class="confluenceTd"><p>All</p></td><td class="confluenceTd"><p>0x100</p></td><td class="confluenceTd"><p>Time stamp counter increment value: top 4 bits are integer and lower 8 bits are fractional</p></td></tr></tbody></table></div><p><br/></p><p><br/></p><p>RTL blocks involved: Trace Accumulator, Trace Capture [Related CSR changes]</p><p>Designers: Bob &amp; Jason</p><p>Complexity: Simple</p><p>1 day to make the needed RTL changes </p><p><u><strong>DV Estimate:</strong></u></p><p>Owner: Andrew + Hardy</p><p>Complexity: complex</p><p>Estimate:  6 man weeks</p><ol><li>For DVE (TACC scoreboard) – 3 days</li><li>Model TCAP to be cycle accurate (if RTL is deterministic) – 5 weeks</li><li>Tests, Regression and debug – 1 week</li></ol><p><br/></p><p><br/></p><p><br/></p><p><br/></p>