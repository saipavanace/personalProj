<h1 id="ModelVerificationStimulus-TableofContents">Table of Contents</h1><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759723327441 {padding: 0px;}
div.rbtoc1759723327441 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759723327441 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759723327441'>
<ul class='toc-indentation'>
<li><a href='#ModelVerificationStimulus-Stimulus'>Stimulus</a>
<ul class='toc-indentation'>
<li><a href='#ModelVerificationStimulus-STLFile'>STL File</a></li>
<li><a href='#ModelVerificationStimulus-PRFFile'>PRF File</a></li>
</ul>
</li>
<li><a href='#ModelVerificationStimulus-Checkers'>Checkers</a></li>
<li><a href='#ModelVerificationStimulus-BringupSteps'>Bringup Steps</a></li>
</ul>
</div></p><h1 id="ModelVerificationStimulus-Stimulus">Stimulus</h1><p>The stimulus for the top level model will be through input files for each AIU. To support legacy testing and simple cases, the stimulus can be specified with an STL file. For more complex testing, a sequence of transactions can be specified for the Traffic Profile Unit in a PRF file. For each test, an AIU can run transactions input from either an STL file or a PRF file, but not both.</p><h2 id="ModelVerificationStimulus-STLFile">STL File</h2><p>The STL file is the current format used by ncore2 for regression tests.  It contains one line per transaction. It was originally developed for AXI but has been enhanced with a SNOOP field to support AXSNOOP in ACE. The same STL SNOOP field will be used to define transactions for CHI-AIU according to the attached spreadsheet.</p><p>The spreadsheet also includes a way to map AxCACHE[3:0] field from AXI/ACE into MemAttr[3:0] in CHI.</p><p><a href="/wiki/spaces/ENGR/pages/16155906/Model+Verification+Stimulus?preview=%2F16155906%2F16323785%2FACE_BarDomainSnoop_To_CHI_Opcode.xlsx"><span style="background: url('/wiki/s/-672721829/6452/d621ad2a33e27b90ca05c475b216bfab745e08a2/1000.0.0-d621ad2a33e2/_/download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-medium-spreadsheet.png'); width: 250px; height: 95px; display: inline-block; padding-top: 155px; margin: 2px; border: 1px solid #ddd; text-align: center; vertical-align: text-bottom; text-decoration: none; font-size: 12px; color: #000;">ACE_BarDomainSnoop_To_CH…</span></a></p><h2 id="ModelVerificationStimulus-PRFFile">PRF File</h2><p>The PRF file consists of a traffic profile which describes a sequence of transactions with random or fixed address spacing. Each file corresponds to one AIU, but can contain multiple profiles that are generated in parallel. For details, see the <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164486/Traffic+Profile+Unit" data-linked-resource-id="16164486" data-linked-resource-version="6" data-linked-resource-type="page">Traffic Profile Unit</a></p><h1 id="ModelVerificationStimulus-Checkers">Checkers</h1><p>The top level model will rely on <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16777371/TEMPO+Duplicate+from+Oski" data-linked-resource-id="16777371" data-linked-resource-version="74" data-linked-resource-type="page">TEMPO (Duplicate from Oski)</a> for checking, the same system level checker used by DV. There are also assertions within each unit to flag for exceptional cases. These assertions and visual checking can be used for initial bringup until units are fully instrumented for tempo, but ultimately tempo will be required to exit the bringup phase.</p><h1 id="ModelVerificationStimulus-BringupSteps">Bringup Steps</h1><p>The proposed order of bringup is as follows. The minimum requirement to begin top level bringup is an IOAIU and DMI connected together, which enables testing of noncoherent transactions. In order to test coherent transactions, DCE is needed. IOAIU and CHIAIU should go through the bringup steps independently.</p><ol><li>STL files with Single Transaction. Full cacheline simple transaction starting from base of cacheline.</li></ol><ul><li style="list-style-type: none;background-image: none;"><ul><li>1 noncoherent read</li><li>1 noncoherent write</li><li>1 coherent read</li><li>1 coherent write</li></ul></li></ul><p style="margin-left: 30.0px;">2. <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164521/Bringup+Tests" data-linked-resource-id="16164521" data-linked-resource-version="2" data-linked-resource-type="page">STL Bringup Tests</a>. Each test has 16 full cacheline simple reads or simple writes in sequential order.</p><ul><li style="list-style-type: none;background-image: none;"><ul><li>16 noncoherent read from base of cacheline</li><li>16 noncoherent writes from base of cacheline</li><li>16 coherent read from base of cacheline</li><li>16 coherent writes from base of cacheline</li></ul></li></ul><p style="margin-left: 30.0px;">3. Traffic Profiles. A reasonable amount of random traffic.</p><ul><li style="list-style-type: none;background-image: none;"><ul><li>1000 random read/write ncoh</li><li>1000 random reads and write coherent</li><li>1000 random reads and writes, a mixture of coherent and noncoherent</li></ul></li></ul><p style="list-style-type: none;background-image: none;"> </p>