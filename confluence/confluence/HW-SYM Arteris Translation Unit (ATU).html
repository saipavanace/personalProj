<div class="table-wrap"><style>[data-colorid=sax67lzwfq]{color:#201f1e} html[data-color-mode=dark] [data-colorid=sax67lzwfq]{color:#e1e0df}[data-colorid=mzyv8fgtf4]{color:#201f1e} html[data-color-mode=dark] [data-colorid=mzyv8fgtf4]{color:#e1e0df}[data-colorid=oe35h1qzcr]{color:#201f1e} html[data-color-mode=dark] [data-colorid=oe35h1qzcr]{color:#e1e0df}[data-colorid=g6xgwx3vm8]{color:#201f1e} html[data-color-mode=dark] [data-colorid=g6xgwx3vm8]{color:#e1e0df}[data-colorid=atdv72g8jl]{color:#201f1e} html[data-color-mode=dark] [data-colorid=atdv72g8jl]{color:#e1e0df}[data-colorid=r17a9x3xwd]{color:#201f1e} html[data-color-mode=dark] [data-colorid=r17a9x3xwd]{color:#e1e0df}[data-colorid=pia9uhrgza]{color:#201f1e} html[data-color-mode=dark] [data-colorid=pia9uhrgza]{color:#e1e0df}</style><table class="wrapped confluenceTable"><colgroup><col /><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Date</th><th class="confluenceTh">Description</th><th class="confluenceTh">Name</th></tr><tr><td class="confluenceTd">12/3/2020</td><td class="confluenceTd">Initial Common Characteristics</td><td class="confluenceTd">Eric Taylor</td></tr><tr><td class="confluenceTd">12/9/2020</td><td class="confluenceTd">Synthesis Rules</td><td class="confluenceTd">ET</td></tr><tr><td class="confluenceTd"><br /></td><td class="confluenceTd"><br /></td><td class="confluenceTd"><br /></td></tr></tbody></table></div><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1759723415158 {padding: 0px;}
div.rbtoc1759723415158 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759723415158 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1759723415158">
<ul class="toc-indentation">
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-CommonATUCharacteristics">Common ATU Characteristics</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-TimingandPipeStages">Timing and Pipe Stages</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-PipingRecommendationsATUI">Piping Recommendations ATUI</a></li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-PipingRecommendationsATUT">Piping Recommendations ATUT</a></li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-ATUTAXI/APBPipes">ATUT AXI/APB Pipes</a></li>
</ul>
</li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-pipeForwardandpipeBackward">pipeForward and pipeBackward</a></li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-Multicast">Multicast</a></li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-LockonValidvs.LockonReady">Lock on Valid vs. Lock on Ready</a></li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-ConfigurationspaceaddressmapforATUsub-blocks">Configuration space address map for ATU sub-blocks</a>
<ul class="toc-indentation">
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-ATU-AXIinitiator:">ATU-AXI initiator:</a></li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-ATU-AXITarget:">ATU-AXI Target:</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-ATUI">ATUI</a></li>
<li><a href="#HW-SYMArterisTranslationUnit(ATU)-ATUT">ATUT</a></li>
</ul>
</div><p /><h1 id="HW-SYMArterisTranslationUnit(ATU)-CommonATUCharacteristics">Common ATU Characteristics</h1><h2 id="HW-SYMArterisTranslationUnit(ATU)-TimingandPipeStages">Timing and Pipe Stages</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Pipe Name</th><th class="confluenceTh">Parameter Name</th></tr><tr><td class="confluenceTd">Native Layer Pipe&nbsp;</td><td class="confluenceTd"><span data-colorid="sax67lzwfq">axiPipe*</span></td></tr><tr><td class="confluenceTd">Common Layer Pipe</td><td class="confluenceTd"><p><span data-colorid="r17a9x3xwd">ctlPipeReq</span></p><p><span data-colorid="atdv72g8jl">ctlPipeResp</span></p></td></tr><tr><td class="confluenceTd">PAM Pipe&nbsp;</td><td class="confluenceTd">pamPipeLevel</td></tr><tr><td class="confluenceTd">Context Pipe Level</td><td class="confluenceTd"><span data-colorid="pia9uhrgza">ctlPipeCtxt</span></td></tr><tr><td class="confluenceTd">Queues</td><td class="confluenceTd">queueDepth</td></tr><tr><td class="confluenceTd">RoB Interface Pipes</td><td class="confluenceTd"><span data-colorid="g6xgwx3vm8">pipeLevelRob</span></td></tr><tr><td colspan="1" class="confluenceTd">SMI Layer Pipe</td><td colspan="1" class="confluenceTd"><span data-colorid="oe35h1qzcr">pipeLevel/pipeLevelSmi</span></td></tr><tr><td colspan="1" class="confluenceTd">ATP Layer Pipe</td><td colspan="1" class="confluenceTd"><span data-colorid="mzyv8fgtf4">pipeLevelAtp</span></td></tr><tr><td colspan="1" class="confluenceTd">Exclusive Monitor</td><td colspan="1" class="confluenceTd">pipeLevelExclMon</td></tr></tbody></table></div><h3 id="HW-SYMArterisTranslationUnit(ATU)-PipingRecommendationsATUI">Piping Recommendations ATUI</h3><p>Note: These recommendations are to try and get a good starting point. There may be optimizations that could be made that could reduce it, or configurations that may break.</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 97.9132%;"><colgroup><col style="width: 5.33109%;" /><col style="width: 13.9731%;" /><col style="width: 9.14703%;" /><col style="width: 13.2997%;" /><col style="width: 9.70819%;" /><col style="width: 8.08081%;" /><col style="width: 10.7183%;" /><col style="width: 14.7026%;" /><col style="width: 15.0393%;" /></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh">Frequency</th><th style="text-align: left;" class="confluenceTh"><p>Native Layer Pipe&nbsp;</p></th><th style="text-align: left;" class="confluenceTh"><p>Common Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>PAM Pipe&nbsp;</p></th><th style="text-align: left;" class="confluenceTh"><p>Context Pipe Level</p></th><th colspan="1" style="text-align: left;" class="confluenceTh"><p>Queues</p></th><th colspan="1" class="confluenceTh">RoB Interface Pipes</th><th style="text-align: left;" class="confluenceTh"><p>SMI Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>ATP Layer Pipe</p></th></tr></thead><tbody><tr><td style="text-align: left;" class="confluenceTd">2.0 GHz</td><td style="text-align: left;" class="confluenceTd"><p>2</p></td><td style="text-align: left;" class="confluenceTd"><p>If Narrows Enabled:</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p><p>If Large PAM</p><p>&nbsp; &nbsp; &nbsp; Set to 1</p></td><td style="text-align: left;" class="confluenceTd"><p>if PAM Entries &gt;= 32</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PAM Entries / 32</p><p>if Complex Striping/Splitting*</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>if Ctxt Entries &gt;= 256</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p><p>else&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 1</p></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p>1</p></td><td colspan="1" class="confluenceTd"><p>if enReordering&nbsp;</p><p>&nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>if beatBufferEntries&nbsp;!= 0</p><p>&nbsp; &nbsp;Set to 2</p><p>if&nbsp;enReordering&nbsp;</p><p>&nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>2</p></td></tr><tr><td style="text-align: left;" class="confluenceTd">1.6 GHz</td><td style="text-align: left;" class="confluenceTd"><p>2</p></td><td style="text-align: left;" class="confluenceTd"><p>If Narrows Enabled:</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 1</p><p>If Large PAM</p><p>&nbsp; &nbsp; &nbsp; Set to 1</p></td><td style="text-align: left;" class="confluenceTd"><p>if PAM Entries&nbsp;&gt;= 64</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PAM Entries / 64</p><p>if&nbsp;Complex Striping/Splitting*</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 1</p></td><td style="text-align: left;" class="confluenceTd"><p>if Ctxt Entries &gt;= 64</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p><p>else</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 1</p></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p>0</p></td><td colspan="1" class="confluenceTd"><p>If RoB Entries&gt; 16</p><p>&nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>if beatBufferEntries &gt; 16</p><p>&nbsp; &nbsp;Set to 2</p><p>if&nbsp;RoB Entries &gt; 8</p><p>&nbsp; &nbsp;Set to 2</p><p><br /></p></td><td style="text-align: left;" class="confluenceTd"><p>Depends on how far into the network the first pipe stage is.</p></td></tr><tr><td colspan="1" class="confluenceTd">1 GHz</td><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd"><p>if&nbsp;Complex Striping/Splitting*</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 1</p></td><td colspan="1" class="confluenceTd"><p>Set to 1</p></td><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd"><p>If RoB Entries&gt; 32</p><p>&nbsp; &nbsp;Set to 2</p></td><td colspan="1" class="confluenceTd"><p>if&nbsp;beatBufferEntries &gt; 32</p><p>&nbsp; &nbsp;Set to 2</p><p>if&nbsp;RoB Entries &gt; 16</p><p>&nbsp; &nbsp;Set to 2</p></td><td colspan="1" class="confluenceTd">Depends on how far into the network the first pipe stage is.</td></tr></tbody></table></div><p>*Note: Splitting/Striping can have a variety of complexity. The following parameters being enabled increase its complexity: Fixed Supported, Narrow Supported, Striping Enabled, pamTargMaxBurst&nbsp;!=0, pamTargBoundary&nbsp;!= 0</p><h3 id="HW-SYMArterisTranslationUnit(ATU)-PipingRecommendationsATUT">Piping Recommendations ATUT</h3><p>Note: These recommendations are to try and get a good starting point. There may be optimizations that could be made that could reduce it, or configurations that may break.</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 96.3207%;"><colgroup><col style="width: 5.70451%;" /><col style="width: 14.5465%;" /><col style="width: 14.8888%;" /><col style="width: 16.3719%;" /><col style="width: 15.4022%;" /><col style="width: 7.4729%;" /><col style="width: 12.7781%;" /><col style="width: 12.8351%;" /></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh">Frequency</th><th style="text-align: left;" class="confluenceTh"><p>Native Layer Pipe</p></th><th colspan="1" class="confluenceTh">Exclusive Monitor</th><th style="text-align: left;" class="confluenceTh"><p>Common Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>Context Pipe Level</p></th><th colspan="1" style="text-align: left;" class="confluenceTh"><p>Queues</p></th><th style="text-align: left;" class="confluenceTh"><p>SMI Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>ATP Layer Pipe</p></th></tr></thead><tbody><tr><td style="text-align: left;" class="confluenceTd">2.0 GHz</td><td style="text-align: left;" class="confluenceTd"><p>2</p></td><td colspan="1" class="confluenceTd"><p>if Monitor Enabled</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>If Narrows Enabled ||&nbsp;Can Receive Narrows:</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>if Ctxt Entries &gt;= 256</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p><p>else&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 1</p></td><td colspan="1" style="text-align: left;" class="confluenceTd"><p>1</p></td><td style="text-align: left;" class="confluenceTd"><p>if Return LUT Entries &gt; 32</p><p>&nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>2</p></td></tr><tr><td style="text-align: left;" class="confluenceTd">1.6 GHz</td><td style="text-align: left;" class="confluenceTd"><p>2</p></td><td colspan="1" class="confluenceTd"><p>if Exclusive Entries &gt;= 16</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>If Narrows Enabled ||&nbsp;Can Receive Narrows:</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>if Ctxt Entries &gt;= 64</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p><p>else</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 1</p></td><td colspan="1" style="text-align: left;" class="confluenceTd">0</td><td style="text-align: left;" class="confluenceTd"><p>if Return LUT Entries &gt; 64</p><p>&nbsp; &nbsp;Set to 2</p></td><td style="text-align: left;" class="confluenceTd"><p>Depends on how far into the network the first pipe stage is.</p></td></tr><tr><td colspan="1" class="confluenceTd">1 GHz</td><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd"><p>if Exclusive Entries &gt;= 32</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 2</p></td><td colspan="1" class="confluenceTd"><p>If Narrows Enabled ||&nbsp;Can Receive Narrows:</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Set to 1</p></td><td colspan="1" class="confluenceTd">Set to 1</td><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd"><p>Depends on how far into the network the first pipe stage is.</p></td></tr></tbody></table></div><p><span style="font-size: 16.0px;font-weight: bold;letter-spacing: -0.006em;"><br />ATUI AXI/APB Pipes</span></p><p>// A depth of 1 is forced if ATP is lock-on-ready (retracting)<br />var smiPipeLevelAtp = lckStyleVld || pipeLevelAtp ? pipeLevelAtp : 1;</p><p>var forcedAtpPipe&nbsp; &nbsp; &nbsp;= lckStyleVld || pipeLevelAtp ? false : true;</p><p>*** If&nbsp;forcedAtpPipe is<span>&nbsp;</span><strong>false</strong><span>&nbsp;</span>then the ATP stage is not taken into consideration for above algorithm.&nbsp;</p><p>*** See above to determine if any stage is pipeForward or pipeBackward.</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 96.243%;"><colgroup><col style="width: 5.21173%;" /><col style="width: 13.6808%;" /><col style="width: 14.0954%;" /><col style="width: 9.89043%;" /><col style="width: 9.47587%;" /><col style="width: 7.93604%;" /><col style="width: 10.4827%;" /><col style="width: 14.3322%;" /><col style="width: 14.5099%;" /></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh"><br /></th><th style="text-align: left;" class="confluenceTh"><p>Native Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>Common Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>PAM Pipe&nbsp;</p></th><th style="text-align: left;" class="confluenceTh"><p>Context Pipe Level</p></th><th colspan="1" style="text-align: left;" class="confluenceTh"><p>Queues</p></th><th colspan="1" class="confluenceTh">RoB Interface Pipes</th><th style="text-align: left;" class="confluenceTh"><p>SMI Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>ATP Layer Pipe</p></th></tr></thead><tbody><tr><td style="text-align: left;" class="confluenceTd">Request</td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd">Adds pamPipePam amount of Cycles</td><td style="text-align: left;" class="confluenceTd">Adds 1 Cycle</td><td colspan="1" style="text-align: left;" class="confluenceTd"><p>If queueDepth &gt; 0</p><p>Adds 1 cycle.&nbsp;</p></td><td colspan="1" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td></tr><tr><td style="text-align: left;" class="confluenceTd">Response</td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td data-highlight-colour="grey" style="text-align: left;" class="highlight-grey confluenceTd"><br /></td><td style="text-align: left;" class="confluenceTd">Adds pamPipeCtxt amount of Cycles</td><td colspan="1" style="text-align: left;" class="confluenceTd"><p>if nVc &gt; 1</p><p>Adds 1 cycle.&nbsp;</p></td><td colspan="1" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td></tr></tbody></table></div><h3 id="HW-SYMArterisTranslationUnit(ATU)-ATUTAXI/APBPipes">ATUT AXI/APB Pipes</h3><p>// SMI ATP pipe depth calculation<br />// A depth of 1 is forced if ATP is lock-on-ready (retracting)<br />var smiPipeLevelAtp = smiPktmstrLckStyleVld || pipeLevelAtp ? pipeLevelAtp : 1;</p><p>var forcedAtpPipe = smiPktmstrLckStyleVld || pipeLevelAtp ? false : true;</p><p>*** If&nbsp;forcedAtpPipe is<span>&nbsp;</span><strong>false</strong><span>&nbsp;</span>then the ATP stage is not taken into consideration for above algorithm.&nbsp;</p><p><br />// Ctl Req pipe depth calculation<br />// A depth of 1 is forced if target splitting is present<br />ctlPipeReq = (ctlPipeReq==0 &amp;&amp; splittingRequired) ? 1 : ctlPipeReq;</p><p>var forcedCtlPipeReq = (ctlPipeReq==0 &amp;&amp; splittingRequired) ? true : false;</p><p>*** If forcedCtlPipeReq is<span>&nbsp;</span><strong>true</strong><span>&nbsp;</span>then the ATP stage is not taken into consideration for above algorithm.&nbsp;</p><p><br /></p><p>*** See above to determine if any stage is pipeForward or pipeBackward</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 5.01253%;" /><col style="width: 15.0376%;" /><col style="width: 10.1959%;" /><col style="width: 15.2654%;" /><col style="width: 14.9237%;" /><col style="width: 8.25928%;" /><col style="width: 15.3794%;" /><col style="width: 15.6642%;" /></colgroup><thead><tr><th style="text-align: left;" class="confluenceTh"><br /></th><th style="text-align: left;" class="confluenceTh"><p>Native Layer Pipe</p></th><th colspan="1" class="confluenceTh">Exclusive Monitor</th><th style="text-align: left;" class="confluenceTh"><p>Common Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>Context Pipe Level</p></th><th colspan="1" style="text-align: left;" class="confluenceTh"><p>Queues</p></th><th style="text-align: left;" class="confluenceTh"><p>SMI Layer Pipe</p></th><th style="text-align: left;" class="confluenceTh"><p>ATP Layer Pipe</p></th></tr></thead><tbody><tr><td style="text-align: left;" class="confluenceTd">Request</td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td colspan="1" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd">Adds 1 Cycle</td><td colspan="1" style="text-align: left;" class="confluenceTd"><p>If queueDepth &gt; 0</p><p>Adds 1 cycle.&nbsp;</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td></tr><tr><td style="text-align: left;" class="confluenceTd">Response</td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td colspan="1" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd">Adds pamPipeCtxt amount of Cycles</td><td colspan="1" data-highlight-colour="grey" style="text-align: left;" class="highlight-grey confluenceTd"><br /></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td><td style="text-align: left;" class="confluenceTd"><p>0 - Adds No Cycles</p><p>1 - if pF adds a cycle when not loaded</p><p>1 - if pB adds a cycle when loaded</p><p>2 - Adds 1 Cycle</p></td></tr></tbody></table></div><p><br /></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="1200" src="https://arterisip.atlassian.net/wiki/download/attachments/16156882/image2020-11-20_15-2-23.png?api=v2" /></span></span></p><h2 id="HW-SYMArterisTranslationUnit(ATU)-pipeForwardandpipeBackward">pipeForward and pipeBackward</h2><p>Every level of pipelining has two additional parameters associated with it, pipeForward (pF) and pipeBackward (pB).</p><p>pipeForward is associated with the valid going forward and if true means the valid is coming from a register from the output interface of the pipe. pipeForward being false means the valid is a function the valid from the input interface of the pipe stage and so the pipe stage can be bypassed if it is empty and ready on the output interface is true.</p><p>pipeBackward is associated with the ready going backwards and if true means the ready is coming from a register from the input interface of the pipe. pipeBackward being false means the ready to the input interface is a function of the ready from the output interface.</p><p>In the context of the rules being stated ATU initiators and ATU targets, the Native interfaces is considered to be the starting interface.</p><p>Rules:</p><ol><li>When depth = 0 it is not considered a pipe stage.</li><li>Any stage with depth = 2 is pF = pB = true.</li><li>Any stage with depth = 1 that is the first or not the last pipe stage in the ATU is pF = false, pB = true.</li><li>Any stage with depth = 1 that is the last pipe stage and not the first pipe stage in the ATU is pF = true, pB = false.</li></ol><h2 id="HW-SYMArterisTranslationUnit(ATU)-Multicast">Multicast</h2><p>Multicast introduces a latency of 5 cycles: 2 introduced by depacketizer, 1 introduced by multicast core logic, 2 introduced by packetizer.</p><h2 id="HW-SYMArterisTranslationUnit(ATU)-LockonValidvs.LockonReady">Lock on Valid vs. Lock on Ready</h2><p>A network can be configured to bet lock on ready vs. lock on valid. When a network is configured lock on ready, it is retracting. Most of the standard interfaces we interact with are non-retracting interfaces and so the ATUs will need know when they are connected to a lock on valid vs. lock on ready network. This means the addition of a parameter with a similar to:</p><pre>  &quot;lckStyleValid&quot; : true or false,</pre><p>When a network is lock on valid, the ATU doesn't need to do anything.</p><p>When a network is lock on ready, the ATU must automatically put in at least one buffer along the path to grab and hold the incoming transaction from ATP to keep the native interface from retracting. For this situation, the ATU can automatically put in buffer can be pF = pB = false.</p><p><br /></p><h2 id="HW-SYMArterisTranslationUnit(ATU)-ConfigurationspaceaddressmapforATUsub-blocks">Configuration space address map for ATU sub-blocks</h2><h5 id="HW-SYMArterisTranslationUnit(ATU)-ATU-AXIinitiator:">ATU-AXI initiator:</h5><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Sub-block</th><th class="confluenceTh">Size (in bytes)</th><th class="confluenceTh">Base Address</th><th class="confluenceTh">Exists if</th></tr><tr><td class="confluenceTd">CTL</td><td class="confluenceTd">2k</td><td class="confluenceTd">0x000</td><td class="confluenceTd">True (Always exists)</td></tr><tr><td class="confluenceTd">STATS</td><td class="confluenceTd">1k</td><td class="confluenceTd">0x800</td><td class="confluenceTd">pmonStatsEn</td></tr><tr><td class="confluenceTd">INTERRUPT</td><td class="confluenceTd">1k</td><td class="confluenceTd">0xC00</td><td class="confluenceTd">interfaces.apbRegInterfaces &amp;&amp; !interfaces.apbRegInterface._SKIP_</td></tr></tbody></table></div><p><br /></p><h5 id="HW-SYMArterisTranslationUnit(ATU)-ATU-AXITarget:">ATU-AXI Target:</h5><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><th class="confluenceTh">Sub-block</th><th class="confluenceTh">Size (in bytes)</th><th class="confluenceTh">Base Address</th><th class="confluenceTh">Exists if</th></tr><tr><td class="confluenceTd">CTL</td><td class="confluenceTd">2k</td><td class="confluenceTd">0x000</td><td class="confluenceTd">True (Always exists)</td></tr><tr><td class="confluenceTd">STATS</td><td class="confluenceTd">1k</td><td class="confluenceTd">0x800</td><td class="confluenceTd">pmonStatsEn</td></tr><tr><td colspan="1" class="confluenceTd">EXCL</td><td colspan="1" class="confluenceTd">512</td><td colspan="1" class="confluenceTd">0xC00</td><td colspan="1" class="confluenceTd">exclusivesSupported</td></tr><tr><td class="confluenceTd">INTERRUPT</td><td class="confluenceTd">512</td><td class="confluenceTd">0xE00</td><td class="confluenceTd">interfaces.apbRegInterfaces &amp;&amp; !interfaces.apbRegInterface._SKIP_</td></tr></tbody></table></div><p><br /></p><h1 id="HW-SYMArterisTranslationUnit(ATU)-ATUI">ATUI</h1><p><br /></p><h1 id="HW-SYMArterisTranslationUnit(ATU)-ATUT">ATUT</h1>