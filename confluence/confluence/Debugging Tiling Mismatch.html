<p>When the TilingChecker fails, it would issue error messages as follow:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Error: [CHK-1102] Found mismatch between Group R5C2 and Group R0C2.
Error: [CHK-1050] Checker tiling failed</pre>
</div></div><p>In the simplest case, the mismatch comes from different number of components or links in the two groups. The algorithm would report the details in the error messages. In the sample messages below, the mismatch is due to different number of ClockAdapters (11 v.s. 9):</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Info: [CHK-900] R5C1 (27 instances, 60 links):
+------------------------------------------------+----------------------------+-------------------------------+-------------------------------------------------+--------------------------+--------------------------------------------------------------------+
|          ClockAdapter (11 instances)           | Depacketizer (4 instances) |    NcoreCAIU (1 instances)    | NonCoherentNetworkInterfaceTarget (1 instances) | Packetizer (4 instances) |                        Switch (6 instances)                        |
+================================================+============================+===============================+=================================================+==========================+====================================================================+
|  csr_request_nw/csr_request_nw_Link1647_clkAd  |     dn/Cluster13_dpkt3     | Cluster13 (#in = 5, #out = 4) |        atu_Cluster13 (#in = 1, #out = 2)        |    dn/Cluster13_pkt3     |  csr_request_nw/csr_request_nw_R5C1_Switch149 (#in = 1, #out = 2)  |
| csr_response_nw/csr_response_nw_Link1636_clkAd |    ndn1/Cluster13_dpkt0    |                               |                                                 |   ndn1/Cluster13_pkt0    | csr_response_nw/csr_response_nw_R5C1_Switch149 (#in = 2, #out = 1) |
|              dn/dn_Link1536_clkAd              |    ndn2/Cluster13_dpkt1    |                               |                                                 |   ndn2/Cluster13_pkt1    |              dn/dn_R5C1_Switch149 (#in = 4, #out = 4)              |
|              dn/dn_Link1606_clkAd              |    ndn4/Cluster13_dpkt2    |                               |                                                 |   ndn4/Cluster13_pkt2    |            ndn1/ndn1_R5C1_Switch149 (#in = 4, #out = 4)            |
|            ndn1/ndn1_Link1546_clkAd            |                            |                               |                                                 |                          |            ndn2/ndn2_R5C1_Switch149 (#in = 4, #out = 4)            |
|            ndn1/ndn1_Link1592_clkAd            |                            |                               |                                                 |                          |            ndn4/ndn4_R5C1_Switch149 (#in = 4, #out = 4)            |
|            ndn2/ndn2_Link1546_clkAd            |                            |                               |                                                 |                          |                                                                    |
|            ndn2/ndn2_Link1592_clkAd            |                            |                               |                                                 |                          |                                                                    |
|            ndn4/ndn4_Link1520_clkAd            |                            |                               |                                                 |                          |                                                                    |
|            ndn4/ndn4_Link1590_clkAd            |                            |                               |                                                 |                          |                                                                    |
|       wire_atu_Cluster13_Cluster13_clkAd       |                            |                               |                                                 |                          |                                                                    |
+------------------------------------------------+----------------------------+-------------------------------+-------------------------------------------------+--------------------------+--------------------------------------------------------------------+

Info: [CHK-900] R0C1 (25 instances, 56 links):
+----------------------------------+----------------------------+------------------------------+-------------------------------------------------+--------------------------+--------------------------------------------------------------------+
|    ClockAdapter (9 instances)    | Depacketizer (4 instances) |   NcoreCAIU (1 instances)    | NonCoherentNetworkInterfaceTarget (1 instances) | Packetizer (4 instances) |                        Switch (6 instances)                        |
+==================================+============================+==============================+=================================================+==========================+====================================================================+
|       dn/dn_Link1553_clkAd       |     dn/Cluster8_dpkt3      | Cluster8 (#in = 5, #out = 4) |        atu_Cluster8 (#in = 1, #out = 2)         |     dn/Cluster8_pkt3     |  csr_request_nw/csr_request_nw_R0C1_Switch129 (#in = 1, #out = 2)  |
|       dn/dn_Link1637_clkAd       |    ndn1/Cluster8_dpkt0     |                              |                                                 |    ndn1/Cluster8_pkt0    | csr_response_nw/csr_response_nw_R0C1_Switch129 (#in = 2, #out = 1) |
|     ndn1/ndn1_Link1575_clkAd     |    ndn2/Cluster8_dpkt1     |                              |                                                 |    ndn2/Cluster8_pkt1    |              dn/dn_R0C1_Switch129 (#in = 4, #out = 4)              |
|     ndn1/ndn1_Link1609_clkAd     |    ndn4/Cluster8_dpkt2     |                              |                                                 |    ndn4/Cluster8_pkt2    |            ndn1/ndn1_R0C1_Switch129 (#in = 4, #out = 4)            |
|     ndn2/ndn2_Link1575_clkAd     |                            |                              |                                                 |                          |            ndn2/ndn2_R0C1_Switch129 (#in = 4, #out = 4)            |
|     ndn2/ndn2_Link1609_clkAd     |                            |                              |                                                 |                          |            ndn4/ndn4_R0C1_Switch129 (#in = 4, #out = 4)            |
|     ndn4/ndn4_Link1540_clkAd     |                            |                              |                                                 |                          |                                                                    |
|     ndn4/ndn4_Link1621_clkAd     |                            |                              |                                                 |                          |                                                                    |
| wire_atu_Cluster8_Cluster8_clkAd |                            |                              |                                                 |                          |                                                                    |
+----------------------------------+----------------------------+------------------------------+-------------------------------------------------+--------------------------+--------------------------------------------------------------------+

Error: [CHK-1102] Found mismatch between Group R5C1 and Group R0C1.</pre>
</div></div><p>Otherwise, it could take a bit more effort to find out the source of mismatch. Fortunately, we have a couple of debugging options to make our lives easier. They can be enabled with the following Tcl commands:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ set_temporary_config -name DEBUG_GRAPH_MISMATCH -value true
$ set_temporary_config -name DEBUG_PARAMS_MISMATCH -value true
$ set_temporary_config -name IGNORE_PORT_NUMBERING_MISMATCH -value true</pre>
</div></div><p /><p>From the perspective of TilingChecker implementation, we’re operating on two graphs representing the two groups of components. The algorithm alternatively checking the equivalence of the nodes and edges in these two graphs. </p><p>In terms of the nodes, it checks whether two nodes have the same number of input &amp; output ports / same type / same set of parameters (<em>note that certain parameters are purposely ignored</em>), etc. When the “<code>DEBUG_GRAPH_MISMATCH </code>“ and “<code>DEBUG_PARAMS_MISMATCH </code>“ options are enabled, we can see debugging messages as follow:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">### parameters in the following list are ignored: { targ_id id fUnitId ports rpn nUnitId nodeId hexAiuDceVec strRtlNamePrefix hexAiuDmiVec customAttributes vc hexDceConnectedDmiFunitId hexDceDmiVec bitPat name egressPort hexAiuConnectedDceFunitId route }
- OK
# comparing links (csr_request_nw_R2C1_Switch86 -&gt; external) and (csr_request_nw_R2C2_Switch87 -&gt; external)
- OK
# comparing links (external -&gt; csr_response_nw_R2C1_Switch93) and (external -&gt; csr_response_nw_R2C2_Switch94)
- OK
# comparing links (csr_response_nw_R2C1_Switch93 -&gt; external) and (csr_response_nw_R2C2_Switch94 -&gt; external)
- OK
# comparing dce3 &amp; dce2
- values for hexDceConnectedCaFunitId are different:
  1st = {values = [ 3 5 ]}: {min = -9223372036854775808} {max = 9223372036854775807} {default = } {settable = true} {readable = false} {hidden = false} {protected = false}
  2nd = {values = [ 2 4 ]}: {min = -9223372036854775808} {max = 9223372036854775807} {default = } {settable = true} {readable = false} {hidden = false} {protected = false}
### found different postmap parameters in NcoreDCEs dce3 and dce2
### found different parameters
# comparing dce3 &amp; dmi2
### found different types NcoreDCE v.s. NcoreDMI
# comparing dce3 &amp; dn_R2C2_Switch80
### found different types NcoreDCE v.s. Switch
# comparing csr_request_nw_R2C1_Switch86 &amp; ndn3_R2C2_Switch71
### found different port indexes:
- csr_request_nw_R2C1_Switch86 has output port indexes { 0 1 2 } and input indexes { 0 }
- ndn3_R2C2_Switch71 has output port indexes { 0 1 } and input indexes { 0 1 }
# comparing csr_request_nw_R2C1_Switch86 &amp; ndn4_R2C2_Switch73
### found different port indexes:
- csr_request_nw_R2C1_Switch86 has output port indexes { 0 1 2 } and input indexes { 0 }
- ndn4_R2C2_Switch73 has output port indexes { 0 1 2 3 4 } and input indexes { 0 1 2 3 4 }
### results the algorithm identified before it stopped prematurely:
- csr_request_nw_R2C1_Switch86 : [ csr_request_nw_R2C2_Switch87 ]
- csr_response_nw_R2C1_Switch93 : [ csr_response_nw_R2C2_Switch94 ]
- dce3 : [ ]
### failed to find matched components for dce3, please check related errors from above</pre>
</div></div><p>                                                              source: MAES_7732.log</p><p>Towards the end of each section, there is a list of mappings that the algorithm has identified before it was stopped prematurely. We need to see if the last node has any mapping. If not, it means the algorithm was stopped due to node level mismatch. As the messages suggest, we can then search for error messages related to that node. In this case, the algorithm failed to find a mapping node for dce3. If we climb a bit up, we can see that the candidate dce2 was excluded due to difference of the <code>hexDceConnectedCaFunitId </code> parameter, which, by the way, is now in the purposely ignored list.</p><p>On the other hand, if all nodes visited by the algorithm have at least one mapping node, then the premature stop should be due to edge level mismatch. In such cases, we should be able to see messages as follow (c.f. attached MAES_7743_#1.log for the full version): </p><p><code>### please check port numbering mismatch using the IGNORE_PORT_NUMBERING_MISMATCH option</code></p><p>Next, we can turn on the <code>IGNORE_PORT_NUMBERING_MISMATCH </code>option. It would let the algorithm ignore port number mismatches. If that’s the source of mismatch, the TilingChecker is supposed to pass. On top of the components mapping, we should be able to see a list of ignored port numbering mismatches. In the example blow (c.f. attached MAES_7743_#2.log for the full version) we can see that there’re two pairs of switches from NDN1 and NDN2 that have mismatched port numbering.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Info: [CHK-900] Components mapping:
+-------------------------------------------------------------------------------------------------+
|                                           R5C2 - R0C2                                           |
+=================================================================================================+
|                           dn/dn_Link1552_clkAd - dn/dn_Link1541_clkAd                           |
|                           dn/dn_Link1636_clkAd - dn/dn_Link1620_clkAd                           |
|                       ndn1/ndn1_Link1574_clkAd - ndn1/ndn1_Link1558_clkAd                       |
|                       ndn1/ndn1_Link1607_clkAd - ndn1/ndn1_Link1597_clkAd                       |
|                       ndn2/ndn2_Link1574_clkAd - ndn2/ndn2_Link1558_clkAd                       |
|                       ndn2/ndn2_Link1607_clkAd - ndn2/ndn2_Link1597_clkAd                       |
|                       ndn4/ndn4_Link1538_clkAd - ndn4/ndn4_Link1525_clkAd                       |
|                       ndn4/ndn4_Link1620_clkAd - ndn4/ndn4_Link1604_clkAd                       |
|               wire_atu_Cluster7_Cluster7_clkAd - wire_atu_Cluster2_Cluster2_clkAd               |
|                              dn/Cluster7_dpkt3 - dn/Cluster2_dpkt3                              |
|                                 dn/IO3_1_dpkt3 - dn/IO2_0_dpkt3                                 |
|                            ndn1/Cluster7_dpkt0 - ndn1/Cluster2_dpkt0                            |
|                               ndn1/IO3_1_dpkt0 - ndn1/IO2_0_dpkt0                               |
|                            ndn2/Cluster7_dpkt1 - ndn2/Cluster2_dpkt1                            |
|                               ndn2/IO3_1_dpkt1 - ndn2/IO2_0_dpkt1                               |
|                            ndn4/Cluster7_dpkt2 - ndn4/Cluster2_dpkt2                            |
|                               ndn4/IO3_1_dpkt2 - ndn4/IO2_0_dpkt2                               |
|                                       Cluster7 - Cluster2                                       |
|                                          IO3_1 - IO2_0                                          |
|                                   atu_Cluster7 - atu_Cluster2                                   |
|                                      atu_IO3_1 - atu_IO2_0                                      |
|                               dn/Cluster7_pkt3 - dn/Cluster2_pkt3                               |
|                                  dn/IO3_1_pkt3 - dn/IO2_0_pkt3                                  |
|                             ndn1/Cluster7_pkt0 - ndn1/Cluster2_pkt0                             |
|                                ndn1/IO3_1_pkt0 - ndn1/IO2_0_pkt0                                |
|                             ndn2/Cluster7_pkt1 - ndn2/Cluster2_pkt1                             |
|                                ndn2/IO3_1_pkt1 - ndn2/IO2_0_pkt1                                |
|                             ndn4/Cluster7_pkt2 - ndn4/Cluster2_pkt2                             |
|                                ndn4/IO3_1_pkt2 - ndn4/IO2_0_pkt2                                |
|   csr_request_nw/csr_request_nw_R5C2_Switch150 - csr_request_nw/csr_request_nw_R0C2_Switch130   |
| csr_response_nw/csr_response_nw_R5C2_Switch150 - csr_response_nw/csr_response_nw_R0C2_Switch130 |
|                           dn/dn_R5C2_Switch150 - dn/dn_R0C2_Switch130                           |
|                       ndn1/ndn1_R5C2_Switch150 - ndn1/ndn1_R0C2_Switch130                       |
|                       ndn2/ndn2_R5C2_Switch150 - ndn2/ndn2_R0C2_Switch130                       |
|                       ndn4/ndn4_R5C2_Switch150 - ndn4/ndn4_R0C2_Switch130                       |
+-------------------------------------------------------------------------------------------------+
### ignored mismatched output port numbering:
    ndn1_R5C2_Switch150_O3 (index = 2) v.s. ndn1_R0C2_Switch130_O3 (index = 3)
### ignored mismatched output port numbering:
    ndn1_R5C2_Switch150_O4 (index = 3) v.s. ndn1_R0C2_Switch130_O4 (index = 4)
### ignored mismatched output port numbering:
    ndn2_R5C2_Switch150_O1 (index = 3) v.s. ndn2_R0C2_Switch130_O4 (index = 4)
### ignored mismatched output port numbering:
    ndn2_R5C2_Switch150_O4 (index = 2) v.s. ndn2_R0C2_Switch130_O3 (index = 3)</pre>
</div></div><p>To wrap up, we can investigate the source of tiling mismatches starting with the two options <code>DEBUG_GRAPH_MISMATCH </code>and <code>DEBUG_PARAMS_MISMATCH</code> to see if there’s any node level mismatch. If not, we can continue by enabling the <code>IGNORE_PORT_NUMBERING_MISMATCH</code>option to investigate edge level mismatch. Hopefully, this would allow us to identify the source of mismatch quickly.</p><p /><p class="media-group"><a href="/wiki/spaces/ENGR/pages/1047461895/Debugging+Tiling+Mismatch?preview=%2F1047461895%2F1047691276%2FMAES_7732.log"><span style="background: url('/wiki/s/-672721829/6452/d621ad2a33e27b90ca05c475b216bfab745e08a2/1000.0.0-d621ad2a33e2/_/download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-medium-file.png'); width: 250px; height: 95px; display: inline-block; padding-top: 155px; margin: 2px; border: 1px solid #ddd; text-align: center; vertical-align: text-bottom; text-decoration: none; font-size: 12px; color: #000;">MAES_7732.log</span></a><a href="/wiki/spaces/ENGR/pages/1047461895/Debugging+Tiling+Mismatch?preview=%2F1047461895%2F1047199773%2FMAES_7743_%231.log"><span style="background: url('/wiki/s/-672721829/6452/d621ad2a33e27b90ca05c475b216bfab745e08a2/1000.0.0-d621ad2a33e2/_/download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-medium-file.png'); width: 250px; height: 95px; display: inline-block; padding-top: 155px; margin: 2px; border: 1px solid #ddd; text-align: center; vertical-align: text-bottom; text-decoration: none; font-size: 12px; color: #000;">MAES_7743_#1.log</span></a><a href="/wiki/spaces/ENGR/pages/1047461895/Debugging+Tiling+Mismatch?preview=%2F1047461895%2F1047822343%2FMAES_7743_%232.log"><span style="background: url('/wiki/s/-672721829/6452/d621ad2a33e27b90ca05c475b216bfab745e08a2/1000.0.0-d621ad2a33e2/_/download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-medium-file.png'); width: 250px; height: 95px; display: inline-block; padding-top: 155px; margin: 2px; border: 1px solid #ddd; text-align: center; vertical-align: text-bottom; text-decoration: none; font-size: 12px; color: #000;">MAES_7743_#2.log</span></a></p><p />