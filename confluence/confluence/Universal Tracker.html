<p><strong>Contents</strong></p><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759723908582 {padding: 0px;}
div.rbtoc1759723908582 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759723908582 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759723908582'>
<ul class='toc-indentation'>
<li><a href='#UniversalTracker-Purpose'>Purpose</a></li>
<li><a href='#UniversalTracker-Requirements'>Requirements</a>
<ul class='toc-indentation'>
<li><a href='#UniversalTracker-Verification'>Verification</a></li>
<li><a href='#UniversalTracker-StatisticsReporting'>Statistics Reporting</a></li>
<li><a href='#UniversalTracker-RuntimeLogging'>Runtime Logging</a></li>
<li><a href='#UniversalTracker-FuturePossibilities'>Future Possibilities</a></li>
</ul>
</li>
<li><a href='#UniversalTracker-DefinitionsNeededby8/2'>Definitions Needed by 8/2</a></li>
</ul>
</div></p><h1 id="UniversalTracker-Purpose">Purpose</h1><p>The purpose of a universal tracker is to have one standard API to a wrapper that can support multiple requirements such as</p><ul><li>verification</li><li>statistic reporting</li><li>Runtime logging</li></ul><p>The reason for combining these functions into one wrapper is that there is a high degree of overlap in the information that needs to be passed. There is also a common place in the model where this information can be captured, regardless of whether it is for verification, statistics, or logging, so creating one wrapper for all prevents the need for a different function call for each requirement.</p><h1 id="UniversalTracker-Requirements">Requirements</h1><h2 id="UniversalTracker-Verification">Verification</h2><p>To support verification with tempo (link to confluence page), there's needs to be a tracker function call at each native interface and each ncore interface. This can be easily done for AXI, CHI, and Ncore interfaces for all units by placing the function call inside the AXI-TLM, CHI-TLM, and CMUX-TLM.</p><p>An additional need for tempo is to track cache accesses: lookups, hits, misses, and evictions. Since there is no common code for ccp, the function calls will need to be placed in both the IOAIU and DMI.</p><p>There may be a need for additional verification code in the wrapper. For example, credit overflow and underflow can be checked in the wrapper if tempo does not provide this.</p><h2 id="UniversalTracker-StatisticsReporting">Statistics Reporting</h2><p>Reporting can be accomplished in two ways: an an event or as a summary. Event reporting is recording data for every individual event: for example a credit used/returned, a cache lookup/hit/miss.  By reporting every individual event, a graph can be displayed of activity across a simulation. By contrast, a summary report is only given at end of simulation: total/max/min credit usage, histogram, % hit/miss.</p><p>For EA we will only support summary reports, not event reports. However, summary reports are based upon accumulation of events. So there should be a path for future enhancement to print a full log of events to a file or connect directly to Maestro.</p><p>If a wrapper function call is put in place to support tempo, then we can support the following statistics for EA 3.0 in the same wrapper:</p><ul><li>concerto<ul><li>totals of each message type</li><li>histogram of credits</li><li>dce directory utilization</li></ul></li><li>ccp in ioaiu and dmi<ul><li>total lookups, hits, misses, evictions</li><li>hit/miss %</li><li>utilization (requires that fills are reported with set and way)</li></ul></li><li>native transactions<ul><li>total native transactions, broken out by reads and writes</li><li>total native data transferred, broken out by reads and writes</li><li>read and write bandwidth</li><li>min, max, average latency of native transactions</li></ul></li></ul><h2 id="UniversalTracker-RuntimeLogging">Runtime Logging</h2><p>If a wrapper function call is put in place to support tempo, then the same wrapper can be used to print progress statements to a log. For example</p><ul><li>begin of each concerto message</li><li>begin of each native transaction, optionally enabled</li><li>begin of each cache lookup or result, optionally enabled</li></ul><p>For ncore2, these statements were placed within each unit, with format controlled by the specific coder. By placing these in a central location in ncore3, we can enforce a standard format and develop a set of enables that are run-time controllable.</p><h2 id="UniversalTracker-FuturePossibilities">Future Possibilities</h2><p>In addition to the above uses, a standard wrapper function could be enhanced to support</p><ul><li>correlation.</li><li>trace capture. Print out native transactions at the master in STL format</li><li>heartbeat. Display a message at certain intervals or when a transaction is seen with a certain address</li><li>standardized assertions</li></ul><h1 id="UniversalTracker-DefinitionsNeededby8/2">Definitions Needed by 8/2</h1><ul><li>function call examples to place in CMUX and AXI TLM</li><li>function call examples for ccp lookup, and results</li></ul><p>Goal is to have these defined by 8/2 so can be coded into all units.</p><p> </p>