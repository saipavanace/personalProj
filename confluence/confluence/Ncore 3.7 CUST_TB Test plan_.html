<hr/><style>[data-colorid=tugadbsqyn]{color:#0747a6} html[data-color-mode=dark] [data-colorid=tugadbsqyn]{color:#5999f8}[data-colorid=zq50web6su]{color:#0747a6} html[data-color-mode=dark] [data-colorid=zq50web6su]{color:#5999f8}[data-colorid=fhp5phttgf]{color:#0747a6} html[data-color-mode=dark] [data-colorid=fhp5phttgf]{color:#5999f8}[data-colorid=iugthjhq3j]{color:#0747a6} html[data-color-mode=dark] [data-colorid=iugthjhq3j]{color:#5999f8}[data-colorid=nynxzfboqc]{color:#0747a6} html[data-color-mode=dark] [data-colorid=nynxzfboqc]{color:#5999f8}[data-colorid=kt1biy2634]{color:#0747a6} html[data-color-mode=dark] [data-colorid=kt1biy2634]{color:#5999f8}[data-colorid=ed4mrw21r0]{color:#0747a6} html[data-color-mode=dark] [data-colorid=ed4mrw21r0]{color:#5999f8}[data-colorid=icqu9tkucw]{color:#0747a6} html[data-color-mode=dark] [data-colorid=icqu9tkucw]{color:#5999f8}[data-colorid=uv3fdi3a0v]{color:#0747a6} html[data-color-mode=dark] [data-colorid=uv3fdi3a0v]{color:#5999f8}[data-colorid=oonol5ud5p]{color:#0747a6} html[data-color-mode=dark] [data-colorid=oonol5ud5p]{color:#5999f8}[data-colorid=jkwdtnnb94]{color:#0747a6} html[data-color-mode=dark] [data-colorid=jkwdtnnb94]{color:#5999f8}[data-colorid=pma8n2s95y]{color:#0747a6} html[data-color-mode=dark] [data-colorid=pma8n2s95y]{color:#5999f8}[data-colorid=hd41s1d55q]{color:#0747a6} html[data-color-mode=dark] [data-colorid=hd41s1d55q]{color:#5999f8}[data-colorid=a5yth9hu1g]{color:#0747a6} html[data-color-mode=dark] [data-colorid=a5yth9hu1g]{color:#5999f8}[data-colorid=c9awya0jge]{color:#0747a6} html[data-color-mode=dark] [data-colorid=c9awya0jge]{color:#5999f8}[data-colorid=tqk76g6d19]{color:#0747a6} html[data-color-mode=dark] [data-colorid=tqk76g6d19]{color:#5999f8}[data-colorid=xvxbhe7ulq]{color:#0747a6} html[data-color-mode=dark] [data-colorid=xvxbhe7ulq]{color:#5999f8}[data-colorid=apx7puyzz9]{color:#0747a6} html[data-color-mode=dark] [data-colorid=apx7puyzz9]{color:#5999f8}</style><ul><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#History" rel="nofollow"><span data-colorid="ed4mrw21r0">History</span></a></p><ul><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Version" rel="nofollow"><span data-colorid="hd41s1d55q">Version</span></a></p></li></ul></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Review-History" rel="nofollow"><span data-colorid="oonol5ud5p">Review History</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Reference-Documents%2FLinks" rel="nofollow"><span data-colorid="apx7puyzz9">Reference Documents/Links</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Introduction" rel="nofollow"><span data-colorid="icqu9tkucw">Introduction</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Testbench-Description%3A" rel="nofollow"><span data-colorid="zq50web6su">Testbench Description</span></a></p><ul><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#TB-Diagram" rel="nofollow"><span data-colorid="pma8n2s95y">TB diagram</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Test-Bench-Structure" rel="nofollow"><span data-colorid="tqk76g6d19">Testbench structure</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Supported-VIP-and-Simulators%3A" rel="nofollow"><span data-colorid="iugthjhq3j">Supported VIP and Simulators</span></a></p></li></ul></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Directory-Structure%3A" rel="nofollow"><span data-colorid="xvxbhe7ulq">Directory Structure</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Execution-Flow" rel="nofollow"><span data-colorid="c9awya0jge">Execution Flow</span></a></p><ul><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Maestro-Flow" rel="nofollow"><span data-colorid="a5yth9hu1g">Maestro</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Runsim-flow" rel="nofollow"><span data-colorid="jkwdtnnb94">Runsim</span></a></p></li></ul></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Configurations" rel="nofollow"><span data-colorid="kt1biy2634">Configurations</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Stimulus-Description%3A" rel="nofollow"><span data-colorid="nynxzfboqc">Testcases Description</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Running-a-test%3A" rel="nofollow"><span data-colorid="uv3fdi3a0v">Running a test</span></a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/879919193/Ncore+3.7+CUST_TB+Test+plan#Config-Creation-Steps" rel="nofollow"><span data-colorid="fhp5phttgf">Config creation</span></a></p></li><li><p><span data-colorid="tugadbsqyn">Future Improvements</span></p></li></ul><h2 id="Ncore3.7CUST_TBTestplan:-History"><strong>History</strong></h2><h3 id="Ncore3.7CUST_TBTestplan:-Version">Version</h3><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="3ef63eea-6656-4ad4-9a76-d46fe7098154" class="confluenceTable"><colgroup><col style="width: 190.0px;"/><col style="width: 190.0px;"/><col style="width: 190.0px;"/><col style="width: 190.0px;"/></colgroup><tbody><tr><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, var(--ds-background-accent-gray-subtlest, #F1F2F4))" class="confluenceTh"><p>Version</p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, var(--ds-background-accent-gray-subtlest, #F1F2F4))" class="confluenceTh"><p>Date</p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, var(--ds-background-accent-gray-subtlest, #F1F2F4))" class="confluenceTh"><p>Comments</p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, var(--ds-background-accent-gray-subtlest, #F1F2F4))" class="confluenceTh"><p>Author</p></th></tr><tr><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>0.0</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>26 March 2025</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Create initial structure and added reference documents</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p><a class="confluence-userlink user-mention current-user-mention" data-account-id="624b3807a629c30068a79f50" href="https://arterisip.atlassian.net/wiki/people/624b3807a629c30068a79f50?ref=confluence" target="_blank" data-linked-resource-id="790813" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Sai Pavan Yaraguti</a><a class="confluence-userlink user-mention" data-account-id="712020:8f1e1572-cdc5-4487-b043-1a0e740fd71a" href="https://arterisip.atlassian.net/wiki/people/712020:8f1e1572-cdc5-4487-b043-1a0e740fd71a?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Aatman Kansagra (Deactivated)</a> </p></td></tr></tbody></table></div><h2 id="Ncore3.7CUST_TBTestplan:-ReviewHistory"><strong>Review History</strong></h2><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="0bc32f7c-7049-49eb-8777-0e2c6c77c6f2" class="confluenceTable"><colgroup><col style="width: 48.0px;"/><col style="width: 48.0px;"/><col style="width: 524.0px;"/><col style="width: 140.0px;"/></colgroup><tbody><tr><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, var(--ds-background-accent-gray-subtlest, #F1F2F4))" class="confluenceTh"><p>Version</p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, var(--ds-background-accent-gray-subtlest, #F1F2F4))" class="confluenceTh"><p>Date</p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, var(--ds-background-accent-gray-subtlest, #F1F2F4))" class="confluenceTh"><p>Attendees</p></th><th data-highlight-colour="var(--ds-background-accent-gray-subtlest, var(--ds-background-accent-gray-subtlest, #F1F2F4))" class="confluenceTh"><p>Notes</p></th></tr><tr><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td></tr></tbody></table></div><h3 id="Ncore3.7CUST_TBTestplan:-ReferenceDocuments/Links"><strong>Reference Documents/Links</strong></h3><ul><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16162773/Standard+Protocols+Specs?preview=/16162773/201818182/IHI0050F_amba_chi_architecture_spec.pdf" rel="nofollow">CHI_PROTOCOL_SPECIFICATION</a></p></li><li><p><a class="external-link" href="https://developer.arm.com/documentation/ihi0022/hc/?lang=en" rel="nofollow">AMBA PROTOCOL SPECIFICATION</a></p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/444301322/NCORE+System+Booting" data-linked-resource-id="444301322" data-linked-resource-version="7" data-linked-resource-type="page">NCORE_SYSTEM_BOOTING</a> </p></li><li><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/417628298/Customer+Testbench" data-linked-resource-id="417628298" data-linked-resource-version="22" data-linked-resource-type="page">CUSTOMER_TB DETAIL</a></p></li></ul><h3 id="Ncore3.7CUST_TBTestplan:-1.Introduction"><strong>1. Introduction</strong></h3><p style="margin-left: 30.0px;">CUST_TB: <br/>CUSTOMER TESTBENCH is an example testbench for the customers.  There are multiple interfaces like CHI, ACE, AXI, ACE-LITE to initiate transactions and communicates with Distributed Coherency Enforcement Unit (DCE), Distributed Memory Interface (DMI), other Agent Interface Units (AIUs), Distributed Virtual Memory Engine (DVE) or Distributed IO Interface (DII)</p><h3 id="Ncore3.7CUST_TBTestplan:-2.TestbenchDescription:"><strong>2. Testbench Description:</strong></h3><h4 style="margin-left: 30.0px;" id="Ncore3.7CUST_TBTestplan:-2.1TBDiagram">2.1 TB Diagram</h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" alt="c4486648-af1f-48b1-86a2-5d5600de5b3e.png" width="1100" src="https://arterisip.atlassian.net/wiki/download/attachments/879919193/c4486648-af1f-48b1-86a2-5d5600de5b3e.png?api=v2"/></span><p/><p style="margin-left: 30.0px;">NOTE: FSYS Scoreboard and the SMI Monitors are not present in the customer TB as of today (WIP).</p><h4 id="Ncore3.7CUST_TBTestplan:-2.2TestBenchStructure">2.2 Test Bench Structure</h4><h4 id="Ncore3.7CUST_TBTestplan:-TBTop">TB Top</h4><ul><li><p>This file is the interface between the RTL and DV. We instantiate Ncore chip (DUT) and make the necessary connections between inputs and outputs of the DUT to the wires in the interface</p></li><li><p>The UVM packages are imported in this file along with the inclusion of required testcases</p></li><li><p>All required interfaces are also instantiated at this level, and these are set into the UVM configDB for later retrieval from Monitors, Drivers etc.</p></li></ul><p><strong>VIP Configuration File</strong></p><p>This is the main file in which we control and configure the VIP to describe our design for proper stimulus. For example, address width, data size, supported features, type of interface etc.</p><p><strong>Environment</strong></p><p>This is the file in which we do following important tasks</p><ul><li><p>Instantiate and create register model</p></li><li><p>Instantiate and create VIP environments and set them to config DB for use by the VIPs</p></li><li><p>Instantiate and create VIP configuration object and set them to config DB for use by the VIPs</p></li></ul><p>NOTE: This file currently does necessary overrides of VIP classes with our custom classes. However, it is better we move this to the base test to later child tests modify the overrides</p><p><strong>Boot Sequence</strong></p><p>This sequence drives necessary stimulus to configure/bring up Ncore before we can drive any traffic into the system.</p><p>NOTE: Required tasks to boot NCORE are specified comprehensively in <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/444301322/NCORE+System+Booting" data-linked-resource-id="444301322" data-linked-resource-version="7" data-linked-resource-type="page">this </a>page</p><p><strong>CSR Access</strong></p><p>The register model is instantiated in the environment and this model is used to read and write to the registers</p><p>NOTE: We did not implement the complete UVM REG MODEL, especially the predictor and register mirroring. This will be a future enhancement</p><p><strong>Base Sequence</strong></p><p>The base sequence has 2 important functions:</p><ul><li><p>Instantiate a register model to which we pass the handle to the register model instantiated in the environment. This allows us to access registers in sequences</p></li><li><p>Implement all the common functions that the child sequences commonly need to drive stimulus. Basically, all common logic in all sequences should go into this class</p></li></ul><p><strong>Base Virtual Sequence</strong></p><p>Base virtual sequence is started in the base test and it in turn starts the base sequence</p><p><strong>Base Test</strong></p><p>The base test has the following functions:</p><ul><li><p>Instantiate and build the environment</p></li><li><p>Construct general functions like report server, timeout catcher etc</p></li><li><p>Create and start the boot sequence</p></li></ul><p><strong>Tests</strong></p><p>Each test (which extends from the base test) exercises a single and specific scenario by calling a virtual sequence or sequence which generates a particular stimulus</p><p>For maintenance and debuggability reasons, we have a single test in a single file starting a single sequence.</p><h4 id="Ncore3.7CUST_TBTestplan:-2.3SupportedVIPandSimulators:"><strong>2.3 Supported VIP and Simulators</strong>: </h4><p>VIP:             SYNOPSYS and CADENCE<br/>Simulators: VCS and NCSIM</p><h3 id="Ncore3.7CUST_TBTestplan:-3.DirectoryStructure:"><strong>3. Directory Structure: </strong></h3><p>There are two different directories for SYNOPSYS and CADENCE testbenches.<br/>|-- &ldquo;cust_tb&ldquo;</p><p>|--|-- &ldquo;snps&rdquo; &amp; &ldquo;cdns&rdquo;</p><p>|--|--|-- &ldquo;tb &ldquo;</p><p>|--|--|-- &ldquo;tests&rdquo;</p><p>|--|--|-- &ldquo;env &ldquo;</p><p>|--|--|-- &ldquo;vseq&ldquo;<br/>|--|--|-- &ldquo;seq&ldquo;<br/></p><h3 id="Ncore3.7CUST_TBTestplan:-4.ExecutionFlow"><strong>4. Execution Flow</strong></h3><h4 id="Ncore3.7CUST_TBTestplan:-4.1MaestroFlow">4.1 Maestro Flow</h4><ul><li><p>The user configured Maestro GUI to configure the design</p></li><li><p>Towards the end of this process, Maestro dumps RTL and DV files</p></li><li><p>The DV files that are specified in the custTb.json file in dv/cust_tb/tb/ and the RTL files are pulled into Maestro on every Maestro build</p></li><li><p>Maestro will also generate an MPF binary file (which has the configuration information) and optionally a TCL file</p></li><li><p>We can go to the dv folder in Maestro output located at exe/output/tb/VCS/ , and run a specific testcase using the Makefile. The Makefile is also generated by Maestro (how? Need to check)</p></li><li><p>This is mainly how the customer runs the customer Testbench<br/></p></li></ul><h4 id="Ncore3.7CUST_TBTestplan:-4.2Runsimflow">4.2 Runsim flow</h4><ul><li><p>We can use the MPF file generated by Maestro in the above step and write a TCL file to source the MPF or use the TCL file generated by Maestro directly or we can also handwrite TCL to create a config</p></li><li><p>The TCL source file in the above step will be added to the &ldquo;runsim_testlist.json&ldquo;file in &ldquo;non-customer Testbenches&ldquo;which can then be picked up by Runsim.</p></li><li><p>When we launch a test using runsim, the script invokes Maestro under the hood with the TCL added in above step as the source.</p></li><li><p>At this point, Maestro generates the RTL, and the customer TB files just like in Maestro flow</p></li><li><p>Then, runsim invokes the buildTb script, which construct the DV files specific to the unit in which the test is run. For example, if the unit is CHI, build TB constructs CHI related DV files where CHI block will be the DUT (instead of entire NCORE).</p></li><li><p>Then runsim runs the simulation on the generated DV files (by build TB script) and generated RTL (by Maestro) and the simulations on them</p></li></ul><p>NOTE: we can enter the command &ldquo;runsim -exe -h&ldquo;to get the table of steps involved in runsim</p><h3 id="Ncore3.7CUST_TBTestplan:-5.Configurations"><strong>5. Configurations</strong></h3><p>Configurations, Regressions with respect to simulators</p><div class="table-wrap"><table data-table-width="1555" data-layout="center" data-local-id="98d76ce5-b090-44c4-8a79-c6b235e585d0" class="confluenceTable"><colgroup><col/><col style="width: 232.0px;"/><col style="width: 693.0px;"/><col style="width: 588.0px;"/></colgroup><tbody><tr><th class="numberingColumn confluenceTh"/><th class="confluenceTh"><p>Configuration </p></th><th class="confluenceTh"><p>Synopsys tools</p></th><th class="confluenceTh"><p>Cadence Tools</p></th></tr><tr><td class="numberingColumn confluenceTd">1</td><th class="confluenceTh"><p>hw_cfg_meye_q7_dii</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-AXI5-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SVT</p></td><td class="confluenceTd"><p>XRUN, VIP_AXI_ACE_5, VIP_AXI4_ACE, VIP_AXI_5</p></td></tr><tr><td class="numberingColumn confluenceTd">2</td><th class="confluenceTh"><p>hw_config_nxpauto</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-CHI-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SVT</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">3</td><th class="confluenceTh"><p>hw_config_tencent</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SVT</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">4</td><th class="confluenceTh"><p>hw_config_transchip</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SVT</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">5</td><th class="confluenceTh"><p>hw_config_scalinx_mpf</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-AXI5-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SVT</p></td><td class="confluenceTd"><p>XRUN, VIP_AXI_ACE_5, VIP_AXI4_ACE, VIP_AXI_5</p></td></tr><tr><td class="numberingColumn confluenceTd">6</td><th class="confluenceTh"><p>hw_cfg_ncore37_no_owo</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-AXI5-SVT, VIP-AMBA-CHI-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SVT</p></td><td class="confluenceTd"><p>XRUN, VIP_AXI_ACE_5, VIP_AMBA5_CHIB, VIP_AXI4_ACE, VIP_AXI_5</p></td></tr><tr><td class="numberingColumn confluenceTd">7</td><th class="confluenceTh"><p>hw_cfg_ncore37</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-AXI5-SVT, VIP-AMBA-CHI-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SVT</p></td><td class="confluenceTd"><p>XRUN, VIP_AXI_ACE_5, VIP_AMBA5_CHIB, VIP_AXI4_ACE, VIP_AXI_5</p></td></tr><tr><td class="numberingColumn confluenceTd">8</td><th class="confluenceTh"><p>hw_config_resiltech_onlyCHI_B</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-CHI-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SV</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">9</td><th class="confluenceTh"><p>hw_cfg_tenstorrent_mpf</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-CHI-SVT, VIP-AMBA-APB-SVT,</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">10</td><th class="confluenceTh"><p>hw_cfg_tenstorrent_apb</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-APB-SVT, VIP-AMBA-CHI-SVT</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">11</td><th class="confluenceTh"><p>hw_cfg_ultrarisc_mpf</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-CHI-SVT, VIP-AMBA-APB-SVT</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">12</td><th class="confluenceTh"><p>hw_config_intel</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-CHI-SVT, VIP-AMBA-APB-SVT, VIP-AMBA-ACE5-SV</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">13</td><th class="confluenceTh"><p>hw_config_41</p></th><td class="confluenceTd"><p>VCS, VIP-AMBA-AXI-SVT, VIP-AMBA-CHI-SVT, VIP-AMBA-APB-SVT,VIP-AMBA-ACE5-SV</p></td><td class="confluenceTd"><p>NA</p></td></tr><tr><td class="numberingColumn confluenceTd">14</td><th class="confluenceTh"><p>hw_config_andes_mpf</p></th><td class="confluenceTd"><p>NA</p></td><td class="confluenceTd"><p>XRUN, VIP_AMBA5_CHIE, VIP_AXI4_ACE,<br/></p></td></tr></tbody></table></div><h3 id="Ncore3.7CUST_TBTestplan:-6.StimulusDescription:"><strong>6. Stimulus Description:</strong></h3><div class="table-wrap"><table data-table-width="1417" data-layout="center" data-local-id="1988ad47-7936-4b92-a28d-0c58ad306243" class="confluenceTable"><colgroup><col/><col style="width: 376.0px;"/><col style="width: 614.0px;"/><col style="width: 57.0px;"/><col style="width: 118.0px;"/><col style="width: 251.0px;"/></colgroup><tbody><tr><th class="numberingColumn confluenceTh"/><th data-highlight-colour="#f4f5f7" class="confluenceTh"><p>Scenario</p></th><th data-highlight-colour="#f4f5f7" class="confluenceTh"><p>Description</p></th><th data-highlight-colour="#f4f5f7" class="confluenceTh"><p>Done</p></th><th data-highlight-colour="#f4f5f7" class="confluenceTh"><p>Visible to customer</p></th><th data-highlight-colour="#f4f5f7" class="confluenceTh"><p>Plusargs</p></th></tr><tr><td class="numberingColumn confluenceTd">1</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_sys_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Runs boot-up sequence that configures registers required to initialize the DUT.</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">2</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_chi_directed_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Send transactions only from CHI initiators</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>&nbsp;Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">3</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_ace_directed_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Send transactions only from ACE or ACE-Lite initiators</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>&nbsp;Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">4</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_connectivity_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Send transactions from all initiators to all memory regions in sequent orde</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>&nbsp;Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">5</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_bandwidth_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>send transactions from all initiators to all memory regions in sequent order and measure bandwidth and latency of all transactions</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>&nbsp;Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>performance_test</p><p>num_txns_per_initiator_target</p></td></tr><tr><td class="numberingColumn confluenceTd">6</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_bandwidth_test_multi</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>send transactions from all initiators to all memory regions in parallel order and measure bandwidth and latency of all transactions</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>&nbsp;Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>performance_test</p></td></tr><tr><td class="numberingColumn confluenceTd">7</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_snoop_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Caches of 1st CAIU is warmed up initially and then other initiators read from the warmed-up cache.</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>&nbsp;Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>performance_test</p></td></tr><tr><td class="numberingColumn confluenceTd">8</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_cache_access_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Send transactions from all initiators which includes accessing of SMC and proxy cache</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>&nbsp;Y</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>performance_test<br/>producer_consumer_m2_order</p></td></tr><tr><td class="numberingColumn confluenceTd">9</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_ral_reset_value_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Checks all registers to make sure that the value read is the expected reset value</p></td><td class="confluenceTd"><p>Y</p></td><td class="confluenceTd"><p>Y</p></td><td class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">10</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_ral_bit_bash_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Evaluates each bit of every Ncore registers to ensure resulting value matches the mirrored value </p></td><td class="confluenceTd"><p>Y</p></td><td class="confluenceTd"><p>Y</p></td><td class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">11</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_fsc_ralgen_err_intr_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>Checks for software triggered error interrupt.</p></td><td class="confluenceTd"><p>Y</p></td><td class="confluenceTd"><p>Y</p></td><td class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">12</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_apb_debug_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td class="confluenceTd"><p/></td><td class="confluenceTd"><p>N</p></td><td class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">13</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_memregions_override_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td class="confluenceTd"><p/></td><td class="confluenceTd"><p>N</p></td><td class="confluenceTd"><p>override_memregions</p></td></tr><tr><td class="numberingColumn confluenceTd">14</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_reg_wr_rd_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td class="confluenceTd"><p/></td><td class="confluenceTd"><p>N</p></td><td class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">15</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_fsc_ral_reset_value_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td class="confluenceTd"><p/></td><td class="confluenceTd"><p>N</p></td><td class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">16</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_fsc_ral_bit_bash_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td class="confluenceTd"><p/></td><td class="confluenceTd"><p>N</p></td><td class="confluenceTd"><p/></td></tr><tr><td class="numberingColumn confluenceTd">17</td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p>ncore_fsc_Uncorr_Error_test</p></td><td data-highlight-colour="var(--ds-surface, #FFFFFF)" class="confluenceTd"><p/></td><td class="confluenceTd"><p/></td><td class="confluenceTd"><p>N</p></td><td class="confluenceTd"><p>inject_uncorrectable_error</p></td></tr></tbody></table></div><h3 id="Ncore3.7CUST_TBTestplan:-7.Runningatest:"><strong>7. Running a test: </strong></h3><h4 id="Ncore3.7CUST_TBTestplan:-UsingMakeFile">Using Make File</h4><p style="margin-left: 30.0px;">       There are 2 ways we can run a customer Testbench test using the Make file</p><h4 id="Ncore3.7CUST_TBTestplan:-MaestroGUI">Maestro GUI</h4><h4 id="Ncore3.7CUST_TBTestplan:-GeneratedTBfolder">Generated TB folder</h4><ul><li><p>We always have a generated stand-alone testbench dumped under the 'exe' at output $WORK_TOP/debug/exe/output/tb/VCS path.</p></li><li><p>There is also a Makefile dumped in that path and this make file can be used independently to run a testcase.</p></li><li><p>However, we need to setup a couple of environment variables (this is as of current setup. Need to check if this can be cleaned up)</p><ul><li><p>setenv PROJ_HOME &lt;path to the output directory&gt;   (for example, in the path mentioned above, it is setenv PROJ_HOME $WORK_TOP/debug/exe/output)</p></li><li><p>setenv SNPS_AMBA_VIP /engr/dev/tools/synopsys/2020.12_amba_vip</p></li></ul></li></ul><h4 id="Ncore3.7CUST_TBTestplan:-UsingRunsim">Using Runsim</h4><ul><li><p>Using runsim flow for customer TB is same like any other testbench. Here is the general command to run the test: runsim -e cust_tb -c &lt;config_name&gt; -t &lt;test name&gt;</p></li></ul><h4 id="Ncore3.7CUST_TBTestplan:-ReproducingcustomerIssue"> Reproducing customer Issue</h4><p>We need to take the following steps to reproduce a customer issue using runsim flow</p><ul><li><p>We need to get the customer config in some format, either in TCL or MPF</p></li><li><p>Then we create a directory under $WORK_TOP/../hw-test-projects/&lt;proj_name&gt;_configs/base_configs with an appropriate name and copy the config given to us into that directory</p></li><li><p>If we get a TCL config, we can add that to runsim file directly, but if we get a MPF file, we need to convert it to TCL (just source that in a TCL file) and use that TCL in runsim instead</p></li><li><p>Once we add the TCL file in runsim, we have the configs available in the runsim flow, then we can add tests and run as normal</p></li></ul><h3 id="Ncore3.7CUST_TBTestplan:-8.ConfigCreationSteps"><strong>8. Config Creation Steps</strong></h3><h4 id="Ncore3.7CUST_TBTestplan:-UsingMaestroGUI">Using Maestro GUI</h4><p>Detailed explanation of step-by-step process to construct a config in Maestro is provided <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/757792866/Ncore+Parameters" data-linked-resource-id="757792866" data-linked-resource-version="5" data-linked-resource-type="page">here</a></p><h4 id="Ncore3.7CUST_TBTestplan:-UsingRandomizer">Using Randomizer</h4><p>TBD</p><h4 id="Ncore3.7CUST_TBTestplan:-UsingexistingMPFfile">Using existing MPF file</h4><h4 id="Ncore3.7CUST_TBTestplan:-Manual(inTCL)">Manual (in TCL) </h4>