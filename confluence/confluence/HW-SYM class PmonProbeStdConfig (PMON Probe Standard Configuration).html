<p>This is a JS class that can be found in the following path and file:<br/><strong>hw-lib/js/sym_csr_lib.js</strong></p><h2 id="HW-SYMclassPmonProbeStdConfig(PMONProbeStandardConfiguration)-Purpose">Purpose</h2><p>The class is meant to be used for generating JSON params for the <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16163549/HW-CTF+pmon_probe" data-linked-resource-id="16163549" data-linked-resource-version="43" data-linked-resource-type="page">HW-CTF pmon_probe</a> such that they can be used to provide a basic set of features to help DV verify PMON functionality and connectivity in any network generated by Maestro or standalone scripts. This will also act as a base class for any other PMON configuration class (such as ). This works in conjunction with the <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16171969/HW-SYM+class+PmonStatsStdConfig+PMON+Stats+Standard+Configuration" data-linked-resource-id="16171969" data-linked-resource-version="25" data-linked-resource-type="page">HW-SYM class PmonStatsStdConfig (PMON Stats Standard Configuration)</a>. The standard set of features that this configuration provides are:</p><p><strong>Packet count</strong>: Total number of packets that pass through a link (Request or Response).</p><h2 id="HW-SYMclassPmonProbeStdConfig(PMONProbeStandardConfiguration)-Events">Events</h2><p>There are a total of 3 reference events defined in this configuration.</p><ol><li><em>ref_evt_beat_sent_</em> : Event occurs each time a ready valid handshake occurs on the ATP interface.</li><li><em>ref_evt_pkt_start_</em>: Event occurs each time a packet's first beat arrives.</li><li><em>ref_evt_pkt_end_</em>: Event occurs each time a packet's last beat arrives.</li></ol><p>All reference events go out as outputs of the probe and as the first three events in the <em>evtInterfaces</em>. The following conditional events are defined in this configuration, all of which are local to the block:</p><ol><li><em>target_hit</em>: This is generated whenever the 'H_tid' field of the packet matches the programmed target ID in the <em>target</em> register field. This goes out as an interrupt.</li></ol><p>In order to generate the above fields, the Probe reads the following packet fields:</p><p>fieldArray = [ &quot;H_tid&quot; ]</p><h2 id="HW-SYMclassPmonProbeStdConfig(PMONProbeStandardConfiguration)-Interrupts">Interrupts</h2><p>The <em>target_hit</em> event described above is also defined as an interrupt.</p><h2 id="HW-SYMclassPmonProbeStdConfig(PMONProbeStandardConfiguration)-Interface(Methods)">Interface (Methods)</h2><p>The class provides the following interface methods:</p><p><em><strong>constructor(nodeId)</strong></em> - The nodeID of the block will be used to generate the ID register for the block.</p><p><strong><em>evtWireInterfaces()</em></strong> - The client can call this method to generate the above event interfaces. This lets the client remain agnostic to in what order the events are arranged in the <em>evtInterfaces</em> array. The client is expected to generate the remaining interfaces (module and local) of the block on it's own and pass it to the params() method.</p><p><strong><em>params(interfaces)</em></strong> - This takes in only one parameter - the interfaces connecting to the PMON probe block and returns all the parameters configured to generate the above events according to provide the basic features. Hence the client can remain agnostic to how the evtDefines, and regFieldDefines data-structure params are filled.</p><h2 id="HW-SYMclassPmonProbeStdConfig(PMONProbeStandardConfiguration)-Interrupts.1">Interrupts</h2><p>This configuration results in generating an <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16160510/interrupt" data-linked-resource-id="16160510" data-linked-resource-version="22" data-linked-resource-type="page">interrupt</a> sub-block to support the <em>target_hit</em> interrupt. The &quot;<em>target_hit</em>&quot; event will generate an interrupt every time it occurs.</p><h2 id="HW-SYMclassPmonProbeStdConfig(PMONProbeStandardConfiguration)-Registers">Registers</h2><p>The user-defined registers include</p><ol><li>Register to store the <em>target</em> field</li></ol><p><br/></p><p>Below is the complete register address structure for the standard configuration:</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Address Offset</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">GLBL_EN</td><td class="confluenceTd">0</td><td class="confluenceTd">Global Enable register for the probe block</td></tr><tr><td class="confluenceTd">PMON_PROBE_USER_0</td><td class="confluenceTd">8</td><td class="confluenceTd">This will have a <em>target</em> field that can be programmed so that the <em>target_hit</em> event occurs when the value matches H_tid field in the packet</td></tr><tr><td class="confluenceTd">INTVR</td><td class="confluenceTd">2048</td><td class="confluenceTd">Interrupt valid register. Bit: 0 corresponds to the <em>target_hit</em> interrupt.</td></tr><tr><td class="confluenceTd">INTMR</td><td class="confluenceTd">2052</td><td class="confluenceTd">Interrupt mask register. Bit: 0 corresponds to the <em>target_hit</em> interrupt.</td></tr><tr><td class="confluenceTd">IDR</td><td class="confluenceTd">4092</td><td class="confluenceTd">Read-only ID register that has the configured ID of the block.</td></tr></tbody></table></div><p><br/></p><p>For details of what fields exist in the above registers and their RW accessibility refer <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16163549/HW-CTF+pmon_probe" data-linked-resource-id="16163549" data-linked-resource-version="43" data-linked-resource-type="page">HW-CTF pmon_probe</a> and <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16160510/interrupt" data-linked-resource-id="16160510" data-linked-resource-version="22" data-linked-resource-type="page">interrupt</a> block descriptions.</p><p><br/></p><p><br/></p><p><br/></p>