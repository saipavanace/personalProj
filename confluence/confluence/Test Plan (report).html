<p> </p><h1 class="western" id="TestPlan(report)-1.0Introduction">1.0 Introduction</h1><p> </p><p>Ncore performance model v1.5 includes generator code component that takes configuration parameters and produces set of files, that can be used to model Ncore system in the virtual platform SystemC environment. Performance model generator also produces script to simplify import of Ncore into Synopsys Platform Architect tool.</p><p> </p><h1 class="western" id="TestPlan(report)-2.0Standaloneenvironmenttests">2.0 Standalone environment tests</h1><p> </p><p>The main goal of standalone tests is to ensure that generator code satisfies quality metrics as standalone component.</p><p>Test requirements:</p><p> </p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="1">2.1 Arteris standard set of lint (eslint) rules</li><li class="checked" data-inline-task-id="2">2.2 Unit tests: Running feature by feature data sets over set of functions:<ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="3">a. Protocol socket pinlistlist extractor AXI, ACE, SFI, OCP</li><li class="checked" data-inline-task-id="4">b. ACHL AST to SC generator</li><li class="checked" data-inline-task-id="5">c. Top level Header file generator</li><li class="checked" data-inline-task-id="6">d. Build script generator</li><li class="checked" data-inline-task-id="7">e. Platform Architect TCL script generator</li><li class="checked" data-inline-task-id="8">f. SystemC APB CSR loader generator</li><li class="checked" data-inline-task-id="9">g. SystemC OCP CSR loader generator</li></ul>
</li></ul>
<p> </p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li data-inline-task-id="10"><p>2.3 Running same tests under code coverage tool (Istanbul)</p></li><li data-inline-task-id="11"><p>2.4 Add negative tests (trigger errors) to achieve 90% line coverage goal</p></li></ul>
<p> </p><h1 class="western" id="TestPlan(report)-3.0Ncoreintegrationtests">3.0 Ncore integration tests</h1><p> </p><p>Performance model generator code to be integrated into codegen and finally Ncore. The goal of the phase is to ensure that Performance Model generator integration into product not causing side effects.</p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="12"><p>3.1 Code integrated into codegen package</p></li><li class="checked" data-inline-task-id="13"><p>3.2 Running on standard codegen acceptance tests (t0: MiniProject.apf, t1:EvalConfig.apf) (Part of Bamboo)</p></li><li class="checked" data-inline-task-id="14"><p>3.3 Running build script for t0, t1 with no errors.</p></li></ul>
<p> </p><p style="margin-left: 60.0px;">Note: This is not yet testing PA integration.</p><p> </p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="15"><p>3.4 Running steps 1 &amp; 2 with full product (Ncore) debug/production version</p></li></ul>
<p> </p><p style="margin-left: 60.0px;">Note: This is a manual test with the GUI. Should automatically fall out of Sikuli automation testing.</p><p> </p><p> </p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="16">3.5 Running Ncore to generate 3 additional configurations (fsys_config2.apf, EyeQ5_reset.apf, SkyRunner.apf).</li></ul>
<h1 class="western" id="TestPlan(report)-4.0UnitlevelSystemCgeneration/compilation">4.0 Unit level SystemC generation / compilation</h1><p> </p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li data-inline-task-id="17"><p>4.1 Making sure that we can configure, build and compile 5 configuration generated in previous stage.</p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="18"><p>4.1.1 MiniProject</p></li><li class="checked" data-inline-task-id="19"><p>4.1.2 EvalConfig</p></li><li class="checked" data-inline-task-id="20"><p>4.1.3 fsys_config2</p></li><li class="checked" data-inline-task-id="21"><p>4.1.4 EyeQ5</p></li><li class="checked" data-inline-task-id="22"><p>4.1.5 SkyRunner</p></li></ul>
</li><li data-inline-task-id="23"><p>4.2 Reporting time and memory consumption for each stage.</p></li><li data-inline-task-id="24"><p>4.3 Objective is to have 0 error during Verilation / Compilation process.</p></li><li class="checked" data-inline-task-id="25"><p>4.4 Report all Verilator / Compilation warnings</p></li></ul>
<p>Everything in this section should be automated. (local script)</p><p> </p><h1 class="western" id="TestPlan(report)-5.0PlatformArchitectenvironmenttests">5.0 Platform Architect environment tests</h1><p> </p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="26"><p>5.1 Create Platform Architect project, import Ncore config, elaborate, compile, run</p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="27"><p>5.1.1 MiniProject</p></li><li class="checked" data-inline-task-id="28"><p>5.1.2 EvalConfig</p></li><li class="checked" data-inline-task-id="29"><p>5.1.3 fsys_config2</p></li><li class="checked" data-inline-task-id="30"><p>5.1.4 EyeQ5</p></li><li class="checked" data-inline-task-id="31"><p>5.1.5 SkyRunner</p></li></ul>
</li><li class="checked" data-inline-task-id="32"><p>5.2 Add clock/reset generators</p></li><li class="checked" data-inline-task-id="33"><p>5.3 Add simple initiators / targets</p></li><li class="checked" data-inline-task-id="34"><p>5.4 Add appropriate CSR loaders (OCP or APB)</p></li><li class="checked" data-inline-task-id="35"><p>5.5 Run CSR init procedure</p></li><li class="checked" data-inline-task-id="36"><p>5.6 run E2E write transaction</p></li><li class="checked" data-inline-task-id="37"><p>5.7 run E2E read transaction</p></li><li class="checked" data-inline-task-id="38"><p>5.8 add A53/A72 models (Using <span>GFRBM_ACE initiator</span>)</p></li><li class="checked" data-inline-task-id="39"><p>5.9 run write transaction</p></li><li class="checked" data-inline-task-id="40"><p>5.10 run read transaction</p></li><li class="checked" data-inline-task-id="41"><p>5.11 over time, extend this with more transactions. (&gt;20 transations done)</p></li></ul>
<p>For now, the above steps will be manually run. Over time, we should automate some part of this, using a platform architect script.</p><p> </p><h1 class="western" id="TestPlan(report)-6.0Modelsimulationspeed">6.0 Model simulation speed</h1><p> </p><p>The goal is to setup environment where: simulation speed / memory footprint can be measured for all designs, and each individual unit. Runtime / memory impact to be profiled.</p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li data-inline-task-id="42"><span>unit level sim speed</span></li><li data-inline-task-id="43"><span>full config sim speed</span></li></ul>
<p> </p><h1 class="western" id="TestPlan(report)-7.0CorrelationtoHW">7.0 Correlation to HW</h1><p> </p><ul class="inline-task-list" data-inline-tasks-content-id="16167065"><li class="checked" data-inline-task-id="44">For v1.5, we intend only to do a manual one-off correlation of one design.</li></ul>
<p> </p>