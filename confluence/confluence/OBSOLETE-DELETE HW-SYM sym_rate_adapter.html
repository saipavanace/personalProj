<h1 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-modulename"><strong>module name</strong></h1><p>sym_rate_adapter</p><p>sym_rate_adapter_in</p><p>sym_rate_adapter_out</p><h1 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-parameters">parameters</h1><h2 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-sym_rate_adapter:"><strong style="font-size: 16.0px;">sym_rate_adapter:</strong></h2><pre>{</pre><pre>  &quot;ratio&quot; : [I,J], // I is then number of in clocks, J is the number of out clocks. Specifies ratio of clocks. </pre><pre>  &quot;jitterOn&quot; : 0 or 1, defaults to 0. 1 is for verification use only. </pre><pre>  &quot;async&quot; : &quot;yes&quot; or &quot;no&quot;.  // are the two clocks asynchronous to one another.</pre><pre>  &quot;depth&quot; : positive integer, // Buffer depth in terms of ATP beats.</pre><pre><br/></pre><pre>  &quot;protectionStyle&quot; : null or {<a class="external-link" href="https://confluence.arteris.com/display/ENGR/protectionStyle" rel="nofollow">protectionStyle</a>},</pre><pre>  &quot;interfaces&quot; : {</pre><pre>    &quot;inClkInterface&quot; : {InterfaceCLK},</pre><pre>    &quot;inPmaControlInterface&quot; : {InterfacePMAControl}, // Optional interface - required when inClkInterface clock domain is switchable</pre><pre>    &quot;outPmaControlInterface&quot; : {InterfacePMAControl}, // Optional interface - required when out ClkInterface clock domain is switchable</pre><pre>    &quot;outClkInterface&quot; : {InterfaceCLK},</pre><pre>    &quot;inInterface&quot; : {InterfaceATP},</pre><pre>    &quot;outInterface&quot; : {InterfaceATP},</pre><pre>    &quot;inProtectionInterface&quot; : {InterfacePROT}, // optional interface. Expected if protectionStyle is not null</pre><pre>    &quot;outProtectionInterface&quot; : {InterfacePROT} // optional interface. Expected if protectionStyle is not null</pre><pre>  }</pre><pre>}</pre><h3 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-sym_rate_adapter_in:">sym_rate_adapter_in:</h3><pre>{</pre><pre>  &quot;ratio&quot; : [I,J], // I is then number of in clocks, J is the number of out clocks. Specifies ratio of clocks. </pre><pre>  &quot;jitterOn&quot; : 0 or 1, defaults to 0. 1 is for verification use only. </pre><pre>  &quot;async&quot; : &quot;yes&quot; or &quot;no&quot;.  // are the two clocks asynchronous to one another.</pre><pre>  &quot;depth&quot; : positive integer, // Buffer depth in terms of ATP beats.</pre><pre><br/></pre><pre>  &quot;protectionStyle&quot; : null or {<a class="external-link" href="https://confluence.arteris.com/display/ENGR/protectionStyle" rel="nofollow">protectionStyle</a>},</pre><pre>  &quot;interfaces&quot; : {</pre><pre>    &quot;clkInterface&quot; : {InterfaceCLK},</pre><pre>    &quot;pmaControlInterface&quot; : {InterfacePMAControl}, // Optional interface - required when clkInterface clock domain is switchable</pre><pre>    &quot;asyncInterface&quot; : {InterfaceAsyncFIFO},</pre><pre>    &quot;asyncCrInterface&quot; : {InterfaceAsyncCrFIFO}, // Optional. Expected if mode is slow2fast</pre><pre>    &quot;inInterface&quot; : {InterfaceATP}, </pre><pre>    &quot;protectionInterface&quot; : {InterfacePROT}  // Optional. Expected if protectionStyle is not null</pre><pre>  }</pre><pre><span>}</span></pre><h3 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-sym_rate_adapter_out:">sym_rate_adapter_out:</h3><pre>{</pre><pre>  &quot;ratio&quot; : [I,J], // I is then number of in clocks, J is the number of out clocks. Specifies ratio of clocks. </pre><pre>  &quot;jitterOn&quot; : 0 or 1, defaults to 0. 1 is for verification use only. </pre><pre>  &quot;async&quot; : &quot;yes&quot; or &quot;no&quot;.  // are the two clocks asynchronous to one another.</pre><pre>  &quot;depth&quot; : positive integer, // Buffer depth in terms of ATP beats.</pre><pre><br/></pre><pre>  &quot;protectionStyle&quot; : null or {<a class="external-link" href="https://confluence.arteris.com/display/ENGR/protectionStyle" rel="nofollow">protectionStyle</a>},</pre><pre>  &quot;interfaces&quot; : {</pre><pre>    &quot;clkInterface&quot; : {InterfaceCLK}, </pre><pre>    &quot;pmaControlInterface&quot; : {InterfacePMAControl}, // Optional interface - required when clkInterface clock domain is switchable</pre><pre>    &quot;asyncInterface&quot; : {InterfaceAsyncFIFO},</pre><pre>    &quot;asyncCrInterface&quot; : {InterfaceAsyncCrFIFO}, // Optional. Expected if mode is slow2fast</pre><pre>    &quot;outInterface&quot; : {InterfaceATP},</pre><pre>    &quot;protectionInterface&quot; : {InterfacePROT}  // Optional. Expected if protectionStyle is not null</pre><pre>  }</pre><pre>}</pre><h1 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-ModulesUsed"><strong>Modules Used</strong></h1><p>async_fifo_wt_ctl</p><p>async_fifo_rd_ctl</p><p>async_fifo_reg_dp</p><h1 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-Description"><strong>Description</strong></h1><p>The block has the following block diagram:</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16168860/rate%20adapter.svg?api=v2"></span></p><p>The block always assume it's adjusting slow to fast so ratio[0] must be smaller than ratio[1].</p><p>The block functions identically to the sym_async_adapter, but it filters the valid out in the outInterface based on how full the FIFO is. It communicates that the FIFO is full enough to turn on valid by sending a credit from sym_rate_adapter_in to sym_rate_adapter_out. The credit is sent back when the packet is fully presented on the outInterface.</p><p>Before sending a credit, the async_rate_adapter_in accumulates a packet from the inInterface such that it can be sent with no bubbles on the outInterface should the remainder of the packet on inInterface have no bubbles. The size of the packet is always assumed to be depth beats. If the packet is smaller, then sym_rate_adapter_in starts sends a credit upon the receiving the last beat.</p><p>While only one credit can be sent at a time or returned at a time, both sides keep track of the number of credits that have been sent and returned. The maximum number of credits that can be sent is the depth of the FIFO.</p><h1 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-PowerControl">Power Control</h1><p>The only signal used from both the inPmaControlInterface and outPmaControlInterface is asleep. The circuit below shows how the local resets are controlled when the in side and out side are powered up:</p><p><span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="https://arterisip.atlassian.net/wiki/download/attachments/16168860/async_powerControl.svg?api=v2"></span></span></p><p>The in_off in the top circuit is connected to the in_off through a keeper cell that holds to 1. The out_off on the bottom circuit is tied to the top circuit through a keeper cells that holds to a 1.</p><h1 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-Reviews:">Reviews:</h1><h2 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-2018_02_16:">2018_02_16:</h2><h3 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-Attendees:">Attendees:</h3><p><a class="confluence-userlink user-mention" data-account-id="624b37fc258562006fa692fa" href="https://arterisip.atlassian.net/wiki/people/624b37fc258562006fa692fa?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">John Coddington (Deactivated)</a></p><p><a class="confluence-userlink user-mention" data-account-id="624b3704f813eb00692cb18c" href="https://arterisip.atlassian.net/wiki/people/624b3704f813eb00692cb18c?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Shailendra Aulakh (Deactivated)</a></p><p><a class="confluence-userlink user-mention" data-account-id="624b373df6a26900695fd0fc" href="https://arterisip.atlassian.net/wiki/people/624b373df6a26900695fd0fc?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Syed Shah (Deactivated)</a></p><p><a class="confluence-userlink user-mention" data-account-id="624b3757258562006fa69287" href="https://arterisip.atlassian.net/wiki/people/624b3757258562006fa69287?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Sanjay Deshpande (Deactivated)</a></p><p><a class="confluence-userlink user-mention" data-account-id="624b3798699649006ae98ff8" href="https://arterisip.atlassian.net/wiki/people/624b3798699649006ae98ff8?ref=confluence" target="_blank" data-linked-resource-id="756836" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Darshan Alagud</a></p><h3 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-Notes:">Notes:</h3><p>Everyone was fine with present definition.</p><h3 id="OBSOLETE-DELETEHW-SYMsym_rate_adapter-ActionItems:">Action Items:</h3><ul class="inline-task-list" data-inline-tasks-content-id="16168860"><li class="checked" data-inline-task-id="1"><a class="confluence-userlink user-mention" data-account-id="624b3788699649006ae98fea" href="https://arterisip.atlassian.net/wiki/people/624b3788699649006ae98fea?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Ankit Shah (Deactivated)</a> needs to get feedback from AEs if feature set is acceptable.<br/> </li></ul>