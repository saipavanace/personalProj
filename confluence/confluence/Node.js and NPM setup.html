<p>Note: the following setup has been done on our compute cluster; the following only needs to be done if you have your own Linux VM/chroot/docker/bare metal/etc.</p><h2 id="Node.jsandNPMsetup-InstallingNode.js">Installing Node.js</h2><p>It is recommended, but not strictly necessary, to use nvm (<a class="external-link" href="https://github.com/creationix/nvm" rel="nofollow">https://github.com/creationix/nvm</a>) to install Node.js, as it automatically allows for global installation of npm modules without root permissions, allows moving between Node versions for testing, etc. The current version of Node that we are using (in order to match NW.js v0.14.x) is <strong>v5.11.1</strong>.</p><h3 id="Node.jsandNPMsetup-Automaticallyenablingnvm">Automatically enabling nvm</h3><p>To automatically enable nvm if you are running bash, add the following to your ~/.bashrc or ~/.bash_profile:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: bash; gutter: false; theme: Confluence" data-theme="Confluence">export NVM_DIR=&quot;$HOME/.nvm&quot;
[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; . &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm </pre>
</div></div><p> </p><h2 id="Node.jsandNPMsetup-DowngradingNPM">Downgrading NPM</h2><p>NPM has a number of outstanding bugs (<a class="external-link" href="https://github.com/npm/npm/issues/10343" rel="nofollow">https://github.com/npm/npm/issues/10343</a>, <a class="external-link" href="https://github.com/npm/npm/pull/12828" rel="nofollow">https://github.com/npm/npm/pull/12828</a>, etc.) regarding symlinked modules under node_modules. This is the case for many of us as we either manually symlink directories, use <code>npm link</code>, or use the stash tools. Until they are fixed in npm v3.x, we must downgrade the NPM version that ships with our current version of Node.js (v5.11.1) to npm v2.x. To do so:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: bash; gutter: false; theme: Confluence" data-theme="Confluence">npm install -g npm@2</pre>
</div></div><h2 id="Node.jsandNPMsetup-UsingourinternalNPMregistry">Using our internal NPM registry</h2><p>Arteris scoped NPM modules (those with an @arteris/ prefix) are only found on our internal NPM registry. The registry also caches modules from the public npmjs.org registry as well, insulating us from network outages and downtime at npmjs.org. To use this registry by default, run the following command:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: bash; gutter: false; theme: Confluence" data-theme="Confluence">npm config set registry http://repo.arteris.com/repository/npm/</pre>
</div></div>