<p><span style="font-size: 24.0px;"><strong><br/></strong></span></p><p><span style="font-size: 24.0px;"><strong>module_name:</strong></span></p><p><span style="font-size: 24.0px;">atui_apb</span></p><p><strong style="font-size: 24.0px;"><br/></strong></p><p><strong style="font-size: 24.0px;">parameters</strong></p><div class="page view"><div class="wiki-content"><h2 id="OBSOLETE-DELETEHW-SYMatui_apb-java_script:"><strong>java_script:</strong></h2><p><strong>// Top Level Parameters</strong></p><p>assertOn: &lt;true or false&gt;, // Enable SytemVerilog Assertions</p><p>nodeId:  &lt;0 ...&gt; , // Node ID of the ATU</p><p>maxPduSize: &lt;1,2,4&gt; , // Maximum Data Size for a packet in bytes.</p><p>numPri: &lt;1,2, ...&gt;, // Number of Priorities used by the ATU</p><p><strong>// Timing Parameters</strong></p><p>pipeLevelSmi: &lt;0,1,2&gt; , // Amount of Pipe Levels on Specific Path</p><p>pipeLevelAtp: &lt;0,1,2&gt; , // Amount of Pipe Levels on Specific Path</p><p>pipeLevelApb: &lt;0,1,2&gt; , // Amount of Pipe Levels on Specific Path</p><p>pipeLevelPam:  &lt;0,1,...&gt; ,  // Amount of Pipe Levels on Specific Path</p><p>pipeLevelRob: &lt;0,1,2&gt; , // Amount of Pipe Levels on Specific Path</p><p>ctlPipeReq: &lt;0,1,2&gt; , // Amount of Pipe Levels on Specific Path</p><p>ctlPipeResp: &lt;0,1,2&gt; , // Amount of Pipe Levels on Specific Path</p><p>ctlPipeCtxt:  &lt;0,1,...&gt; ,  // Amount of Pipe Levels on Specific Path</p><p><strong>// Arbitration Parameters</strong></p><p>pktArbType:  &lt;&quot;arb_rr2&quot;,&quot;arb_wrr_rr1&quot;,&quot;arb_wrr_rr2&quot;,&quot;arb_pri_rr1&quot;,&quot;arb_pri_rr2&quot;,&quot;arb_fifo&quot;&gt;, // Arbitration types between VCs inside the packetizer.</p><p>pktArbWeights: [int, int, ...], // The length of the array in numVC. Each int has to be 1 or greater. // Weights of the VCs inside the packetizer.</p><p>depktArbType: &lt;arb_rr2,arb_wrr_rr1,arb_wrr_rr2,arb_pri_rr1,arb_pri_rr2,arb_fifo&gt;,   // Arbitration types between VCs inside the depacketizer.</p><p>depktArbWeights:  [int, int, ...], // The length of the array in numVC. Each int has to be 1 or greater. // Weights of the VCs inside the depacketizer.</p><p>ctlArbType: {</p><p>    master : &lt;&quot;arb_rr2&quot;,&quot;arb_wrr_rr1&quot;, ...&gt;</p><p>    vcs : [ &quot;string&quot;, &quot;string&quot; , ... ]  // Each String is an arb type</p><p>} // The arbiter types of the master and VC arbs for the queues inside the Common Layer</p><p>ctlArbWeights: {</p><p>    master : &lt;1,2,3, ...&gt;</p><p>    vcs : [int, int, , ... ]  // Each String is an arb type</p><p>} // The arbiter weights of the master and VC arbs for the queues inside the Common Layer</p><p>mstrArbLock: &lt;true or false&gt; , // Indicates whether the arbiters will lock on a VC. </p><p>lckStyleVld: &lt;true or false&gt; ,  // Indicates whether the arbiters will lock on valid.</p><p><strong>// Protection Parameters</strong></p><p>ctlProtectionScheme: &lt;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/protectionScheme" rel="nofollow">protectionScheme</a>&gt; ,  // Describes how the Common Layer Interface is Protected</p><p>stateProtectionStyle: &lt;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/protectionStyle" rel="nofollow">protectionStyle</a>&gt; , // Describes how the flops are protected.</p><p>registerProtectionStyle: &lt;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/protectionStyle" rel="nofollow">protectionStyle</a>&gt; , // Describes how the registers are protected.</p><p>memoryProtectionStyle:&lt;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/protectionStyle" rel="nofollow">protectionStyle</a>&gt; , // Describes how the memories are protected. </p><p><strong>// User Field Parameters:</strong></p><p>nativeToCommon: <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164433/HW-SYM+Generic+Assignment+Proposal" data-linked-resource-id="16164433" data-linked-resource-version="4" data-linked-resource-type="page">HW-SYM Generic Assignment Proposal</a></p><p>commonToNative: <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164433/HW-SYM+Generic+Assignment+Proposal" data-linked-resource-id="16164433" data-linked-resource-version="4" data-linked-resource-type="page">HW-SYM Generic Assignment Proposal</a></p><p><strong>// Common Layer Parameters:</strong></p><p><strong><strong>// See <a class="external-link" href="https://confluence.arteris.com/display/ENGR/Common+Transaction+Layer+Microarchitecture+Specification" rel="nofollow">Common Transaction Layer Microarchitecture Specification</a> for more detailed descriptions</strong></strong></p><p>enBufWrite: &lt;true or false&gt;,</p><p>enSplitting: &lt;true or false&gt;,</p><p>fixedSupported: &lt;true or false&gt;,</p><p>incrSupported: &lt;true or false&gt;,-</p><p>wrapSupported: &lt;true or false&gt;,</p><p>narrowSupported: &lt;true or false&gt;,</p><p>readInterleaveSupported: &lt;true or false&gt;,</p><p>widthAdaptionSupported: &lt;true or false&gt;,</p><p>idCompMask:  [&lt;0 or 1&gt;, &lt;0 or 1&gt;,  ...],</p><p>queueMap: [&quot;string&quot;, &quot;string&quot; ...] ,</p><p>queueDepth: &lt;int&gt;,</p><p>queuePriMap: [int, int int, ...] ,</p><p>queueSecPriMap:  [int, int int, ...] ,</p><p>vcMap: [int, int int, ...] ,</p><p>qosMapMode: &lt;int&gt;,</p><p><strong>// Credit Manager Parameters</strong></p><p>crdMngrEn: &lt;true or false&gt;,</p><p>wCrdMngrReqCnt: [int, int int, ...] ,</p><p>wCrdMngrDataCnt: [int, int int, ...] ,</p><p>crdDataUnit: [int, int int, ...] ,</p><p>wCrdMngrType:  &lt;int&gt;,</p><p><strong>// Rate Limiter Parameters</strong></p><p>rateLmtEn: &lt;true or false&gt;,</p><p>rateLmtUseExternalValues: &lt;true or false&gt;,</p><p>rateLmtRefCntGlobal: &lt;int&gt;,</p><p>rateLmtRefCntQueue_p:  [int, int int, ...] ,</p><p>rateLmtRefCntQueue_s:  [int, int int, ...] ,</p><p>refreshAmtGlobal: &lt;int&gt;,</p><p>refreshAmtQueue_p:  [int, int int, ...] ,</p><p>refreshAmtQueue_s:  [int, int int, ...] ,</p><p>rateLmtBktGlobal: &lt;int&gt;,</p><p>rateLmtBktQueue_p:  [int, int int, ...] ,</p><p>rateLmtBktQueue_s:  [int, int int, ...] ,</p><p><strong>// PAM Table Parameters</strong></p><p>*modeUserBits: &quot;string&quot;, //  User bits that select mode. </p><p>pamMode:  [int, int int, ...] ,</p><p>pamTid:  [int, int int, ...] ,</p><p>pamRoute:</p><p>pamBaseAddr:</p><p>pamBaseMask:</p><p>pamSz:  [int, int int, ...] ,</p><p>pamMapBase:</p><p>pamRW: [int, int int, ...] ,</p><p>pamStrp:  [int, int int, ...] ,</p><p>pamStrpGrpNum:  [int, int int, ...] ,</p><p>pamTargWidth:  [int, int int, ...] ,</p><p>pamTargMaxBurst:  [int, int int, ...] ,</p><p>pamTargSplitWrap:  [int, int int, ...] ,</p><p>pamTargReadInterleave:  [int, int int, ...] ,</p><p>pamTargBoundary:  [int, int int, ...] ,</p><p> pamTargDomain : [</p><p>                                  { hash : [int, int, ... ] },</p><p>                                   ....</p><p>                              ], </p><p>*pamMulti: [bool, bool, bool, ...],</p><p>*pamMultiLabel: [int,int,int, ...],</p><p>*pamMultiUser: [bool, bool, bool, ...],</p><p>*pamMultiLabelUserBits: &quot;string&quot;,</p><p>*pamMultiMaskUserBits: &quot;string&quot;,</p><p>nStrpTarg: &lt;int&gt; ,</p><p>strpFunc:  [int, int int, ...] ,</p><p>strpFuncHash: </p><p>                           [</p><p>                                  { hash : [int, int, ... ] },</p><p>                                   ....</p><p>                           ],</p><p>strpSz:  [int, int int, ...] ,</p><p>strpMap:  [int, int int, ...] ,</p><p>strpGrpTables: {   </p><p>   strpGrpTargId:  [int, int int, ...] ,</p><p>   strpGrpMapBase:  [int, int int, ...] ,</p><p>   strpGrpRoute:  [int, int int, ...] ,</p><p>}</p><p><strong>// Timeout Parameters</strong></p><p>timeoutErrChk: &lt;int&gt;,</p><p>timeoutErrCount: &lt;int&gt;,</p><p>*timeoutUserExternalValue: 0 or 1, // 0 use timeoutErrCount, 1 use a configurable value</p><p><strong>// Interfaces</strong></p><p>interfaces: {</p><p>    clkInterface: { name: &quot;a_string&quot;, params: {}, direction: &quot;slave&quot;, interface: &quot;InterfaceCLK&quot;},</p><p>    *intInterface :{</p><p>         &quot;name&quot; : &quot;a_string&quot;, </p><p>         &quot;params&quot; : {width : 2},</p><p>         &quot;direction&quot; : &quot;master&quot;, </p><p>         &quot;interface&quot; : &quot;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/InterfaceINT" rel="nofollow">InterfaceINT</a>&quot;<br/>  },</p><p>   *apbInterface: { </p><p>        name: &quot;a_string&quot;,</p><p>        params: { file_path: a string containing the full path of the JSON file specifying all the parameters of the interface },</p><p>        direction: &quot;slave&quot;,</p><p>        interface: &quot;InterfaceAPB&quot;</p><p>    },</p><p>   *modeInterface: { </p><p>        name: &quot;a_string&quot;,</p><p>        params: {</p><p>           wOut : 0,</p><p>           wIn : wMode</p><p>        },</p><p>        direction: &quot;slave&quot;,</p><p>        interface: &quot;InterfaceGeneric&quot;</p><p>    },</p><p>   domainInterface: { </p><p>        name: &quot;a_string&quot;,</p><p>        params: {</p><p>           wOut : 0,</p><p>           wIn : number_of_domains</p><p>        },</p><p>        direction: &quot;master&quot;, </p><p>        interface: &quot;InterfaceGeneric&quot;</p><p>    },</p><p>   *statsInterface: { </p><p>        name: &quot;a_string&quot;,</p><p>        params: {</p><p>           wOut : 2*maxOutTotal,</p><p>           wIn : 0</p><p>        },</p><p>        direction: &quot;master&quot;,</p><p>        interface: &quot;InterfaceGeneric&quot;</p><p>    },</p><p>   *pmaControlInterface: { </p><p>        name: &quot;a_string&quot;,</p><p>        params: { },</p><p>        direction: &quot;slave&quot;,</p><p>        interface: &quot;InterfacePMAControl&quot;</p><p>    },</p><p>    apbInterface: { </p><p>        name: &quot;a_string&quot;,</p><p>        params: { file_path: a string containing the full path of the JSON file specifying all the parameters of the interface },</p><p>        direction: &quot;slave&quot;,</p><p>        interface: &quot;InterfaceAPB&quot;</p><p>    },</p><p>    atpReqInterface: {</p><p>        name: &quot;a_string&quot;    </p><p>        params: { file_path: a string containing the full path of the JSON file specifying all the parameters of the interface },</p><p>        direction: &quot;master&quot;,</p><p>        interface: &quot;InterfaceATP&quot;,</p><p>        pktDef: { params : { ATP Packet Params }, packet: &quot;a_string specifying the packet definition&quot; }</p><p>    }</p><p>    </p><p>    atpRespInterface: {</p><p>        name: &quot;a_string&quot;    </p><p>        params: { file_path: a string containing the full path of the JSON file specifying all the parameters of the interface },</p><p>        direction: &quot;slave&quot;,</p><p>        interface: &quot;InterfaceATP&quot;,</p><p>        pktDef: { params : { ATP Packet Params }, packet: &quot;a_string specifying the packet definition&quot; }</p><p>    }</p><p>}</p><pre><strong style="font-size: 20.0px;font-family: Arial , sans-serif;">verilog:</strong></pre><p style="margin-left: 30.0px;">none.</p><h1 id="OBSOLETE-DELETEHW-SYMatui_apb-I/O"><strong>I/O</strong></h1><p><br/></p><p><strong>Functions Used</strong></p><p>N/A</p><h1 id="OBSOLETE-DELETEHW-SYMatui_apb-ModulesUsed"><strong>Modules Used</strong></h1><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16166663/OBSOLETE-DELETE+HW-SYM+apb_init" data-linked-resource-id="16166663" data-linked-resource-version="4" data-linked-resource-type="page">OBSOLETE-DELETE HW-SYM apb_init</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156349/HW-SYM+Common+Transaction+Layer+Microarchitecture+Specification#HW-SYMCommonTransactionLayerMicroarchitectureSpecification-CommonTransactionLayerInitiator" data-linked-resource-id="16156349" data-linked-resource-version="327" data-linked-resource-type="page">Common Transaction Layer Initiator</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164467/OBSOLETE-DELETE+HW-SYM+vc_smi_pkt" data-linked-resource-id="16164467" data-linked-resource-version="6" data-linked-resource-type="page">OBSOLETE-DELETE HW-SYM vc_smi_pkt</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164458/OBSOLETE-DELETE+HW-SYM+vc_smi_depkt" data-linked-resource-id="16164458" data-linked-resource-version="8" data-linked-resource-type="page">OBSOLETE-DELETE HW-SYM vc_smi_depkt</a></p><h1 id="OBSOLETE-DELETEHW-SYMatui_apb-Description"><strong>Description</strong></h1><div>The ATUI_APB module includes an APB interface to the external master and converts transactions to ATP packets onto the fabric link and vice-versa for their respective responses.</div><p>The current module described in this document <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16164924/OBSOLETE-DELETE+HW-SYM+atui_apb">OBSOLETE-DELETE  HW-SYM atui_apb</a> is the APB ATU Initiator top-level block that encapsulates the APB native, common transaction initiator &amp; SMI packet &amp; de-packetizer layer sub-blocks. It does not include the configuration interface since there are no configuration registers on this version of the ATU. </p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" data-image-src="https://confluence.arteris.com/plugins/servlet/confluence/placeholder/unknown-attachment?locale=en_US&amp;version=2" loading="lazy"></span></p><p><br/></p><p>The APB protocol supports only one outstanding transaction/transfer at a time, whether it is a read or write. </p><p><br/></p></div></div>