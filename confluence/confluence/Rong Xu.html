<h2 id="RongXu-Weekending"><style>[data-colorid=moqqzlcjqh]{color:#242424} html[data-color-mode=dark] [data-colorid=moqqzlcjqh]{color:#dbdbdb}[data-colorid=jstm8caebf]{color:#242424} html[data-color-mode=dark] [data-colorid=jstm8caebf]{color:#dbdbdb}[data-colorid=iggz8w3s90]{color:#242424} html[data-color-mode=dark] [data-colorid=iggz8w3s90]{color:#dbdbdb}[data-colorid=c7rkic4ri4]{color:#242424} html[data-color-mode=dark] [data-colorid=c7rkic4ri4]{color:#dbdbdb}</style>Week ending<time datetime="2022-12-21" class="date-past">21 Dec 2022</time></h2><ul><li>CHI-AIU for 3.6<ul><li>CONC-11065: keep debugging bringup tests with Keshav</li></ul></li></ul><h2 id="RongXu-Weekending.1">Week ending<time datetime="2022-12-14" class="date-past">14 Dec 2022</time></h2><ul><li>CHI-AIU for 3.6<ul><li>Now compilation works without TB errors, RTL can be generated.&nbsp;</li><li>Working on test bringup</li></ul></li><li>Ncore 3.8<ul><li>Walking through CHI B/C/D deltas and justifying changes necessary for 3.6 and 3.8</li><li>Discussion on 3.4 &amp; 3.6 OWO support</li></ul></li></ul><h2 id="RongXu-Weekending.2">Week ending<time datetime="2022-12-07" class="date-past">07 Dec 2022</time></h2><ul><li>CHI-AIU for 3.6<ul><li>Work with Keshav on DV environment update</li></ul></li><li>Ncore 3.8<ul><li>Deriving the OWO support</li><li>Reviewing the MTE arch spec</li></ul></li></ul><h2 id="RongXu-Weekending.3">Week ending<time datetime="2022-11-30" class="date-past">30 Nov 2022</time></h2><ul><li>CHI-AIU for 3.6<ul><li>With Dan's help on maestro update (<span data-colorid="iggz8w3s90" style="text-decoration: none;">Ncore3.6_feature_dant-MAES-5386), now RTL can be generated with CHI-E interface.&nbsp;</span></li><li><span data-colorid="c7rkic4ri4" style="text-decoration: none;">Need DV support to update the tb environment</span></li></ul></li><li><span data-colorid="jstm8caebf" style="text-decoration: none;">Ncore 3.8</span><ul><li><span data-colorid="moqqzlcjqh" style="text-decoration: none;">Reviewing the MTE architecture</span></li></ul></li></ul><h2 id="RongXu-Weekending.4">Week ending<time datetime="2022-11-16" class="date-past">16 Nov 2022</time></h2><ul><li>NXP slow sram<ul><li>CCP data pipe change (CONC10487) is now merged and pushed into Ncore3.6/develop</li></ul></li><li>CHI-AIU for 3.6<ul><li>waiting maestro support</li></ul></li><li>Ncore 3.8<ul><li>In discussion with Xiaojue about the DCE + DMI merged design</li></ul></li></ul><h2 id="RongXu-Weekending.5">Week ending<time datetime="2022-11-09" class="date-past">09 Nov 2022</time></h2><ul><li>NXP slow sram<ul><li>CCP datapipe is merged with Ncore3.6/develop, but the 3.6 environment still has issues with RTL generation. Will push in the merge once it's fixed.</li></ul></li><li>CHI-AIU for 3.6<ul><li>All RTL changes to support CHI-E new transactions are in place, waiting for maestro support to start bringup.</li><li>CONC-7647 update is also in place</li></ul></li></ul><h2 id="RongXu-Weekending.6">Week ending<time datetime="2022-11-02" class="date-past">02 Nov 2022</time></h2><ul><li>CHI-AIU for 3.6<ul><li>CPR files updated, CHI-E request &amp; response opcodes added, interface fields added</li><li>Logics to support new exclusive transactions (MakeReadUnique&amp;ReadPreferUnique), new Combined write transactions and write zero transactions added</li></ul></li></ul><h2 id="RongXu-Weekending.7">Week ending<time datetime="2022-10-26" class="date-past">26 Oct 2022</time></h2><ul><li>NXP slow sram<ul><li>No update this week</li></ul></li><li>CHI-AIU for 3.6<ul><li>Working on RTL, adding CHI-E new opcodes, channel fields and new transaction handling logics</li></ul></li></ul><h2 id="RongXu-Weekending.8">Week ending<time datetime="2022-10-19" class="date-past">19 Oct 2022</time></h2><ul><li>NXP slow sram:<ul><li>Branch&nbsp;<span style="text-decoration: none;" class="legacy-color-text-blue3">Ncore3.6/CONC-10487-datapipe is stable and waiting to be pushed into 3.6 database</span></li></ul></li><li><span style="text-decoration: none;" class="legacy-color-text-blue3">CHI-AIU for 3.6</span><ul><li><span style="text-decoration: none;" class="legacy-color-text-blue3">A few issues found in 3.6 architecture spec after review, including unexpected combine write transactions, and more proper concerto commands to map for new exclusive transactions</span></li><li><span style="text-decoration: none;" class="legacy-color-text-blue3">update u-arch changing plan after arch spec update, will review with Boon and Xiaojue and start RTL</span></li></ul></li></ul><h2 id="RongXu-Weekending.9">Week ending<time datetime="2022-10-12" class="date-past">12 Oct 2022</time></h2><ul><li>NXP slow sram:<ul><li>Branch&nbsp;<span style="text-decoration: none;" class="legacy-color-text-blue3">Ncore3.6/CONC-10487-datapipe is now stable with dmi tests, prepush and IOAIU short regression, no bugs found recently</span></li></ul></li><li><span style="text-decoration: none;" class="legacy-color-text-blue3">CHI-AIU for 3.6</span><ul><li><span style="text-decoration: none;" class="legacy-color-text-blue3">Study the arch spec</span></li><li><span style="text-decoration: none;" class="legacy-color-text-blue3">List the u-arch and rtl changes accordingly</span></li></ul></li></ul><h2 id="RongXu-Weekending.10">Week ending<time datetime="2022-09-28" class="date-past">28 Sep 2022</time></h2><ul><li>NXP slow sram:<ul><li>Created branch&nbsp;<span style="text-decoration: none;" class="legacy-color-text-blue3">Ncore3.6/CONC-10487-datapipe for hw-ncr, hw-ccp, and hw-lib. Current datapipe fixes are all pushed in.</span></li><li><span style="text-decoration: none;" class="legacy-color-text-blue3">Bugs found and fixed for IOAIU tests after the datapipe fix in place</span></li></ul></li><li><span style="text-decoration: none;" class="legacy-color-text-blue3">CHI-AIU for 3.6</span><ul><li><span style="text-decoration: none;" class="legacy-color-text-blue3">Review code and preparing a list of modification needed for CHI-E support</span></li></ul></li></ul><h2 id="RongXu-Weekending.11">Week ending<time datetime="2022-09-21" class="date-past">21 Sep 2022</time></h2><ul><li>NXP slow sram:<ul><li>DMI regr_cov regressions actively running in 3 supported configurations, no bugs found:<ol><li>fast sram clock + no packing + no input stage flop</li><li>fast sram clock + no packing + one input stage flop</li><li>slow sram clock + packing + one input stage flop</li></ol></li><li>RTL generated under nxpauto_v12 configuration, provided to backend for synthesis and timing evaluation</li><li>Discussed unaligned wrapping request with architects, the performance impact won't be a big issue as it mainly comes from CPU cache overflow, which should not be a bandwidth intensive</li></ul></li><li>CHI-AIU for 3.6<ul><li>Keep studying the spec</li></ul></li></ul><h2 id="RongXu-Weekending.12">Week ending<time datetime="2022-09-14" class="date-past">14 Sep 2022</time></h2><ul><li>NXP slow sram:<ul><li>CCP datapipe is running stable now, no related bugs found this week</li><li>Performance impact of unaligned wrapping request was brought up and still under discussion, unaligned wrapping request is hard to be fully packed and will trigger extra SRAM access</li><li>Preparing to have a synthesis run with Synopsys industrial sram to evaluate the current datapipe fix</li></ul></li><li>CHI-AIU for 3.6:<ul><li>Reviewed the CHI-AIU CHI-E mapping with Boon</li><li>Updated the 4.0 u-arch spec with questions about new transactions, current mapping for new request type like ReadPreferUnique and MakeReadUnique may not work under CHI-E's requirement, pending Architecture team's feedback</li></ul></li></ul><h2 id="RongXu-Weekending.13">Week ending<time datetime="2022-09-07" class="date-past">07 Sep 2022</time></h2><ul><li>NXP slow sram:<ul><li>A few corner cases fixed in CCP datapipe for dmi regr_cov tests, the regression is still running</li><li>Random_scp4, atomic_only_sp, and dtwMrgMrd regressions are now stable</li><li>Discussed with MK about different options of providing slow clock, currently waiting for the SRAM data sheet to make decision<ul><li>Some details elaborated:<ul><li>If 25% duty cycle is acceptable: the original clock gating will just work, no extra clock extension latch is needed to extend the clock</li><li>If 50% duty cycle is required, but setup time is short enough to safely fit in a fast clk cycle: then it needs extra latch to extend clock, and to make up for the added c2q delay, needs to move the slow clk rising edge to the middle of request phase</li><li>If 50% duty cycle is required and setup time cannot or barely fit in a fast clk cycle: then the slow clock rising edge needs to be at the end of request phase, and backend effort is necessary to delay sram input pins so the skewed slow clock can catch the request</li></ul></li></ul></li></ul></li><li>Reviewing CAIU 4.0 spec and AMBA spec for 3.6 CHI.E support</li></ul><h2 id="RongXu-Weekending.14">Week ending<time datetime="2022-08-31" class="date-past">31 Aug 2022</time></h2><ul><li>NXP slow sram:<ul><li>A few issues fixed of CCP datepipe for random_scp4, atomic_only_sp, and dtwMrgMrd regressions</li><li>CCP uarch spec updated, including pup for 2 beats per bank, slow clock scheme and data ram structure</li></ul></li><li>CONC-10267 fix</li></ul><h2 id="RongXu-Weekending.15">Week ending<time datetime="2022-08-24" class="date-past">24 Aug 2022</time></h2><ul><li>NXP slow sram:<ul><li>the CCP datapipe fix (pack&amp;unpack to support 2 beats per bank, extra input stage, and 2-cycle sram access) are now stably running with DMI random tests. Now running with more stressful tests</li><li>three parameters are provided to control the above fix: nSramAccess (1 or 2 cycle sram access), nBeatsPerBank (1 or 2 data beats per bank entry, must be 2 if nSramAccess is 2), useSramInputFlop (0 or 1 extra input stage, must be 1 if nBeatsPerBank is 2)</li><li>Updating the CCP uarch spec</li></ul></li></ul><h2 id="RongXu-Weekending.16">Week ending<time datetime="2022-08-19" class="date-past">19 Aug 2022</time></h2><ul><li>NXP slow sram:<ul><li>The SRAM gear box and extra P0 stage are now stable with DMI random tests in 1 cycle access mode</li><li>2 cycle access mode is added and under debugging.</li></ul></li><li>Some new IOAIU lint errors fix relating to recent features checkin.</li></ul><h2 style="font-family: sans-serif;" id="RongXu-Weekending.17">Week ending<time datetime="2022-08-12" class="date-past">12 Aug 2022</time></h2><div><ul><li>NXP slow sram:&nbsp;<span style="font-size: 17.0px;">the sram gear box and data pipe control logics are integrated and currently under debugging and tuning with DMI random tests</span></li><li><span style="font-size: 17.0px;">The method of providing half frequency clock to data ram is still TBD, need further discussion with architects about options available&nbsp;</span></li></ul></div><h2 id="RongXu-Weekending.18">Week ending&nbsp;<time datetime="2022-08-03" class="date-past">03 Aug 2022</time></h2><ul><li>NXP slow sram: the pack&amp;unpack logics for slow sram gear box is roughly done, current plan is to integrate it with pipe ctrl changes &amp; half clocked sram to do a initial test bringup</li><li>Lint: keep fixing verilator lint for IOAIU with&nbsp;<span style="text-decoration: none;" class="legacy-color-text-blue3">hw_cfg_2_ioc_256b configuration, currently 0 errors + 772 warnings left</span></li><li><span style="text-decoration: none;" class="legacy-color-text-blue3">Reviewed CAIU u-arch and 4.0 new features with CAIU owners and Xiaojue</span></li></ul><h2 id="RongXu-Weekending.19">Week ending&nbsp;<time datetime="2022-07-27" class="date-past">27 Jul 2022</time></h2><ul><li>Lint: few more IOAIU spyglass lint fixes for configurations from DMI and DII</li><li>NXP slow sram:<ul><li>Add parameter 'OD_TIMING_FIX' in ioaiu_control to enable/disable the OD timing path fix</li><li>Investigating CCP uarch and datapipe RTL, trying to add pack&amp;unpack logic to access 2X data every sram rd/wr, so sram can run in half frequency with least performance impact. Coding started and is still WIP</li></ul></li></ul><h2 id="RongXu-Weekending.20">Week ending&nbsp;<time datetime="2022-07-20" class="date-past">20 Jul 2022</time></h2><ul><li>Looked into DCE's timing path, the ME setup timing fix has already fixed the top violated path in April's report. The current top path in June's report(1.1GHz) is to Tagmem ADR pin at -2ps slack, the same path exists too in April's report(1.3GHz) at -3ps slack. Seems not a big issue but need to re-run in 1.3GHz to confirm if more fixes are necessary.</li><li>Currently working on adding pack&amp;unpack logic for CCP data pipeline to support sram running at half frequency</li><li>Helped Xiaojue with CCP tagmem timing fix debug</li><li>Fixed a few verilator lint warning, this activity will run on background, trying to fix a few every day.</li></ul><h2 id="RongXu-Weekending.21">Week ending&nbsp;<time datetime="2022-07-13" class="date-past">13 Jul 2022</time></h2><ul><li>Fixed all IOAIU spyglass errors with ME, nxpauto and config10, now Ben's lint run on Jenkins is clean</li><li>Fixed assertions in IOAIU, some of them have mismatched width, some use wrong signal names</li><li>Replaced modules in IOAIU that are from other blocks with IOAIU's own modules</li><li>Start looking into DCE SRAM timing path under NXP's configuration</li></ul><h2 id="RongXu-Weekending.22">Week ending&nbsp;<time datetime="2022-07-06" class="date-past">06 Jul 2022</time></h2><ul><li>IOAIU spyglass fix for all configurations under 'tachl_cover' label (including nxpauto cfg) pushed in, next step is to run ME updated config and verilator lint</li><li>IOAIU OD timing change pushed in</li><li>Helped emulation team debug the EX transaction bug &nbsp;</li></ul><h2 id="RongXu-Weekending.23">Week ending&nbsp;<time datetime="2022-06-29" class="date-past">29 Jun 2022</time></h2><ul><li>Most time of this week is on IOAIU spyglass. All spyglass escapes have been removed, exposed about 2~300 errors. Cleaning has been done and IOAIU is now spyglass error free under bring up configuration. Next step is to run under more valid configurations.</li><li>OD timing change now has a HB failure test pending debug</li></ul><h2 id="RongXu-Weekending.24">Week ending&nbsp;<time datetime="2022-06-22" class="date-past">22 Jun 2022</time></h2><ul><li>Helped look into the emulation spin lock hang, turns out the EX monitor in DCE didn't register EX store due to LPID from ACE master is out of configuration range. Configuration updated and test passed the point</li><li>Talked with Kjeld about the OD timing fix, changed the plan from adding stage flop in write address port to adding right before the RAM input for the sake of simple and clean</li><li>Completed the timing change and make it functional correct, updated the OD block diagram with more details, Kjeld has added it into IOAIU u-arch spec</li><li>CONC-9877: Working on the IOAIU verilator lint issues. Errors are fixed, currently working on cleaning warnings. The IOAIU coding style (not setting default parameter values) makes it hard to run lint in lower level first because of too many false alarm reported, now need to figure out how to waive unsynthesizable internal_mem modules from top level lint run</li></ul><h2 id="RongXu-Weekending.25">Week ending&nbsp;<time datetime="2022-06-15" class="date-past">15 Jun 2022</time></h2><ul><li>CONC-9297, problem is still both ACE master have the line in dirty state, potentially TB issue</li><li>Reviewed IOAIU OTT data buffer for the nxp slow sram, the read address path can be fixed by setting the 'ri' stage flop parameter value to become a fully piped stage, the current flop allows bypassing so a timing path exists. &nbsp;the write address path can be fixed by adding a stage flop after the ecc logic. I will make the fix locally first.</li></ul><h2 id="RongXu-Weekending.26">Week ending&nbsp;<time datetime="2022-06-08" class="date-past">08 Jun 2022</time></h2><ul><li>Work with Xiaojue on the slow sram useful skew proposals</li><li>Reviewing IOAIU OTT data buffer logics for the slow sram change</li><li>CONC-9770: dtr_rsp_rx counter goes wrong due to uncorrectable parity error, Bob has checked in a fix</li><li>CONC-9696: help identify phase 3 fix fails caused by unexpected wakeup from zombie entries, checkin made by Bob, pending timing run</li><li>Fsys debug training with Boon</li></ul><h2 id="RongXu-Weekending.27">Week ending&nbsp;<time datetime="2022-06-01" class="date-past">01 Jun 2022</time></h2><ul><li>CONC-9696: talked with Bob about the counter not matching with deallocation, the fix now is to slow down the counter to match age fifo deallocation speed (one per cycle). Might cause the OTT be easier to full since the OTT is capable to deallocate multiple entries per cycle but due to age fifo timing concern (not sure), the deallocation is limited to one per cycle</li><li>CONC-9736: assertion failed because error injection changed the CMDRsp's initiatorID, so the credit counter becomes negative. If this kind of error is expected in real system, then credits may ran out once error accumulates, need to add error interrupt mechanism to avoid system hang.</li><li>CONC-9738: ACE master is not responding to snoop, still investigating if there is an outstanding update, if so it's the same bfm issue exposed in 9689</li></ul><h2 id="RongXu-Weekending.28">Week ending&nbsp;<time datetime="2022-05-25" class="date-past">25 May 2022</time></h2><ul><li>Study PCIe ordering mode, understand requirements for different ordering modes</li><li>Study IOAIU uArch and source RTL, review IOAIU test plan ordering parts</li><li>Start fsys debug effort</li></ul><h2 id="RongXu-Weekending.29">Week ending&nbsp;<time datetime="2022-05-18" class="date-past">18 May 2022</time></h2><ul style="text-decoration: none;text-align: left;"><li>Work on the NXP slow sram timing optimization with Xiaojue, help finish the 'add one stage pipeline and useful skew' proposal, evaluate the design and backend effort to implement the change</li><li>Bring up the design and debug flow, hands on the fsys debug procedure with Boon's help, more activities to follow up this week</li><li>Study the Ncore system architecture and individual module's micro-architecture spec, talked with Benjamin and Kjeld to get familiar with the DMI and DCE implementation</li></ul>