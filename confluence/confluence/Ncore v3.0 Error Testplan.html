<p><style>[data-colorid=ldu3r4f5oy]{color:#323130} html[data-color-mode=dark] [data-colorid=ldu3r4f5oy]{color:#cfcecd}[data-colorid=rvah0bu53m]{color:#242424} html[data-color-mode=dark] [data-colorid=rvah0bu53m]{color:#dbdbdb}[data-colorid=pnzmdt7a60]{color:#323130} html[data-color-mode=dark] [data-colorid=pnzmdt7a60]{color:#cfcecd}[data-colorid=tgm9jl1hs8]{color:#323130} html[data-color-mode=dark] [data-colorid=tgm9jl1hs8]{color:#cfcecd}[data-colorid=c4k5xwvut6]{color:#323130} html[data-color-mode=dark] [data-colorid=c4k5xwvut6]{color:#cfcecd}[data-colorid=fk7fykdmh6]{color:#242424} html[data-color-mode=dark] [data-colorid=fk7fykdmh6]{color:#dbdbdb}[data-colorid=vxbjiqvbm0]{color:#323130} html[data-color-mode=dark] [data-colorid=vxbjiqvbm0]{color:#cfcecd}[data-colorid=r3ke8rlnzq]{color:#323130} html[data-color-mode=dark] [data-colorid=r3ke8rlnzq]{color:#cfcecd}[data-colorid=rv5wsc0h25]{color:#242424} html[data-color-mode=dark] [data-colorid=rv5wsc0h25]{color:#dbdbdb}[data-colorid=tufrkaznyh]{color:#323130} html[data-color-mode=dark] [data-colorid=tufrkaznyh]{color:#cfcecd}</style><br /></p><h1 id="Ncorev3.0ErrorTestplan-TableofContents">Table of Contents</h1><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1759724715647 {padding: 0px;}
div.rbtoc1759724715647 ul {list-style: disc;margin-left: 0px;padding-left: 50px;}
div.rbtoc1759724715647 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p><div class="toc-macro rbtoc1759724715647">
<ul class="toc-indentation">
<li><a href="#Ncorev3.0ErrorTestplan-TableofContents">Table of Contents</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-ReviewHistory">Review History</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Introduction">Introduction</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Teststatus">Test status</a>
<ul class="toc-indentation">
<li><a href="#Ncorev3.0ErrorTestplan-DII">DII</a>
<ul class="toc-indentation">
<li><a href="#Ncorev3.0ErrorTestplan-Feature">Feature</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Sub-feature">Sub-feature</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Flow">Flow</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Checkers">Checkers</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-HashTag">Hash Tag</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Referencedoc">Reference doc</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Where">Where</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Done">Done</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-RunCommand">Run Command</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Status">Status</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-JIRA">JIRA</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Comment">Comment</a></li>
</ul>
</li>
<li><a href="#Ncorev3.0ErrorTestplan-DVE">DVE</a>
<ul class="toc-indentation">
<li><a href="#Ncorev3.0ErrorTestplan-ErrorType">Error Type</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Description">Description</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Scenario">Scenario</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Referencedoc.1">Reference doc</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Where.1">Where</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Done.1">Done</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-RunCommand.1">Run Command</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Status.1">Status</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-JIRA.1">JIRA</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Comment.1">Comment</a></li>
</ul>
</li>
<li><a href="#Ncorev3.0ErrorTestplan-DMI">DMI</a>
<ul class="toc-indentation">
<li><a href="#Ncorev3.0ErrorTestplan-Test">Test</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Description.1">Description</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Scenario.1">Scenario</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Referencedoc.2">Reference doc</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Where.2">Where</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Done.2">Done</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Runcommand">Run command</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Status.2">Status</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-JIRA.2">JIRA</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Remarks">Remarks</a></li>
</ul>
</li>
<li><a href="#Ncorev3.0ErrorTestplan-CHI-AIU">CHI-AIU</a>
<ul class="toc-indentation">
<li><a href="#Ncorev3.0ErrorTestplan-Test.1">Test</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Description.2">Description</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Scenario.2">Scenario</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Referencedoc.3">Reference doc</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Where.3">Where</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Done.3">Done</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Status.3">Status</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-JIRA.3">JIRA</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-RunCommand.2">Run Command</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Remarks.1">Remarks</a></li>
</ul>
</li>
<li><a href="#Ncorev3.0ErrorTestplan-IO-AIU">IO-AIU</a>
<ul class="toc-indentation">
<li><a href="#Ncorev3.0ErrorTestplan-Feature.1">Feature</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Sub-feature.1">Sub-feature</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Flow.1">Flow</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Checker">Checker</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-HashTag.1">Hash Tag</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Referencedoc.4">Reference doc</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Where.4">Where</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Done.4">Done</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-JIRA.4">JIRA</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Status.4">Status</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-RunCommand.3">Run Command</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-IOAIUAddressErrorInjection">IOAIU Address Error Injection</a></li>
</ul>
</li>
<li><a href="#Ncorev3.0ErrorTestplan-DCE">DCE</a>
<ul class="toc-indentation">
<li><a href="#Ncorev3.0ErrorTestplan-Test.2">Test</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Description.3">Description</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Scenario.3">Scenario</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Referencedoc.5">Reference doc</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Where.5">Where</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Done.5">Done</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-JIRA.5">JIRA</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Status.5">Status</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-RunCommand.4">Run Command</a></li>
<li><a href="#Ncorev3.0ErrorTestplan-Remarks.2">Remarks</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><p /><h1 id="Ncorev3.0ErrorTestplan-ReviewHistory"><br />Review History</h1><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /></colgroup><thead><tr><th class="confluenceTh"><div class="tablesorter-header-inner">date</div></th><th colspan="1" class="confluenceTh"><div class="tablesorter-header-inner">reviewers</div></th></tr></thead><tbody><tr><td class="confluenceTd">21/May/2020</td><td colspan="1" class="confluenceTd"><p>DII, DVE and DMI RTL and TB owners</p></td></tr><tr><td colspan="1" class="confluenceTd">28/May/2020</td><td colspan="1" class="confluenceTd">CHI-AIU RTL and TB owners</td></tr><tr><td colspan="1" class="confluenceTd">05/June/2020</td><td colspan="1" class="confluenceTd">IO-AIU and DCE RTL and TB owners</td></tr><tr><td colspan="1" class="confluenceTd">24/July/2021</td><td colspan="1" class="confluenceTd">DII, DMI RTL and TB owners <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16777296/Meeting+notes+24-07-2021+DII+DMI+Error+Plan+Review" data-linked-resource-id="16777296" data-linked-resource-version="4" data-linked-resource-type="page">Meeting Points</a></td></tr><tr><td colspan="1" class="confluenceTd">30/July/2021</td><td colspan="1" class="confluenceTd">IOAIU RTL and TB owners <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16777739/Meeting+notes+30-07-2021+IOAIU+Error+Review" data-linked-resource-id="16777739" data-linked-resource-version="5" data-linked-resource-type="page">Meeting Points</a></td></tr></tbody></table></div><p><br /></p><p>References</p><p>

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="CONC-4884" data-client-id="SINGLE_bfb5209b-5e34-3655-9c0b-93d8d0d4bec5_16777427_624b3807a629c30068a79f50">
                <a href="https://arterisip.atlassian.net/browse/CONC-4884" class="jira-issue-key"><span class="aui-icon aui-icon-wait issue-placeholder" />CONC-4884</a>
                    -
            <span class="summary">Getting issue details...</span>
                                    <span class="aui-lozenge aui-lozenge-subtle aui-lozenge-default issue-placeholder">STATUS</span>
            </span>
</p><p>

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="CONC-4871" data-client-id="SINGLE_bfb5209b-5e34-3655-9c0b-93d8d0d4bec5_16777427_624b3807a629c30068a79f50">
                <a href="https://arterisip.atlassian.net/browse/CONC-4871" class="jira-issue-key"><span class="aui-icon aui-icon-wait issue-placeholder" />CONC-4871</a>
                    -
            <span class="summary">Getting issue details...</span>
                                    <span class="aui-lozenge aui-lozenge-subtle aui-lozenge-default issue-placeholder">STATUS</span>
            </span>
</p><p>

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="CONC-4876" data-client-id="SINGLE_bfb5209b-5e34-3655-9c0b-93d8d0d4bec5_16777427_624b3807a629c30068a79f50">
                <a href="https://arterisip.atlassian.net/browse/CONC-4876" class="jira-issue-key"><span class="aui-icon aui-icon-wait issue-placeholder" />CONC-4876</a>
                    -
            <span class="summary">Getting issue details...</span>
                                    <span class="aui-lozenge aui-lozenge-subtle aui-lozenge-default issue-placeholder">STATUS</span>
            </span>
</p><p>

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="CONC-4877" data-client-id="SINGLE_bfb5209b-5e34-3655-9c0b-93d8d0d4bec5_16777427_624b3807a629c30068a79f50">
                <a href="https://arterisip.atlassian.net/browse/CONC-4877" class="jira-issue-key"><span class="aui-icon aui-icon-wait issue-placeholder" />CONC-4877</a>
                    -
            <span class="summary">Getting issue details...</span>
                                    <span class="aui-lozenge aui-lozenge-subtle aui-lozenge-default issue-placeholder">STATUS</span>
            </span>
</p><p>

    

            



<style>
    .jira-issue {
        padding: 0 0 0 2px;
        line-height: 20px;
    }

    .jira-issue img {
        padding-right: 5px;
    }
    .jira-issue .aui-lozenge {
        line-height: 18px;
        vertical-align: top;
    }

    .jira-issue .icon {
        background-position: left center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 0;
        max-height: 16px;
        text-align: left;
        text-indent: -9999em;
        vertical-align: text-bottom;
    }
</style>

    <span class="confluence-jim-macro jira-issue" data-jira-key="CONC-4942" data-client-id="SINGLE_bfb5209b-5e34-3655-9c0b-93d8d0d4bec5_16777427_624b3807a629c30068a79f50">
                <a href="https://arterisip.atlassian.net/browse/CONC-4942" class="jira-issue-key"><span class="aui-icon aui-icon-wait issue-placeholder" />CONC-4942</a>
                    -
            <span class="summary">Getting issue details...</span>
                                    <span class="aui-lozenge aui-lozenge-subtle aui-lozenge-default issue-placeholder">STATUS</span>
            </span>
</p><p><br /></p><p><a class="external-link" href="https://svn.arteris.com/engdocs/trunk/Sonata%20Project/Concerto%20Rev%20C%20-%20Working/Ncore3SysArch.pdf?view=log" rel="nofollow">https://svn.arteris.com/engdocs/trunk/Sonata%20Project/Concerto%20Rev%20C%20-%20Working/Ncore3SysArch.pdf?view=log</a>&nbsp;</p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16166830/Ncore+3.0+System+Specification#Ncore3.0SystemSpecification-_Toc56333269" data-linked-resource-id="16166830" data-linked-resource-version="7" data-linked-resource-type="page">Ncore 3.0 System Specification#_Toc56333269</a></p><p><br /></p><h1 id="Ncorev3.0ErrorTestplan-Introduction">Introduction</h1><p>Error = correctable and uncorrectable errors not part of Resilience&nbsp; (<a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16777284/Ncore+v3.0+Resilience+Testplan" data-linked-resource-id="16777284" data-linked-resource-version="34" data-linked-resource-type="page">Ncore v3.0 Resilience Testplan</a>)</p><p>Functionality: every possible random fault results in the behavior defined in the corresponding error table. (see refs)</p><p>Coverage: every possible random fault.</p><p><br /></p><p>Correctable and uncorrectable errors are expressed via separate:</p><ol><li>irq iff enabled</li><li>status CSRs (<a class="external-link" href="https://confluence.arteris.com/pages/viewpage.action?spaceKey=OP&amp;title=Ncore+v3.0+CSR+Testplan" rel="nofollow">https://confluence.arteris.com/pages/viewpage.action?spaceKey=OP&amp;title=Ncore+v3.0+CSR+Testplan</a>)</li><li>cmstatus in any protocol response&nbsp;</li></ol><p>Correctable errors expressed iff exceed a user programmed threshold.</p><p><br /></p><p>Tested by means of stim plusargs,&nbsp; CSR directed seqs, irq interface.</p><p><br /></p><p>Ncore 3.0 any uncorrectable error is logged then&nbsp;system state is undefined.</p><p><br /></p><h1 id="Ncorev3.0ErrorTestplan-Teststatus">Test <span class="inline-comment-marker" data-ref="db84e1b8-d219-40ee-99a8-29bc7b2df574">status</span></h1><h2 id="Ncorev3.0ErrorTestplan-DII">DII&nbsp;</h2><p><br /></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 5.25618%;" /><col style="width: 5.63478%;" /><col style="width: 22.4933%;" /><col style="width: 12.3479%;" /><col style="width: 2.8876%;" /><col style="width: 11.2975%;" /><col style="width: 6.12277%;" /><col style="width: 3.00552%;" /><col style="width: 13.2929%;" /><col style="width: 3.31585%;" /><col style="width: 3.20724%;" /><col style="width: 11.1454%;" /></colgroup><tbody><tr><th style="width: 6.15206%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Feature"><strong>Feature</strong></h3></th><th style="width: 13.581%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Sub-feature">Sub-feature</h3></th><th style="width: 11.9559%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Flow">Flow</h3></th><th style="width: 8.00929%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Checkers">Checkers</h3></th><th class="highlight-blue confluenceTh" colspan="1" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-HashTag">Hash Tag</h3></th><th style="width: 13.2327%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Referencedoc"><strong>Reference doc</strong></h3></th><th style="width: 7.19675%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Where"><strong>Where</strong></h3></th><th style="width: 3.54034%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Done"><strong>Done</strong></h3></th><th style="width: 15.5543%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-RunCommand">Run Command</h3></th><th style="width: 3.88857%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Status">Status</h3></th><th style="width: 3.77249%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-JIRA"><strong>JIRA</strong></h3></th><th style="width: 13.0586%;" class="highlight-blue confluenceTh" data-highlight-colour="blue"><h3 id="Ncorev3.0ErrorTestplan-Comment"><strong>Comment</strong></h3></th></tr><tr><td style="width: 6.15206%;" class="confluenceTd" rowspan="6"><p><strong><span class="inline-comment-marker" data-ref="9bf66d8d-341b-4ff1-a4af-7e504dbf5c48">Protocol</span> Error</strong></p><p><br /></p><p><span>Both read and write response from the AXI/ACE can be considered as Protocol Error which would fall into uncorrectable errors category.</span></p><p><br /></p></td><td style="width: 13.581%;" class="confluenceTd" rowspan="3"><strong>Read Response Uncorrectable Error</strong></td><td style="width: 11.9559%;" class="confluenceTd" rowspan="3"><p>Enable protocol error detection by writing&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>DIIUUEDR</strong>.<strong>ProtErrDetEn</strong> =1&nbsp; (Or keep disabled by default)</p><p>Enable protocol error interrupt by writing <strong>DIIUUEIR</strong>.<strong>ProtErrIntEn</strong> = 1.</p><p>(Or keep disabled by default)</p><p><strong>Read response error injection:</strong> SLVERR /DECERR injection happens using knob &quot;<span>prob_ace_rd_resp_error&quot;.</span></p><p>Wait for<strong> IRQ_UC</strong> interrupt to be asserted. (<strong>If&nbsp;DIIUUEIR.ProtErrIntEn =</strong> 1)&nbsp; OR&nbsp; Wait for Read response</p><p><strong>Read response error logging: (If&nbsp;DIIUUEDR.ProtErrDetEn =</strong>1<strong>)</strong></p><ul><li><strong>DIIUUESR.ErrVld</strong> will be asserted.</li><li><strong>DIIUUESR.ErrType = 0x3</strong></li><li><strong>DIIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] - rresp&nbsp;</li><li>[2] - Security Attribute&nbsp;arprot[1]</li><li>[3]-&nbsp;0</li></ul></li></ul></li><li><strong>{DIIUUELR1.ErrAddr, DIIUUELR0.ErrWord, DIIUUELR0.ErrWay, DIIUUELR0.ErrEntry} = ARADDR</strong></li></ul><p>CMStatus = SLVERR (8'b10000011) (&nbsp;Data Error)</p><p>CMStatus = DECERR (8'b10000100) (Address Error)</p><p>DUT will send DTR_REQ with corresponding DBAD = 1 &amp; BE =1 when SLVERR occur.</p><p>Reset by W1C :&nbsp;&nbsp;<strong>DIIUUESAR.ErrVld&nbsp;&nbsp;</strong>= 1&nbsp; (optional)</p><p>**************************************************************************</p></td><td style="width: 8.00929%;" class="confluenceTd"><p>Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</p><p><br /></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 7.19675%;" class="confluenceTd"><a class="external-link" href="http://dii_ral_csr_seq.sv" rel="nofollow">dii_ral_csr_seq.sv</a></td><td style="width: 3.54034%;" class="confluenceTd">Y</td><td style="width: 15.5543%;" class="confluenceTd" rowspan="3"><p><span>runsim -e dii -t </span>csr_diiuedr_rdProtErrDetEn_uncorr</p><p>runsim -e dii -t csr_diiueir_ProtErrInt_uncorr</p><p>runsim -e dii -t&nbsp;csr_diiuelr2_uncorr</p><p>runsim -e dii -t csr_diiuecr_noDetEn_uncorr</p><p><br /><br /></p><p><strong>TODO:</strong></p><p>Add support in CSR sequence for back to back transactions</p></td><td style="width: 3.88857%;" class="confluenceTd">Pass</td><td style="width: 3.77249%;" class="confluenceTd"><p>CONC-6267</p><p>CONC-6904</p><p>CONC-7344</p></td><td style="width: 13.0586%;" class="confluenceTd"><p><span>Error is covered using knobs by generating SLVERR/DECERR during read responses from slave sequence.</span></p><div class="table-wrap"><table class="wrapped confluenceTable" style="letter-spacing: 0.0px;"><tbody><tr><th class="confluenceTh">&quot;+prob_ace_rd_resp_error&quot;: 100 -&gt; value of probability of read response error injection&nbsp;</th></tr></tbody></table></div><p><span><span><br /></span></span></p></td></tr><tr><td style="width: 8.00929%;" class="confluenceTd"><p>DTRreq CMstatus =&nbsp;SLVERR (8'b10000011) (&nbsp;Data Error) and&nbsp;corresponding DBAD = 1 &amp; BE =1</p><p><span class="legacy-color-text-blue3">If error is not detected on first beat, then only DBAD is set and CMstatus does not report error</span></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 7.19675%;" class="confluenceTd"><br /></td><td style="width: 3.54034%;" class="confluenceTd">Y</td><td style="width: 3.88857%;" class="confluenceTd"><br /></td><td style="width: 3.77249%;" class="confluenceTd"><p>CONC-6243</p></td><td style="width: 13.0586%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.00929%;" class="confluenceTd"><p>DTRreq CMstatus =&nbsp;DECERR (8'b10000100) (Address Error)</p><p>***************************************</p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 7.19675%;" class="confluenceTd"><br /></td><td style="width: 3.54034%;" class="confluenceTd">Y</td><td style="width: 3.88857%;" class="confluenceTd"><br /></td><td style="width: 3.77249%;" class="confluenceTd"><p>CONC-7110</p></td><td style="width: 13.0586%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 13.581%;" class="confluenceTd" rowspan="3"><strong>Write Response Uncorrectable Error</strong></td><td style="width: 11.9559%;" class="confluenceTd" rowspan="3"><p>Enable protocol error detection by writing&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>DIIUUEDR</strong>.<strong>ProtErrDetEn</strong> =1.&nbsp; (Or keep disabled by default)</p><p>Enable protocol error interrupt by writing <strong>DIIUUEIR</strong>.<strong>ProtErrIntEn</strong> = 1.</p><p>(Or keep disabled by default)</p><p><strong>Write response error injection:</strong> SLVERR /DECERR injection happens using knob &quot;<span>prob_ace_wr_resp_error</span>&quot;.</p><p>Wait for<strong> IRQ_UC</strong> interrupt to be asserted. (<strong>If&nbsp;DIIUUEIR.ProtErrIntEn =</strong> 1) OR&nbsp; Wait for write response</p><p><strong>Write response </strong><strong>Error logging :&nbsp; &nbsp; &nbsp; &nbsp;(If&nbsp;DIIUUEDR.ProtErrDetEn =1)</strong></p><ul><li><strong>DIIUUESR.ErrVld</strong> will be asserted.</li><li><strong>DIIUUESR.ErrType = 0x2</strong></li><li><strong>DIIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li><span> [1:0] - bresp</span><span>&nbsp;</span></li><li><span> [2] - Security Attribute</span><span>&nbsp;awprot[1]</span></li><li><span> [3]-</span><span>&nbsp;0</span></li></ul></li></ul></li><li><span><strong>{DIIUUELR1.ErrAddr, DIIUUELR0.ErrWord, DIIUUELR0.ErrWay, DIIUUELR0.ErrEntry} = AWADDR<br /></strong></span></li></ul><p><span style="letter-spacing: 0.0px;">CMStatus = SLVERR (8'b10000011) (&nbsp;Data Error) for non EWA</span></p><p>CMStatus = DECERR (8'b10000100) (Address Error) for non EWA</p><p>Reset by W1C :&nbsp;&nbsp;<strong>DIIUUESAR.ErrVld&nbsp;&nbsp;</strong>= 1&nbsp;&nbsp;(optional)</p></td><td style="width: 8.00929%;" class="confluenceTd"><p>Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</p><p><br /></p><p><br /></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><br /></p><p><span class="legacy-color-text-default">Ncore+3.0+DII+Micro-Architecture+Specification</span></p><p><span class="legacy-color-text-default">Section: 6.0&nbsp; &nbsp;(For EWA details)</span></p></td><td style="width: 7.19675%;" class="confluenceTd"><a class="external-link" href="http://dii_ral_csr_seq.sv" rel="nofollow">dii_ral_csr_seq.sv</a></td><td style="width: 3.54034%;" class="confluenceTd">Y</td><td style="width: 15.5543%;" class="confluenceTd" rowspan="3"><p>runsim -e dii -t csr_diiuedr_wrProtErrDetEn_uncorr<br /><br /></p><p>runsim -e dii -t&nbsp;csr_diiuelr2_uncorr</p><p><br /></p><p><strong>TODO:</strong></p><p>Add support in CSR sequence for back to back transactions</p></td><td style="width: 3.88857%;" class="confluenceTd">Pass</td><td style="width: 3.77249%;" class="confluenceTd"><p>CONC-6267</p></td><td style="width: 13.0586%;" class="confluenceTd"><p><span>Error is covered using knobs by generating SLVERR/DECERR during write responses from slave sequence.</span></p><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><span>&quot;+prob_ace_wr_resp_error&quot;: 100 -&gt; </span><span>value of probability of </span><span>write response error injection </span></th></tr></tbody></table></div><p><span><span><br /></span></span></p></td></tr><tr><td style="width: 8.00929%;" class="confluenceTd">DTWrsp CMstatus =&nbsp;SLVERR (8'b10000011) (&nbsp;Data Error)&nbsp; for non EWA</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 7.19675%;" class="confluenceTd"><br /></td><td style="width: 3.54034%;" class="confluenceTd">Y</td><td style="width: 3.88857%;" class="confluenceTd"><br /></td><td style="width: 3.77249%;" class="confluenceTd"><br /></td><td style="width: 13.0586%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.00929%;" class="confluenceTd">DTWrsp&nbsp;CMStatus = DECERR (8'b10000100) (Address Error) for non EWA</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 7.19675%;" class="confluenceTd"><br /></td><td style="width: 3.54034%;" class="confluenceTd">Y</td><td style="width: 3.88857%;" class="confluenceTd"><br /></td><td style="width: 3.77249%;" class="confluenceTd"><br /></td><td style="width: 13.0586%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 6.15206%;" class="confluenceTd"><strong><span class="inline-comment-marker" data-ref="d6de6f6b-9825-4e96-b258-496f07a4c660">Memory (SRAM) read buffer error</span></strong></td><td style="width: 13.581%;" class="confluenceTd"><strong>NA</strong></td><td style="width: 11.9559%;" class="confluenceTd"><p><strong>As per the discussion in test plan review, Memory will not be present for Ncore 3.0 release.</strong></p><p>SRAM are prone to arise several faults which leads to be detectable and classified as correctable (single-bit error) and uncorrectable errors (double-bit errors) errors.</p><p><strong>TODO: (1) </strong>Need to add checks for CMStatus = 8b&rsquo;10000011 Data Error</p><p><strong> (2) </strong>Need to add checks for Dbad in DTRreq, DUT will send DTRreq with corresponding Dbad = 1 and BE = 1.</p></td><td style="width: 8.00929%;" class="confluenceTd">NA</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd">NA</td><td style="width: 7.19675%;" class="confluenceTd">NA</td><td style="width: 3.54034%;" class="confluenceTd">NA</td><td style="width: 15.5543%;" class="confluenceTd"><p><span>runsim -e dii -t </span>csr_diicecr_single_errDetEn_corr</p><p><span>runsim -e dii -t </span>csr_diicecr_single_errInt_corr</p><p><span>runsim -e dii -t </span>csr_diicecr_single_errThd_corr</p><p><span>runsim -e dii -t </span>csr_diiuedr_MemErrDetEn_uncorr</p><p><span>runsim -e dii -t </span>csr_diiueir_MemErrInt_uncorr</p></td><td style="width: 3.88857%;" class="confluenceTd">Pass</td><td style="width: 3.77249%;" class="confluenceTd"><p><span>CONC-6267</span></p><p>CONC-7632</p></td><td style="width: 13.0586%;" class="confluenceTd"><p><span>SRAM models are controlled by knobs which inject single-bit and/or double-bit errors.</span></p><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><p>&quot;+inject_sram_single_err&quot; -&gt; to inject single bit correctable errors in SRAM</p><p>&quot;+k_sram_single_err_pct&quot; : 100 -&gt; value of probability of single bit errors injected</p></th></tr></tbody></table></div><p><span><br /></span></p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><p>&quot;+inject_sram_double_err&quot; -&gt; to inject double bit correctable errors in SRAM</p><p>&quot;+k_sram_double_err_pct&quot; : 100 -&gt; value of probability of double bit errors injected</p></th></tr></tbody></table></div></td></tr><tr><td style="width: 6.15206%;" class="confluenceTd" rowspan="2"><p><strong><span class="inline-comment-marker" data-ref="88d6569a-b0e2-443b-8e2e-a8c387e289db">Wrong target Ids</span></strong></p><p><br /></p></td><td style="width: 13.581%;" class="confluenceTd" rowspan="2"><p><strong>CMDreq, DTWreq, DTRrsp,&nbsp; STRrsp,&nbsp;DTWDbgRsp</strong> with wrong target IDs</p></td><td style="width: 11.9559%;" class="confluenceTd" rowspan="2"><p><strong>Error injection and logging steps:</strong></p><ul><li>Enable transport error detection by writing <strong>DIIUUEDR</strong>.<strong>TransErrDetEn</strong> = 1.&nbsp;(Or keep disabled by default)</li><li>Enable transport error interrupt by writing <strong>DIIUUEIR</strong>.<strong>TransErrIntEn</strong> = 1&nbsp;(Or keep disabled by default)</li><li>Target id error injection in CMDreq happens using knob &quot;wt_wrong_dut_id_cmd&quot;<br />Target id error injection in DTWreq happens using knob &quot;wt_wrong_dut_id_dtw&quot;<br /><span>Target id error injection in DTRrsp happens using knob &quot;wt_wrong_dut_id_dtrrsp&quot;<br /></span><span><span>Target id error injection in STRrsp happens using knob &quot;wt_wrong_dut_id_strrsp&quot;</span></span><span><span>Target id error injection in DTWDbgrsp happens using knob &quot;wt_wrong_dut_id_dtwdbgrsp&quot;</span></span></li><li><span><span>Wait for<strong> IRQ_UC</strong> interrupt to be asserted (<strong>If&nbsp;DIIUUEIR.TransErrIntEn =</strong> 1)&nbsp; OR&nbsp; Wait for some time</span></span></li><li><strong>DIIUUESR.ErrVld</strong> will be asserted.&nbsp; (If&nbsp;<strong>DIIUUEDR</strong>.<strong>TransErrDetEn</strong> = 1)</li><li><strong>DIIUUESR.ErrType = 0x8</strong></li><li><strong>DIIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li><span>[0]</span><span>&nbsp;</span><span>&ndash; 1</span><span>&rsquo;b0</span><span>&nbsp;</span></li></ul><ul><li><span>[5:1]</span><span>&nbsp;</span><span>&ndash; Reserved</span><span>&nbsp;</span><span>&nbsp;</span></li><li><span>[15:6]</span><span>&nbsp;</span><span>&ndash;</span><span>&nbsp;</span><span>Source ID</span><span>&nbsp;</span><span>(FUnit_Id)</span><span><span><br /></span></span></li></ul></li></ul></li></ul></li><li>Transaction is dropped by the DUT</li><li>Reset by W1C :&nbsp;&nbsp;<strong>DIIUUESAR.ErrVld&nbsp;&nbsp;</strong>= 1&nbsp;(optional)</li></ul></td><td style="width: 8.00929%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 7.19675%;" class="confluenceTd"><a class="external-link" href="http://dii_ral_csr_seq.sv" rel="nofollow">dii_ral_csr_seq.sv</a></td><td style="width: 3.54034%;" class="confluenceTd">Y</td><td style="width: 15.5543%;" class="confluenceTd"><p><span>runsim -e dii -c -t csr_diiuedr_TransErrDetEn_cmd_uncorr</span></p><p><br /></p><p><span>runsim -e dii -c -t </span>csr_diiuedr_TransErrDetEn_dtw_uncorr</p><p><br /></p><p><span>runsim -e dii -c -t csr_diiuedr_TransErrDetEn_dtrrsp_uncorr</span></p><p><br /></p><p><span>runsim -e dii -c -t csr_diiuedr_TransErrDetEn_strrsp_uncorr</span></p><p><br /></p><p><strong>TODO:</strong></p><p>Add support in CSR sequence for back to back transactions</p></td><td style="width: 3.88857%;" class="confluenceTd">Pass</td><td style="width: 3.77249%;" class="confluenceTd"><p><span>CONC-6267</span></p><p>CONC-6531</p><p>CONC-7739</p><p>CONC-5121</p></td><td style="width: 13.0586%;" class="confluenceTd"><p><span>Random injection of target id into transaction while sending to DUT and controlled by knobs.</span></p><p><span><br /></span></p></td></tr><tr><td style="width: 8.00929%;" class="confluenceTd">Check whether DUT dropping txn or not</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p></td><td style="width: 7.19675%;" class="confluenceTd"><br /></td><td style="width: 3.54034%;" class="confluenceTd">N</td><td style="width: 15.5543%;" class="confluenceTd"><br /></td><td style="width: 3.88857%;" class="confluenceTd"><br /></td><td style="width: 3.77249%;" class="confluenceTd"><br /></td><td style="width: 13.0586%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 6.15206%;" class="confluenceTd" rowspan="2"><strong>Dbad on DTWreq</strong></td><td style="width: 13.581%;" class="confluenceTd" rowspan="2"><strong>DBad on DTWreq</strong><br /><br /></td><td style="width: 11.9559%;" class="confluenceTd" rowspan="2"><p><span>Generate random dbad value in DTWreq by using knob &quot;<span>wt_dbad</span><span>&quot;.</span></span></p><p>Corresponding WSTRB will be 0 on down stream AXI write data interface.</p><p><span>DUT should not return DTWrsp with data Error in the CMStatus = 8'b1000_0011 and should return normal CMstatus.</span></p></td><td style="width: 8.00929%;" class="confluenceTd">Corresponding WSTRB will be 0 on down stream AXI write data interface.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.7</p></td><td style="width: 7.19675%;" class="confluenceTd"><br /></td><td style="width: 3.54034%;" class="confluenceTd">Y</td><td style="width: 15.5543%;" class="confluenceTd"><p>As per the JIRA CONC-6267, Below 3 tests are present.</p><p><span><span>runsim -e dii -t </span>wr_none</span><br /><span><span>runsim -e dii -t </span>rw_none_endpoint</span><br /><span><span>runsim -e dii -t </span>perf_short<br /><br />Some other tests:&nbsp; &nbsp; </span></p><p><span>runsim -e dii -t&nbsp;sys_dii_rw_endpoint&nbsp; </span><span>runsim -e dii -t sys_dii_rw_endpoint_asize_err&nbsp; &nbsp; &nbsp; &nbsp; </span><span>runsim -e dii -t sys_dii_rw_endpoint_align_err</span></p><p><br /></p><p><strong>TODO:</strong></p><p>Add support in CSR sequence for back to back transactions</p></td><td style="width: 3.88857%;" class="confluenceTd"><br /></td><td style="width: 3.77249%;" class="confluenceTd"><span>CONC-6267</span></td><td style="width: 13.0586%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.00929%;" class="confluenceTd"><span>DUT should return normal DTWrsp CMstatus without any error indication.</span></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 13.2327%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.7</p></td><td style="width: 7.19675%;" class="confluenceTd"><br /></td><td style="width: 3.54034%;" class="confluenceTd">N</td><td style="width: 15.5543%;" class="confluenceTd"><br /></td><td style="width: 3.88857%;" class="confluenceTd"><br /></td><td style="width: 3.77249%;" class="confluenceTd"><br /></td><td style="width: 13.0586%;" class="confluenceTd"><br /></td></tr><tr><td rowspan="2" class="confluenceTd"><strong>Address Map Decode Error</strong></td><td class="confluenceTd"><p><strong>NA</strong></p><p><strong><s>illegal DII access</s>&nbsp;</strong></p></td><td class="confluenceTd"><p><strong>NA</strong></p><p><s><strong>Error injection and logging steps:</strong></s></p><ul><li><s>Enable transport error detection by writing <strong>DIIUUEDR</strong>.<strong><span class="legacy-color-text-blue3">DecErrDetEn</span></strong><span class="legacy-color-text-blue3"><span>&nbsp;</span></span>&nbsp;= 1.&nbsp;(Or keep disabled by default)</s></li><li><s>Enable transport error interrupt by writing <strong>DIIUUEIR</strong>.<strong><span class="legacy-color-text-blue3">DecErrIntEn</span></strong><span class="legacy-color-text-blue3"><span>&nbsp;</span></span><span class="legacy-color-text-blue3">&nbsp;</span>&nbsp;= 1&nbsp;(Or keep disabled by default)</s></li><li><s>Target id error injection in CMDreq happens using knob &quot;illegal_dii_access&quot;</s></li><li><s><span><span>Wait for<strong> IRQ_UC</strong> interrupt to be asserted (<strong>If&nbsp;DIIUUEIR.DecErrIntEn =</strong> 1)&nbsp; OR&nbsp; Wait for some time</span></span></s></li><li><s><strong>DIIUUESR.ErrVld</strong> will be asserted.&nbsp; (If&nbsp;<strong>DIIUUEDR</strong>.<strong><span class="legacy-color-text-blue3">DecErrDetEn</span></strong>&nbsp;= 1)</s></li><li><s>Compare <strong>ErrInfo</strong>.</s><ul><li style="list-style-type: none;background-image: none;"><ul><li><s><span>[1:0] &ndash;</span>&nbsp;<span><span class="legacy-color-text-blue3">2&rsquo;b11: Illegal DII access type</span><span class="legacy-color-text-blue3">&nbsp;</span><span class="legacy-color-text-blue3">&nbsp;</span></span></s></li><li><s><span>[3:2]</span><span>&nbsp;</span><span>&ndash; Reserved</span><span>&nbsp;</span><span>&nbsp;</span></s></li><li><s><span>[4] &ndash; Command Type&nbsp;</span></s></li></ul><ul><li><s><span>[5] &ndash; Reserved</span><span>&nbsp;</span></s></li><li><s><span>[15:6]</span><span>&nbsp;</span><span>&ndash;</span><span>&nbsp;</span><span>Transaction ID/AXID</span><span>&nbsp;</span></s></li></ul></li></ul></li><li><p style="text-align: justify;"><s><span>Compare <strong>ErrType = 0x7.</strong>&nbsp;&nbsp;</span></s></p></li><li><p style="text-align: justify;"><s><strong>{CAIUUELR1.ErrAddr,CAIUUELR0.ErrWord, CAIUUELR0.ErrWay, CAIUUELR0.ErrEntry} = Unmapped address</strong></s></p></li><li><s>Reset by W1C :&nbsp;&nbsp;<strong>DIIUUESAR.ErrVld&nbsp;&nbsp;</strong>= 1&nbsp;(optional)</s></li></ul></td><td colspan="1" class="confluenceTd"><p>NA</p><p><s>Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</s></p><p><br /></p></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><p>NA</p><p><s>Ncore+3.0+System+Specification</s></p><p><s>Section:&nbsp;5.1.3.2&nbsp;</s></p></td><td colspan="1" class="confluenceTd">NA</td><td colspan="1" class="confluenceTd">NA</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">NA</td></tr><tr><td colspan="1" class="confluenceTd"><strong>illegal CSR access&nbsp;</strong></td><td colspan="1" class="confluenceTd"><p><strong>Error injection and logging steps:</strong></p><ul><li>Enable transport error detection by writing <strong>DIIUUEDR</strong>.<strong><span class="legacy-color-text-blue3">DecErrDetEn</span></strong><span class="legacy-color-text-blue3"><span>&nbsp;</span></span>&nbsp;= 1.&nbsp;(Or keep disabled by default)</li><li>Enable transport error interrupt by writing <strong>DIIUUEIR</strong>.<strong><span class="legacy-color-text-blue3">DecErrIntEn</span></strong><span class="legacy-color-text-blue3"><span>&nbsp;</span></span><span class="legacy-color-text-blue3">&nbsp;</span>&nbsp;= 1&nbsp;(Or keep disabled by default)</li><li>Target id error injection in CMDreq happens using knob &quot;illegal_csr_access&quot;</li><li><span>Wait for<strong> IRQ_UC</strong> interrupt to be asserted (<strong>If&nbsp;DIIUUEIR.DecErrIntEn =</strong> 1)&nbsp; OR&nbsp; Wait for some time</span></li><li><strong>DIIUUESR.ErrVld</strong> will be asserted.&nbsp; (If&nbsp;<strong>DIIUUEDR</strong>.<strong><span class="legacy-color-text-blue3">DecErrDetEn</span></strong>&nbsp;= 1)</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li><span>[1:0] &ndash;</span>&nbsp;&nbsp;<span class="legacy-color-text-blue3">2&rsquo;b10:</span><span class="legacy-color-text-blue3"><span>&nbsp;</span></span><span class="legacy-color-text-blue3">&nbsp;</span><span class="legacy-color-text-blue3"><span>&nbsp;</span></span><span class="legacy-color-text-blue3">Illegal</span><span class="legacy-color-text-blue3"><span>&nbsp;</span></span><span class="legacy-color-text-blue3">CSR</span><span class="legacy-color-text-blue3"><span>&nbsp;</span></span><span class="legacy-color-text-blue3">access format</span><span><span class="legacy-color-text-blue3">&nbsp;</span></span></li><li><span>[3:2]</span><span>&nbsp;</span><span>&ndash; Reserved</span><span>&nbsp;</span><span>&nbsp;</span></li><li><span>[4] &ndash; Command Type&nbsp;</span></li></ul><ul><li><span>[5] &ndash; Reserved</span><span>&nbsp;</span></li><li><span>[15:6]</span><span>&nbsp;</span><span>&ndash;</span><span>&nbsp;</span><span>Transaction ID/AXID</span><span>&nbsp;</span></li></ul></li></ul></li><li><p style="text-align: justify;"><span>Compare <strong>ErrType = 0x7.</strong>&nbsp;&nbsp;</span></p></li><li><p style="text-align: justify;"><strong>{CAIUUELR1.ErrAddr,CAIUUELR0.ErrWord, CAIUUELR0.ErrWay, CAIUUELR0.ErrEntry} = Unmapped address</strong></p></li><li>Reset by W1C :&nbsp;&nbsp;<strong>DIIUUESAR.ErrVld&nbsp;&nbsp;</strong>= 1&nbsp;(optional)</li></ul></td><td colspan="1" class="confluenceTd"><p>Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</p><p><br /></p></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section:&nbsp; 5.1.3.2</p><p>Section:&nbsp; 5.5</p></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">N</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Need to implement in Env</td></tr></tbody></table></div><p><br /></p><h2 id="Ncorev3.0ErrorTestplan-DVE">DVE&nbsp;</h2><p><br /></p><div class="table-wrap"><table class="wrapped confluenceTable" style="width: 1448.0px;"><colgroup><col style="width: 29.0px;" /><col style="width: 71.0px;" /><col style="width: 201.0px;" /><col style="width: 209.0px;" /><col style="width: 228.0px;" /><col style="width: 130.0px;" /><col style="width: 88.0px;" /><col style="width: 263.0px;" /><col style="width: 67.0px;" /><col style="width: 54.0px;" /><col style="width: 242.0px;" /></colgroup><tbody><tr><th style="width: 29.0px;" class="confluenceTh"><br /></th><th style="width: 71.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-ErrorType"><strong>Error Type</strong></h3></th><th style="width: 201.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Description">Description</h3></th><th style="width: 89.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Scenario">Scenario</h3></th><th style="width: 228.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Referencedoc.1"><strong>Reference doc</strong></h3></th><th style="width: 144.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Where.1"><strong>Where</strong></h3></th><th style="width: 60.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Done.1"><strong>Done</strong></h3></th><th style="width: 263.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-RunCommand.1">Run Command</h3></th><th style="width: 67.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Status.1">Status</h3></th><th style="width: 55.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-JIRA.1">JIRA</h3></th><th style="width: 241.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Comment.1"><strong>Comment</strong></h3></th></tr><tr><td style="width: 29.0px;" class="confluenceTd" rowspan="3">1</td><td style="width: 71.0px;" class="confluenceTd" rowspan="3"><span>Wrong target Ids</span></td><td style="width: 201.0px;" class="confluenceTd" rowspan="2"><p><span>CMDreq, DTWreq, SNPrsp, STRrsp required to be sent with correct destination ids, and if not then transaction will be dropped by the unit and address of the transaction is logged.</span></p><p><strong>TODO: </strong>Need to add check for STRrsp to check DUT dropping txn or not.</p><p><br /></p><p><strong>Error injection and logging steps:</strong></p><ul><li>Enable transport error detection by writing DVEUUEDR.TransErrDetEn = 1.</li><li>Enable transport error interrupt by writing DVEUUEIR.TransErrIntEn = 1</li><li>Target id error injection in CMDreq happens using knob &quot;<span>inject_cmd_trgt_id_err</span>&quot;.</li><li>Target id error injection in DTWreq happens using knob &quot;<span>inject_dtw_trgt_id_err</span>&quot;.</li><li>Target id error injection in SNPrsp happens using knob &quot;<span>inject_snp_trgt_id_err</span>&quot;.</li><li>Target id error injection in STRrsp happens using knob &quot;<span>inject_str_trgt_id_err</span>&quot;.</li><li><strong>DVEUUESR.ErrVld</strong> will be asserted.</li><li><strong>DVEUUESR.ErrType = 0x8</strong></li><li><strong>DVEUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[0]&nbsp;&ndash; 1&rsquo;b0&nbsp;</li></ul><ul><li>[5:1]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[15:6]&nbsp;&ndash;&nbsp;Source ID&nbsp;(FUnit_Id)</li></ul></li></ul></li></ul></li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li></ul></td><td style="width: 89.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 144.0px;" class="confluenceTd"><a class="external-link" href="http://dve_ral_csr_seq.sv" rel="nofollow">dve_ral_csr_seq.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 263.0px;" class="confluenceTd"><p>runsim -e dve -t&nbsp; csr_dveuedr_TransErrDetEn_DtwtargtId</p><p><span>runsim -e dve -t&nbsp; </span>csr_dveuedr_TransErrDetEn_SnptargtId</p><p><span>runsim -e dve -t&nbsp; </span>csr_dveuedr_TransErrDetEn_CmdtargtId</p><p><span>runsim -e dve -t&nbsp; </span>csr_dveuedr_TransErrDetEn_StrtargtId</p><p><span>runsim -e dve -t&nbsp; </span>csr_dveueir_TransErrInt_DtwtargtId</p><p><span>runsim -e dve -t&nbsp; </span>csr_dveueir_TransErrInt_SnptargtId</p><p><span>runsim -e dve -t&nbsp; </span>csr_dveueir_TransErrInt_CmdtargtId</p><p><span>runsim -e dve -t&nbsp; </span>csr_dveueir_TransErrInt_StrtargtId</p></td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 55.0px;" class="confluenceTd"><br /></td><td style="width: 241.0px;" class="confluenceTd"><br /><p>CSR seq:</p><p>dve_csr_dveuedr_TransErrDetEn_seq</p></td></tr><tr><td style="width: 89.0px;" class="confluenceTd"><span>Check that DVE drops the transaction</span></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p></td><td style="width: 144.0px;" class="confluenceTd">dve_sb.svh</td><td style="width: 60.0px;" class="confluenceTd"><p>Y</p><p><span><strong>TODO:</strong> Need to add check for&nbsp;STRrsp.</span></p></td><td style="width: 263.0px;" class="confluenceTd"><br /></td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 55.0px;" class="confluenceTd"><br /></td><td style="width: 241.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 201.0px;" class="confluenceTd"><p>Wrong target id error injection in CMDreq, DTWreq, SNPrsp, STRrsp.</p><p><strong>Error injection and logging steps:</strong></p><ul><li>Enable transport error detection by writing DVEUUEDR.TransErrDetEn = 1.</li><li>Target id error injection in CMDreq happens using knob &quot;inject_cmd_trgt_id_err&quot;.</li><li>Target id error injection in DTWreq happens using knob &quot;inject_dtw_trgt_id_err&quot;.</li><li>Target id error injection in SNPrsp happens using knob &quot;inject_snp_trgt_id_err&quot;.</li><li>Target id error injection in STRrsp happens using knob &quot;inject_str_trgt_id_err&quot;.</li><li><strong>DVEUUESR.ErrVld</strong> will be asserted.</li><li><strong>{DVEUUELR1.ErrAddr, DVEUUELR0.ErrWord, DVEUUELR0.ErrWay, DVEUUELR0.ErrEntry} = expected address</strong></li></ul></td><td style="width: 89.0px;" class="confluenceTd"><p>Error logging checks for ErrAddr, ErrWord, ErrWay, ErrEntry.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification<br />Section: 5.3<br /><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 144.0px;" class="confluenceTd"><a class="external-link" href="http://dve_ral_csr_seq.sv" rel="nofollow">dve_ral_csr_seq.sv</a></td><td style="width: 60.0px;" class="confluenceTd"><p>Y</p></td><td style="width: 263.0px;" class="confluenceTd">runsim -e dve -t csr_dveuelr_TransErrDetEn_CmdtargtId<br />runsim -e dve -t csr_dveuelr_TransErrDetEn_DtwtargtId<br />runsim -e dve -t csr_dveuelr_TransErrDetEn_SnptargtId<br />runsim -e dve -t csr_dveuelr_TransErrDetEn_StrtargtId</td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 55.0px;" class="confluenceTd"><br /></td><td style="width: 241.0px;" class="confluenceTd">CSR seq:<br />dve_csr_dveuelr_seq</td></tr><tr><td style="width: 29.0px;" class="confluenceTd">2</td><td style="width: 71.0px;" class="confluenceTd"><span>Dbad on DTWreq</span></td><td style="width: 201.0px;" class="confluenceTd"><p><span>Generate random dbad value in DTWreq by using knob &quot;<span>k_dtw_dbad_err_wgt</span></span><span>&quot;.</span></p><ul><li><p>DVE should not return DTWrsp with Data Error in the CMStatus = 8'b1000_0011 and should issue DTWrsp with normal CMstatus.</p></li><li>DVE should return CmpRsp with Data Error in the CMStatus.</li><li>Deallocate any resources associated with this transaction.</li></ul></td><td style="width: 89.0px;" class="confluenceTd"><p>DVE should&nbsp; issue DTWrsp with normal CMstatus.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.7</p></td><td style="width: 144.0px;" class="confluenceTd">dve_sb.svh</td><td style="width: 60.0px;" class="confluenceTd"><p>Y</p></td><td style="width: 263.0px;" class="confluenceTd">runsim -e dve -t random_dbad_on_DTWreq</td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 55.0px;" class="confluenceTd"><br /></td><td style="width: 241.0px;" class="confluenceTd"><p><br /></p></td></tr><tr><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd">Error in SnpRsp</td><td colspan="1" class="confluenceTd">Generate random error in SnpRsp by using knob &quot;k_snp_rsp_err_wgt&quot;.<br /><ul><li>DVE should return CmpRsp with error in the CMStatus. The value of CMStatus will depend on the type of error injected.</li></ul></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Ncore 3.0 DVE Micro-Architecture Specification <br />5.1.10 Error Handling Table</td><td colspan="1" class="confluenceTd">dve_sb.svh</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd">runsim -e dve -t snp_rsp_cmstatus_error</td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td></tr></tbody></table></div><h2 id="Ncorev3.0ErrorTestplan-DMI">DMI</h2><p><strong><strong>Note:&nbsp;</strong>TB improvement needed to add checks as per JIRA CONC-6270.</strong></p><p><strong><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Timeout<strong><strong>&nbsp;error injection test needs to be implemented as per JIRA CONC-6270.</strong></strong></strong></strong></p><div class="table-wrap"><table class="wrapped confluenceTable" style="width: 1300.0px;"><colgroup><col style="width: 164.0px;" /><col style="width: 269.0px;" /><col style="width: 113.0px;" /><col style="width: 228.0px;" /><col style="width: 144.0px;" /><col style="width: 60.0px;" /><col style="width: 310.0px;" /><col style="width: 68.0px;" /><col style="width: 68.0px;" /><col style="width: 176.0px;" /></colgroup><tbody><tr><th style="width: 167.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Test">Test</h3></th><th style="width: 308.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Description.1">Description</h3></th><th style="width: 77.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Scenario.1">Scenario</h3></th><td style="width: 95.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Referencedoc.2"><strong>Reference doc</strong></h3></td><td style="width: 70.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Where.2"><strong>Where</strong></h3></td><td style="width: 60.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Done.2"><strong>Done</strong></h3></td><th style="width: 310.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Runcommand">Run command</h3></th><th style="width: 68.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Status.2">Status</h3></th><th style="width: 68.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-JIRA.2">JIRA</h3></th><th style="width: 77.0px;" class="confluenceTh"><h3 id="Ncorev3.0ErrorTestplan-Remarks">Remarks</h3></th></tr><tr><td style="text-align: center;width: 1300.0px;" class="confluenceTd" colspan="10"><strong>Uncorrectable</strong><br /><p><br /></p></td></tr><tr><td colspan="1" class="confluenceTd"><strong>Timeout error</strong></td><td colspan="1" class="confluenceTd"><p>Delayed AXI bresp more than configured timeout counter to generate timeout error when SMC eviction occur.</p><p>Used below knobs to delay AXI bresp,</p><p>k_ace_slave_write_addr_chnl_delay_min,</p><p>k_ace_slave_write_addr_chnl_delay_max,</p><p>k_ace_slave_write_addr_chnl_burst_pct,</p><p>k_ace_slave_write_addr_chnl_wait_for_vld</p><p><br /></p><p><strong>CSR seq:</strong></p><ul><li>Enable timeout error detect by writing 1 to&nbsp;<strong>DMIUUEDR.TimeoutErrDetEn</strong>.</li><li>Enable timeout error interrupt by writing 1 to&nbsp;<strong>DMIUUEIR.TimeoutErrIntEn</strong>.</li><li>Set timeout threshold by writing 1 to&nbsp;<strong>DMIUTOCR.TimeOutThreshold</strong></li><li>Set cache line (Dirty state) set and way in register&nbsp;<strong>DMIUSMCMLR0</strong> to flush.</li><li>Set MntOp opcode = 0x5 (Flush by set and way) to register <strong>DMIUSMCMCR.</strong></li><li>Wait for <strong>DMIUUESR.ErrVld</strong> to assert.</li><li>Wait for <strong>IRQ_UC</strong> to assert.</li><li><strong>DMIUUESR.ErrType = 0x9</strong></li><li><strong>DMIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li><span><span>&nbsp;</span></span><span>[1:0] - Reserved</span></li><li><span>&nbsp;</span><span>[2] - Security Attribute</span><span>&nbsp;</span><span>&nbsp;</span></li><li><span>&nbsp;</span><span>[15:3] - Reserved</span></li></ul></li></ul></li><li><strong>{DMIUUELR1.ErrAddr, DMIUUELR0.ErrWord, DMIUUELR0.ErrWay, DMIUUELR0.ErrEntry} = Cache line addr</strong></li></ul></td><td colspan="1" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Section: 5.8</span></p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td colspan="1" class="confluenceTd"><a class="external-link" href="http://dmi_csr_seq_lib.sv" rel="nofollow">dmi_csr_seq_lib.sv</a></td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd">runsim -e dmi -t&nbsp;csr_timeout_error_test</td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">CSR seq:&nbsp;dmi_csr_time_out_error_seq</td></tr><tr><td style="width: 167.0px;" class="confluenceTd" rowspan="4"><span><strong>Protocol Error:</strong> AXI Response&nbsp;</span><span style="color: black;">Error</span></td><td style="width: 308.0px;" class="confluenceTd" rowspan="4"><p><span>Both read and write response from the AXI can be considered as Protocol Error which would fall into uncorrectable errors category.</span></p><p><span><br /></span></p><p>Enable protocol error detection by writing DMIUUEDR.ProtErrDetEn =1.</p><p>Enable protocol error interrupt by writing DMIUUEIR.ProtErrIntEn = 1.</p><p><strong>Read response error injection:</strong> SLVERR /DECERR injection happens using knob &quot;prob_ace_rd_resp_error&quot;.</p><p><strong>Read response error logging:</strong></p><ul><li><strong>DMIUUESR.ErrVld</strong> will be asserted.</li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li><li><strong>DMIUUESR.ErrType = 0x3</strong></li><li><strong>DMIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] - rresp&nbsp;</li><li>[2] - Security Attribute&nbsp;arprot[1]</li><li>[3]-&nbsp;0</li></ul></li></ul></li><li><strong>{DMIUUELR1.ErrAddr, DMIUUELR0.ErrWord, DMIUUELR0.ErrWay, DMIUUELR0.ErrEntry} = ARADDR</strong></li></ul><p><br /></p><p><strong>Write response error injection:</strong> SLVERR /DECERR injection happens using knob &quot;prob_ace_wr_resp_error&quot;.</p><p><strong>Write<strong> response </strong></strong><strong>Error logging <strong>(Only for EWA, coherency domain VZ)</strong>: </strong></p><ul><li><strong>DMIUUESR.ErrVld</strong> will be asserted.</li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li><li><strong>DMIUUESR.ErrType = 0x2</strong></li><li><strong>DMIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] - bresp&nbsp;</li><li>[2] - Security Attribute&nbsp;awprot[1]</li><li>[3]-&nbsp;0</li></ul></li></ul></li><li><strong>{DMIUUELR1.ErrAddr, DMIUUELR0.ErrWord, DMIUUELR0.ErrWay, DMIUUELR0.ErrEntry} = AWADDR</strong></li></ul><p><span><br /></span></p><p><span><span>CMStatus in DTRreq for AXI READ response error test.</span></span></p><p>SLVERR &ndash; <span>8'b10000011</span> (Data&nbsp;Error)</p><p>DECERR &ndash; 8'b10000100 (Address&nbsp;Error)</p><p>Corresponding DBAD = 1 in DTRreq when SLVERR occur.</p><p><br /></p><p><span>CMStatus in DTWrsp for AXI WRITE response error test for non EWA.</span></p><p>SLVERR &ndash; 8'b10000011 (Data&nbsp;Error)</p><p>DECERR &ndash; 8'b10000100 (Address&nbsp;Error)</p></td><td style="width: 77.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 70.0px;" class="confluenceTd">dmi_csr_seq_lib.sv</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><p>runsim -e dmi -t csr_dmi_elr_seq_rd_resp_err_uncorr</p><p><span>runsim -e dmi -t csr_dmi_elr_seq_wr_resp_err_uncorr</span></p></td><td style="width: 68.0px;" class="confluenceTd">Pass</td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><p>CSR seq:&nbsp;</p><p>dmi_csr_elr_seq_trans_err</p><p><br /></p></td></tr><tr><td style="width: 77.0px;" class="confluenceTd"><p><span>CMStatus in DTRreq for AXI READ response error:</span></p><p>SLVERR &ndash; <span>8'b10000011</span> (Data&nbsp;Error)</p><p>DECERR &ndash; 8'b10000100 (Address&nbsp;Error)</p></td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 70.0px;" class="confluenceTd">dmi_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 77.0px;" class="confluenceTd">Corresponding DBAD = 1 in DTRreq when SLVERR occur.</td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 70.0px;" class="confluenceTd">dmi_states.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 77.0px;" class="confluenceTd"><p><span>CMStatus in DTWrsp for AXI WRITE response error for non EWA.</span></p><p>SLVERR &ndash; 8'b10000011 (Data&nbsp;Error)</p><p>DECERR &ndash; 8'b10000100 (Address&nbsp;Error)</p></td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 70.0px;" class="confluenceTd">dmi_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 167.0px;" class="confluenceTd" rowspan="3"><span><strong>SECDED/PARITY:</strong>&nbsp;SMC Tag, Data and wbuffer memory Error</span></td><td style="width: 308.0px;" class="confluenceTd" rowspan="3"><ul><li><span class="legacy-color-text-default"><span class="legacy-color-text-default">Tag Uncorrectable Error during SMC lookup due to CMDReq/MRDreq/DTWmrgMRDreq.</span></span></li><li><span class="legacy-color-text-default"><span class="legacy-color-text-default"><span class="legacy-color-text-default">Data Uncorrectable Error upon SMC data access.</span></span></span><span class="legacy-color-text-default"><span class="legacy-color-text-default"><span class="legacy-color-text-default"><br /></span></span></span></li></ul><p><span class="legacy-color-text-default"><span class="legacy-color-text-default"><span class="legacy-color-text-default"><br /></span></span></span></p><p><span class="legacy-color-text-default"><span class="legacy-color-text-default"><span class="legacy-color-text-default"><strong>Error injection and logging steps:</strong></span></span></span></p><ul><li>Enable memory error detection by writing DMIUUEDR.MemErrDetEn = 1 and DMIUUEIR.MemErrIntEn = 1.</li><li><span>Inject single/double bit data error using below MntOps.</span></li><li><span>Inject single/double bit tag error using below MntOps.</span><br /><ol><li><span>Ran DMI sequence.</span></li><li><span>After completion of DMI sequence set &quot;DMIUCECR.ErrDetEn&quot; = 1 for corr or DMIUCECR.MemErrDetEn = 1 for uncorr.</span></li><li><span>Randomly select Set and Way from available cache entry and set in to DMIUSMCMLR0 register, For Data error injection need to select only <span>cacheline in dirty state.</span></span></li><li><span>set MntOp = 0xC (Debug Read Entry at set, way, and word) and ArrayID (ArrayId = 1 for Data array, ArrayId = 0 for Tag array) in register DMIUSMCMCR.</span></li><li><span>Wait for MntOpActv</span></li><li><span>Read data from &quot;DMIUSMCMDR&quot; register.</span></li><li><span>Inject single bit or double bit error in the data/tag.</span></li><li><span>Write error injected data back to &quot;DMIUSMCMDR&quot; register.</span></li><li><span>set MntOp = 0xE (Debug Write Entry at set, way, and word) <span>and ArrayID (ArrayId = 1 for Data array, ArrayId = 0 for Tag array)</span> in register DMIUSMCMCR.</span></li><li><span>Wait for MntOpActv</span></li><li><span>Configured DMIUSMCMLR0 register to flush by specified address (address belongs to set and way which are configures in step 3)</span></li><li><span>set MntOp = 0x6 (flush entry by address specified in step 11)</span></li><li><span>Wait for MntOpActv</span></li><li><span>Wait for DMIUCESR_ErrVld or DMIUUESR_ErrVld to set.</span></li><li><span>Compare ErrInfo, ErrType, ErrEntry, ErrWord, ErrWay and ErrAddrr.</span></li></ol></li><li>Inject double bit write buffer error using knob &quot;wbuffer_double_bit_error_test&quot; in case SECDED and single bit error using knob &quot;<span>wbuffer_single_bit_error_test</span>&quot; in case of PARITY.</li><li><strong>DMIUUESR.ErrVld</strong> will be asserted.</li><li><strong>DMIUUESR.ErrType = </strong>0x1 for Tag and Data,<br />= 0x0 for wbuffer</li><li><strong>DMIUUESR.ErrInfo = </strong>0x0 for Tag<br />= 0x1 for Data<br />= 0x2 for wbuffer</li><li><strong>For TAG and DATA:</strong><ul><li><strong><strong>DMIUUELR1.ErrAddr = </strong></strong>Must be Zero</li><li><strong><strong>DMIUUELR0.ErrWord =</strong></strong>Error injected Word</li><li><strong><strong>DMIUUELR0.ErrWay =</strong></strong>Error injected Way</li><li><strong><strong>DMIUUELR0.ErrEntry =</strong></strong>Error injected set</li></ul></li><li><strong>For WBUFFER:</strong><ul><li><strong>DMIUUELR1.ErrAddr = </strong>Must be Zero</li><li><strong>DMIUUELR0.ErrWord =</strong>Must be Zero</li><li><strong>DMIUUELR0.ErrWay</strong><strong>=</strong>Must be Zero</li><li><strong>DMIUUELR0.ErrEntry =</strong>Write buffer address</li></ul></li><li><strong>IRQ_UC</strong> interrupt will be asserted.<span class="legacy-color-text-default"><br class="_mce_tagged_br" /></span></li></ul><br /><ul><li>DTRreq with CMStatus = 8&rsquo;b10000100 (Address Error).</li><li>DMI manufacture appropriately sized and poisoned (DBAD = 1) data payload in DTRreq.<br /><br /></li></ul><ul><li><span class="legacy-color-text-default">Data is poisoned (DBAD = 1) and DTRReq is returned with CMStatus = 8&rsquo;b10000011 (Data Error).</span></li></ul><p><strong><span class="legacy-color-text-default">TODO: </span></strong><span class="legacy-color-text-default">There is no specification for wbuffer error consequences in ncore 3.0 system specification.</span></p></td><td style="width: 77.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 70.0px;" class="confluenceTd"><a class="external-link" href="http://dmi_csr_seq_lib.sv" rel="nofollow">dmi_csr_seq_lib.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><p><strong>For SECDED:</strong></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_double_bit_wbuffer_err_uncorr</span></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_double_bit_data_err_uncorr</span></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_double_bit_tag_err_uncorr</span></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_double_bit_wbuffer_err_uncorr</span></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_double_bit_data_err_uncorr</span></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_double_bit_tag_err_uncorr</span></p><p><strong>For PARITY:</strong></p><p>runsim -e dmi -t csr_dmicecr_single_errDetEn_corr_wbuffer</p><p>runsim -e dmi -t csr_dmicecr_single_errDetEn_corr_tag</p><div>runsim -e dmi -t csr_dmicecr_single_errDetEn_corr_data</div><div>runsim -e dmi -t csr_dmicecr_single_errThd_corr_wbuffer</div><div>runsim -e dmi -t csr_dmicecr_single_errThd_corr_tag</div><div>runsim -e dmi -t csr_dmicecr_single_errThd_corr_data</div><div>runsim -e dmi -t csr_dmicecr_single_errDetEn_corr_data</div><div>runsim -e dmi -t csr_dmi_elr_seq_single_bit_wbuffer_err_corr</div><div>runsim -e dmi -t csr_dmi_elr_seq_single_bit_data_err_corr</div></td><td style="width: 68.0px;" class="confluenceTd">Pass except wbuffer tests</td><td style="width: 68.0px;" class="confluenceTd"><p>CONC-6459 (for wbuffer tests)</p></td><td style="width: 77.0px;" class="confluenceTd"><p>CSR seq:&nbsp;</p><p>dmi_csr_elr_seq</p><p>csr_dmicecr_single_errDetEn_corr_wbuffer</p><p>dmi_csr_dmicecr_errThd_seq</p></td></tr><tr><td style="width: 77.0px;" class="confluenceTd"><p>DTRreq with CMStatus = 8&rsquo;b10000100 (Address Error) and DBAD = 1 for data payload</p></td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 70.0px;" class="confluenceTd">dmi_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 77.0px;" class="confluenceTd"><p><span class="legacy-color-text-default">Data is poisoned (DBAD = 1) and DTRReq is returned with CMStatus = 8&rsquo;b10000011 (Data Error).</span></p></td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 70.0px;" class="confluenceTd">dmi_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 167.0px;" class="confluenceTd" rowspan="2"><span class="legacy-color-text-default">dBad seen on dtwReq</span></td><td style="width: 308.0px;" class="confluenceTd" rowspan="2"><ul><li><span>Generate random dbad value in DTWreq by using knob &quot;<span>random_Dbad_on_DTWreq</span></span><span>&quot;.</span></li><li>Issue normal CMStatus in DTWrsp.</li><li>Data is marked as poisoned if filling into a cache.</li><li>Write strobes are de-asserted if writing to downstream main memory through AXI native interface.</li></ul></td><td style="width: 77.0px;" class="confluenceTd"><p>Data is marked as poisoned if filling into a cache.</p></td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.7</p></td><td style="width: 70.0px;" class="confluenceTd">dmi_states.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><span><span>runsim -e dmi -t random_Dbad_on_DTWreq</span></span></td><td style="width: 68.0px;" class="confluenceTd">Pass</td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 77.0px;" class="confluenceTd">Write strobes are de-asserted if writing to downstream main memory</td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.7</p></td><td style="width: 70.0px;" class="confluenceTd">dmi_states.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 167.0px;" class="confluenceTd" rowspan="2"><strong>Transport Error: </strong>Wrong targ id</td><td style="width: 308.0px;" class="confluenceTd" rowspan="2"><p>Wrong target id error injection in CMDreq, DTWreq, MRDreq, DTRrsp, STRrsp, RBreq and RBUrsp.</p><p><br /></p><p><strong>Error injection and logging steps:</strong></p><ul><li>Enable <span>transport </span>error detection by writing DMIUUEDR.TransErrDetEn = 1.</li><li>Enable transport error interrupt enable by writing DMIUUEIR.TransErrIntEn = 1</li><li>Target id error injection in CMDreq happens using knob &quot;wrong_targ_id_cmd&quot;.</li><li>Target id error injection in DTWreq happens using knob &quot;wrong_targ_id_dtw&quot;.</li><li>Target id error injection in SNPrsp happens using knob &quot;wrong_targ_id_mrd&quot;.</li><li><strong>DMIUUESR.ErrVld</strong> will be asserted.</li><li><strong>DMIUUESR.ErrType = 0x8</strong></li><li><strong>DMIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[0]&nbsp;&ndash; 1&rsquo;b0&nbsp;</li></ul><ul><li>[5:1]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[15:6]&nbsp;&ndash;&nbsp;Source ID&nbsp;(FUnit_Id)</li></ul></li></ul></li></ul></li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li></ul></td><td style="width: 77.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo.</td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 70.0px;" class="confluenceTd"><a class="external-link" href="http://dmi_csr_seq_lib.sv" rel="nofollow">dmi_csr_seq_lib.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><p><span>runsim -e dmi -t </span>csr_dmi_elr_seq_wrong_cmd_uncorr</p><p><span>runsim -e dmi -t </span>csr_dmi_elr_seq_wrong_mrd_uncorr</p><p><span>runsim -e dmi -t </span>csr_dmi_elr_seq_wrong_dtw_uncorr</p><p><span>runsim -e dmi -t csr_dmi_elr_seq_wrong_dtr_rsp_uncorr</span></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_wrong_str_rsp_uncorr</span></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_wrong_rb_req_uncorr</span></p><p><span>runsim -e dmi -t csr_dmi_elr_seq_wrong_rb_use_rsp_uncorr</span></p><p><span>runsim -e dmi -t</span>csr_dmiueir_MemErrInt_uncorr_wbuffer</p><p><span>runsim -e dmi -t csr_dmiueir_MemErrInt_uncorr_TagMem</span></p><p><span>runsim -e dmi -t csr_dmiueir_MemErrInt_uncorr_dataMem</span></p></td><td style="width: 68.0px;" class="confluenceTd">Pass</td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><p>CSR seq:</p><p>dmi_csr_elr_seq_trans_err</p><p>dmi_csr_dmiueir_MemErrInt_seq</p></td></tr><tr><td style="width: 77.0px;" class="confluenceTd"><span>Check that DMI drops the transaction</span></td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p></td><td style="width: 70.0px;" class="confluenceTd">dmi_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 77.0px;" class="confluenceTd"><br /></td></tr><tr><td style="text-align: center;width: 1300.0px;" class="confluenceTd" colspan="10"><strong>Corractable</strong></td></tr><tr><td style="width: 167.0px;" class="confluenceTd" rowspan="2"><p><span><strong>SECDED</strong> SMC Tag, Data and wbuffer memory Error</span></p></td><td style="width: 308.0px;" class="confluenceTd"><p><span class="legacy-color-text-default">Injects correctable errors in SMC tag/data using below MntOps.</span></p><p><span class="legacy-color-text-default"><br /></span></p><p><span class="legacy-color-text-default"><strong>Error injection and logging steps:</strong></span></p><ol><li>Ran DMI sequence.</li><li>After completion of DMI sequence set &quot;DMIUCECR.ErrDetEn&quot; = 1 and DMIUCEIR.ErrIntEn = 1.</li><li>Randomly select Set and Way from available cache entry and set in to DMIUSMCMLR0 register, For Data error injection need to select only cacheline in dirty state.</li><li>set MntOp = 0xC (Debug Read Entry at set, way, and word) and ArrayID (ArrayId = 1 for Data array, ArrayId = 0 for Tag array) in register DMIUSMCMCR.</li><li>Wait for MntOpActv</li><li>Read data from &quot;DMIUSMCMDR&quot; register.</li><li>Inject single bit error in the data/tag.</li><li>Write error injected data back to &quot;DMIUSMCMDR&quot; register.</li><li>set MntOp = 0xE (Debug Write Entry at set, way, and word) and ArrayID (ArrayId = 1 for Data array, ArrayId = 0 for Tag array) in register DMIUSMCMCR.</li><li>Wait for MntOpActv</li><li>Configured DMIUSMCMLR0 register to flush by specified address (address belongs to set and way which are configures in step 3)</li><li>set MntOp = 0x6 (flush entry by address specified in step 11)</li><li>Wait for MntOpActv</li></ol><p><span class="legacy-color-text-default">Injects correctable errors in wbuffer memory using knob &quot;wbuffer_single_bit_error_test&quot;.</span></p><ul><li><strong>DMIUCESR.ErrVld</strong> will be asserted.</li><li><strong>DMIUCESR.ErrType = </strong>0x1 for Tag and Data,<br />= 0x0 for wbuffer</li><li><strong>DMICUESR.ErrInfo = </strong>0x0 for Tag<br />= 0x1 for Data<br />= 0x2 for wbuffer</li><li><strong>For TAG and DATA:</strong><ul><li><strong>DMIUCELR1.ErrAddr = </strong>Must be Zero</li><li><strong>DMIUCELR0.ErrWord =</strong>Error injected Word</li><li><strong>DMIUCELR0.ErrWay =</strong>Error injected Way</li><li><strong>DMIUCELR0.ErrEntry =</strong>Error injected set</li></ul></li><li><strong>For WBUFFER:</strong><ul><li><strong>DMIUCELR1.ErrAddr = </strong>Must be Zero</li><li><strong>DMIUCELR0.ErrWord =</strong>Must be Zero</li><li><strong>DMIUCELR0.ErrWay</strong><strong>=</strong>Must be Zero</li><li><strong>DMIUCELR0.ErrEntry =</strong>Write buffer address</li></ul></li><li><strong>IRQ_C</strong> interrupt will be asserted.</li></ul></td><td style="width: 77.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 95.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.1</span></p></td><td style="width: 70.0px;" class="confluenceTd"><a class="external-link" href="http://dmi_csr_seq_lib.sv" rel="nofollow">dmi_csr_seq_lib.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 310.0px;" class="confluenceTd"><p><span>runsim -e dmi -t csr_dmicecr_single_errDetEn_corr_wbuffer</span></p><p>runsim -e dmi -t csr_dmicecr_single_errDetEn_corr_tag</p><div><span>runsim -e dmi -t csr_dmicecr_single_errDetEn_corr_data</span></div><div>runsim -e dmi -t csr_dmicecr_single_errThd_corr_wbuffer</div><div><span>runsim -e dmi -t csr_dmicecr_single_errThd_corr_tag</span></div><div><span>runsim -e dmi -t csr_dmicecr_single_errThd_corr_data</span></div><div><span><br /></span></div><div>runsim -e dmi -t&nbsp;csr_dmi_elr_seq_single_bit_tag_err_corr</div><div>runsim -e dmi -t csr_dmi_elr_seq_single_bit_wbuffer_err_corr</div><div>runsim -e dmi -t csr_dmi_elr_seq_single_bit_data_err_corr</div></td><td style="width: 68.0px;" class="confluenceTd">Pass</td><td style="width: 68.0px;" class="confluenceTd"><p><br /></p></td><td style="width: 77.0px;" class="confluenceTd"><p>CSR seq:</p><p>dmi_csr_dmicecr_errDetEn_seq</p><p>dmi_csr_dmicecr_errThd_seq</p><p>dmi_csr_elr_seq</p></td></tr><tr><td colspan="1" class="confluenceTd"><p>In this test we will check if correctable errors are corrected which should be count by Error counter.<br /><br /><strong>CSR seq:</strong></p><ul><li>Set <strong>DMIUCECR.ErrThreshold</strong> with random value b/w 1 to 255 (errthd)</li><li>Set <strong>DMIUCECR.ErrDetEn</strong> = 1</li><li>Set <strong>DMIUCECR.ErrIntEn</strong> = 1</li><li>Inject threshold number of time correctable error</li><li>Poll <strong>DMIUCESR.ErrVld</strong> and <strong>DMIUCESR.ErrCountOverflow</strong> should be 0</li><li>Inject one more correctable error (errthd + 1)</li><li>Wait for <strong>DMIUCESR.ErrVld</strong> to assert</li><li>Read <strong>DMIUCESR.ErrCountOverflow</strong>, it should be 0</li><li>Check <strong>DMIUCESR.ErrCount</strong> should be same as errthd</li><li><strong>IRQ_C</strong> interrupt will be asserted</li><li>Inject one more correctable error (errthd + 2)</li><li>Poll&nbsp;<strong>DMIUCESR.ErrVld</strong> and <strong>DMIUCESR.ErrCountOverflow</strong> should be 1</li><li>Check <strong>DMIUCESR.ErrCount</strong> should be same as errthd</li><li>Disable <strong>DMIUCECR.ErrDetEn</strong> by writing 0</li><li>Clear <strong>DMIUCESR.ErrVld</strong> by writing 1 (W1C access type)</li><li>Read and compare <strong>DMIUCESR.ErrCount</strong>, it should be 0</li><li>Read and compare <strong>DMIUCESR.ErrCountOverflow</strong>, it should be 0</li></ul></td><td colspan="1" class="confluenceTd">To test ErrThreshold, ErrCount and ErrCountOverflow registers</td><td colspan="1" class="confluenceTd">Ncore+3.0+System+Specification<br />Table: 5.1.1.1<br />Table: 5.1.1.2</td><td colspan="1" class="confluenceTd"><a class="external-link" href="http://dmi_csr_seq_lib.sv/" rel="nofollow">dmi_csr_seq_lib.sv</a></td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd">runsim -e dmi -t csr_dmicecr_single_errThd_corr_data_SECDED<br /><br /><span><strong>TODO:</strong> <br />-&nbsp;Need to add check for&nbsp;<br />IRQ_C interrupt<br /></span>- Check the behaviour of the test when the value of&nbsp;DMIUCECR.ErrThreshold is set to 0</td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">CSR seq:<br />dmi_csr_dmicecr_errThd_seq<br /><br /></td></tr></tbody></table></div><p><strong><br /></strong></p><h2 id="Ncorev3.0ErrorTestplan-CHI-AIU">CHI-AIU</h2><div class="table-wrap"><table class="wrapped confluenceTable" style="width: 1568.0px;"><colgroup><col style="width: 103.0px;" /><col style="width: 226.0px;" /><col style="width: 84.0px;" /><col style="width: 228.0px;" /><col style="width: 162.0px;" /><col style="width: 60.0px;" /><col style="width: 67.0px;" /><col style="width: 68.0px;" /><col style="width: 305.0px;" /><col style="width: 265.0px;" /></colgroup><tbody><tr><td style="width: 103.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Test.1">Test</h3></td><td style="width: 226.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Description.2"><strong>Description</strong></h3></td><td style="width: 84.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Scenario.2"><strong>Scenario</strong></h3></td><td style="width: 228.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Referencedoc.3"><strong>Reference doc</strong></h3></td><td style="width: 162.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Where.3"><strong>Where</strong></h3></td><td style="width: 60.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Done.3"><strong>Done</strong></h3></td><td style="width: 67.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Status.3"><strong>Status</strong></h3></td><td style="width: 68.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-JIRA.3"><strong>JIRA</strong></h3></td><td style="width: 305.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-RunCommand.2"><strong>Run Command</strong></h3></td><td style="width: 265.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Remarks.1"><strong>Remarks</strong></h3></td></tr><tr><td style="width: 103.0px;" class="confluenceTd"><strong>Timeout error</strong></td><td style="width: 226.0px;" class="confluenceTd"><p>Delayed CMDRsp more than configured timeout counter to generate timeout error using knob &quot;CMDrsp_time_out_test&quot;,</p><p>Delay STRreq&nbsp;more than configured timeout counter to generate timeout error using knob &quot;STRreq_time_out_test&quot;,</p><p>Delay SNPrsp more than configured timeout counter to generate timeout error using knob &quot;SNPrsp_time_out_test&quot;.</p><p><strong>CSR seq:</strong></p><ul><li>Enable timeout error detect by writing 1 to <strong>CAIUUEDR.TimeoutErrDetEn</strong>.</li><li>Enable timeout error interrupt by writing 1 to <strong>CAIUUEIR.TimeoutErrIntEn</strong>.</li><li>Set timeout threshold by writing 1 to <strong>CAIUTOCR.TimeOutThreshold</strong></li><li>Wait for <strong>CAIUUESR.ErrVld</strong> to assert.</li><li>Wait for <strong>IRQ_UC</strong> to assert.</li><li><strong>CAIUUESR.ErrType = 0x9</strong></li><li><strong>CAIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li><span><span>&nbsp;</span></span><span>[1:0] - Reserved</span></li><li><span>&nbsp;</span><span>[2] - Security Attribute</span><span>&nbsp;</span><span>&nbsp;</span></li><li><span>&nbsp;</span><span>[15:3] - Reserved</span></li></ul></li></ul></li><li><strong>{CAIUUELR1.ErrAddr, CAIUUELR0.ErrWord, CAIUUELR0.ErrWay, CAIUUELR0.ErrEntry} = CMD_REQ addr / SNP_REQ addr</strong></li></ul></td><td style="width: 84.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Section: 5.8</span></p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">_csr_seq_lib.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">FAIL</td><td style="width: 68.0px;" class="confluenceTd">CONC-6705</td><td style="width: 305.0px;" class="confluenceTd"><p>runsim -e chi_aiu -t&nbsp;<span class="legacy-color-text-default">csr_timeout_error_test_cmd_rsp_delayed</span></p><p>runsim -e chi_aiu -t&nbsp;<span class="legacy-color-text-default">csr_timeout_error_test_str_req_delayed</span></p><p>runsim -e chi_aiu -t&nbsp;<span class="legacy-color-text-default">csr_timeout_error_test_snp_rsp_delayed</span></p></td><td style="width: 265.0px;" class="confluenceTd">CSR seq:&nbsp;chi_aiu_csr_time_out_error_seq</td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="6"><p><strong><span class="inline-comment-marker" data-ref="d4f66687-1c21-41a0-9293-e2d7c84d7fbb">Decode Error:</span></strong><span class="inline-comment-marker" data-ref="d4f66687-1c21-41a0-9293-e2d7c84d7fbb"> Unmapped address access</span></p></td><td style="width: 226.0px;" class="confluenceTd" rowspan="6"><p><strong>Error injection and logging:</strong></p><ul style="list-style-type: square;"><li>Generate random unmapped address by using knob &quot;unmapped_add_access&quot;, Added constraint in &quot;chi_container_pkg&quot; to generate unmapped address outside of all memory region.<strong><br class="_mce_tagged_br" /></strong></li><li>Set DecErrDetEn and DecErrIntEn to 1.</li><li>Poll CAIUUESR_ErrVld to assert.</li><li>Compare <strong>ErrInfo</strong>.<ul style="list-style-type: square;"><li style="list-style-type: none;background-image: none;"><ul><li><span>[1:0] &ndash;</span>&nbsp;<span>2&rsquo;b00:</span><span>&nbsp;</span><span>No address hit</span><span>&nbsp;</span></li><li><span>[3:2]</span><span>&nbsp;</span><span>&ndash; Reserved</span><span>&nbsp;</span><span>&nbsp;</span></li><li><span>[4] &ndash; Command Type </span>(Reserved for CHI-AIU)</li></ul><ul><li><span>[5] &ndash; Reserved</span><span>&nbsp;</span></li><li><span>[15:6]</span><span>&nbsp;</span><span>&ndash;</span><span>&nbsp;</span><span>Transaction ID/AXID</span><span>&nbsp;</span></li></ul></li></ul></li><li><p style="text-align: justify;"><span>Compare <strong>ErrType = 0x7.</strong>&nbsp;&nbsp;</span></p></li><li><p style="text-align: justify;"><strong>{CAIUUELR1.ErrAddr, CAIUUELR0.ErrWord, CAIUUELR0.ErrWay, CAIUUELR0.ErrEntry} = Unmapped address</strong><span><br /></span></p></li><li><p style="text-align: justify;">Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul><p><br /></p><p>For Reads hitting this error,</p><p><br /></p><div><ul><li>Check that CHI AIU replies with 2'b11 on RespErr field of Rsp flit and doesn't initiate any SMI messages.</li></ul></div><div><ul><li>The correct number of data beats must be sent to the processor.</li><li>RespErr in CHI DAT FLIT must be set to Non data Error 2&rsquo;b11.</li><li>Poison bits in CHI DAT FLIT must be set if poison bits are enabled on the interface.</li><li>Respective BE bits in CHI DAT FLIT must be 0.<br /><br /></li></ul><p>For Writes hitting this error,</p></div><div><ul><li>The RespErr in DBID response should indicate Non Data Error.</li></ul></div></td><td style="width: 84.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.5</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">_csr_seq_lib.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd"><p>&nbsp;CONC-6223</p></td><td style="width: 305.0px;" class="confluenceTd">runsim -e chi_aiu -t random_unmapped_add</td><td style="width: 265.0px;" class="confluenceTd"><p>Used CSR seq: chi_aiu_csr_no_address_hit_seq</p></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>Check that CHI AIU replies with 2'b11 on RespErr field of Rsp flit and doesn't initiate any SMI messages.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>The correct number of data beats must be sent to the processor.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scb_txn.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>RespErr in CHI DAT FLIT must be set to Non data Error 2&rsquo;b11.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>Poison bits in CHI DAT FLIT must be set if poison bits are enabled on the interface.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd">Respective BE bits in CHI DAT FLIT must be 0.</td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd"><p>Unsupported transaction</p></td><td style="width: 226.0px;" class="confluenceTd"><p>Generate an unsupported/rsvd opcode transaction from CHI BFM using knob &quot;<span>unsupported_txn</span>&quot;</p><ul><li><span>Check that CHI AIU replies with 2'b11 on RespErr field of Rsp flit and doesn't initiate any SMI messages.</span></li></ul></td><td style="width: 84.0px;" class="confluenceTd"><p><span>Check that CHI AIU replies with 2'b11 on RespErr field of Rsp flit and doesn't initiate any SMI messages.</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd"><p><span>CONC-6223</span></p></td><td style="width: 305.0px;" class="confluenceTd">runsim -e chi_aiu -t unsupported_txn</td><td style="width: 265.0px;" class="confluenceTd"><p><br /></p></td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="2"><strong><span class="inline-comment-marker" data-ref="9dd653bf-57c2-4f28-909f-5762aa320912">Transport Error:</span></strong><span class="inline-comment-marker" data-ref="9dd653bf-57c2-4f28-909f-5762aa320912"> Wrong target ID</span></td><td style="width: 226.0px;" class="confluenceTd" rowspan="2"><p>Generate CMDrsp, DTWrsp, DTRrsp, SNPreq, DTRreq, and STRreq SMI messages from system sequence with wrong target ID on AIU's rx port.</p><ul><li><span>Check that AIU drops the transaction, logs the error and asserts interrupt.</span></li></ul><p><span><br /></span></p><p><span><strong>Error injection and logging:</strong></span></p><ul><li>Target id error injection in CMDrsp happens using knob &quot;wrong_cmdrsp_target_id&quot;.</li><li>Target id error injection in DTWrsp happens using knob &quot;wrong_dtwrsp_target_id&quot;.</li><li>Target id error injection in DTRrsp happens using knob &quot;wrong_dtrrsp_target_id&quot;.</li><li>Target id error injection in SNPreq happens using knob &quot;wrong_snpreq_target_id&quot;.</li><li>Target id error injection in DTRreq happens using knob &quot;wrong_dtrreq_target_id&quot;.</li><li>Target id error injection in STRreq happens using knob &quot;wrong_strreq_target_id&quot;.</li></ul><ul style="list-style-type: square;"><li>Enable transport error detection by writing CAIUUEDR.TransErrDetEn = 1.</li><li>Enable transport error interrupt enable by writing CAIUUEIR.TransErrIntEn = 1</li><li><strong>CAIUUESR.ErrVld</strong> will be asserted.</li><li><strong>CAIUUESR.ErrType = 0x8</strong></li><li><strong>CAIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[0]&nbsp;&ndash; 1&rsquo;b0&nbsp;</li></ul><ul><li>[5:1]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[15:6]&nbsp;&ndash;&nbsp;Source ID&nbsp;(FUnit_Id)</li></ul></li></ul></li></ul></li></ul></li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li></ul></td><td style="width: 84.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 162.0px;" class="confluenceTd">chi_<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">aiu_csr_seq_lib.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 68.0px;" class="confluenceTd"><p><br /></p></td><td style="width: 305.0px;" class="confluenceTd"><p>runsim -e chi_aiu -t wrong_target_id_on_CMDrsp</p><p><span>runsim -e chi_aiu -t wrong_target_id_on_</span>DTWrsp</p><p><span>runsim -e chi_aiu -t wrong_target_id_on_</span>DTRrsp</p><p>runsim -e chi_aiu -t wrong_target_id_on_SNPreq</p><p><span>runsim -e chi_aiu -t wrong_target_id_on_DTRreq</span></p><p><span><span>runsim -e chi_aiu -t </span>wrong_target_id_on_STRreq</span></p></td><td style="width: 265.0px;" class="confluenceTd">Used CSR seq: chi_aiu_csr_caiuuedr_TransErrDetEn_seq</td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><span>Check that AIU drops the transaction</span></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="2">Dbad on DTRReq</td><td style="width: 226.0px;" class="confluenceTd" rowspan="2"><p>Generate DTR from system sequence with random Dbad value using knob &quot;random_dbad_value&quot;.</p><ul><li><span>Check that AIU sends out each CHI DATA flits with RespErr field set to 2'b10.</span></li><li><span>Set Poison on RDAT Flit</span></li></ul></td><td style="width: 84.0px;" class="confluenceTd"><p><span>Check that CHI DATA flits with RespErr field set to 2'b10.</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 68.0px;" class="confluenceTd"><p><br /></p></td><td style="width: 305.0px;" class="confluenceTd">runsim -e chi_aiu -t random_dbad_on_DTRreq</td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p><span>Set Poison on RDAT Flit</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="3"><div style="text-align: left;">CHI Interface Snoop Response Error</div><p><br /></p></td><td style="width: 226.0px;" class="confluenceTd" rowspan="3"><div><strong>Error injection and logging:</strong></div><div><ul style="list-style-type: square;"><li>Data error in snp_rsp on chi resp flit using &quot;SNPrsp_with_data_error&quot;.</li><li>Non Data error in snp_rsp on chi resp flit using &quot;chi_snp_rsp_non_data_error&quot;.</li><li><p>Enable protocol error detection by writing CAIUUEDR.ProtErrDetEn =1.</p></li><li><p>Enable protocol error interrupt by writing CAIUUEIR.ProtErrIntEn = 1.</p></li><li><strong>CAIUUESR.ErrVld</strong> will be asserted.</li></ul></div><div><ul style="list-style-type: square;"><li><strong>IRQ_UC</strong> interrupt will be asserted.</li><li><strong>CAIUUESR.ErrType = </strong>0x3 for Non data error</li><li><strong> </strong>0x2 for data error</li><li><strong>CAIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li><span>[1:0]</span><span>&nbsp;</span><span>&ndash;</span><span>&nbsp;</span><span>Response</span><span>&nbsp;</span></li><li><span>[2] - Security Attribute</span></li></ul></li></ul></li></ul></li><li><strong>{CAIUUELR1.ErrAddr, CAIUUELR0.ErrWord, CAIUUELR0.ErrWay, CAIUUELR0.ErrEntry} = ARADDR</strong><strong><br /></strong></li></ul></div><div><ul><li>If AIU provides data, the error is propagated on either DtwReq or DtrReq with smi_cmstatus = Data Error/Non-Data (Address) error and <strong>No error</strong> indication in SNPrsp smi_cmstatus.</li><li>When AIU does not provide data then the error is propagated on SnpRsp with smi_cmstatus = Data Error/Non-Data (Address) Error.</li></ul></div></td><td style="width: 84.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">_csr_seq_lib.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd"><span class="legacy-color-text-default">CONC-6321</span></td><td style="width: 305.0px;" class="confluenceTd"><p><span><span>runsim -e chi_aiu -t </span>chi_snp_rsp_data_error</span></p><p><span><span>runsim -e chi_aiu -t </span>chi_snp_rsp_non_data_error</span></p></td><td style="width: 265.0px;" class="confluenceTd">Used CSR seq: chi_aiu_csr_caiuuedr_ProtErrDetEn_seq</td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>If AIU provides data, the error is propagated on either DtwReq or DtrReq with smi_cmstatus = Data Error/Non-Data (Address) error and <strong>No error</strong> indication in SNPrsp smi_cmstatus.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>When AIU does not provide data then the error is propagated on SnpRsp with smi_cmstatus = Data Error/Non-Data (Address) Error.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p><p>Ncore+3.0+System+Specification</p><p>Section: 5.2</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="2"><div style="text-align: left;">Non Data Error seen on CHI DAT FLIT</div></td><td style="width: 226.0px;" class="confluenceTd" rowspan="2"><div style="text-align: left;">Generate non data error on chi tx data flit using knob &quot;chi_data_flit_non_data_err&quot;.</div><div style="text-align: left;">Set DBad on DTW/DTR request data.</div><div style="text-align: left;">Set CMstatus = 8&rsquo;b0b10000100 on DTW/DTR data</div></td><td style="width: 84.0px;" class="confluenceTd">Set DBad on DTW/DTR request data.</td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><p><span>runsim -e chi_aiu -t </span>non_data_error_on_chi_flit</p></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd">Set CMstatus = 8&rsquo;b0b10000100 on DTW/DTR data</td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="2"><span>Data Error seen on CHI DAT FLIT</span></td><td style="width: 226.0px;" class="confluenceTd" rowspan="2"><div><span>Generate data error on chi tx data flit using knob &quot;chi_data_flit_data_err&quot;.</span></div><div>Set DBad on DTW/DTR request data.</div><div>Set CMstatus = 8&rsquo;b0b10000011 on DTW/DTR data</div></td><td style="width: 84.0px;" class="confluenceTd">Set DBad on DTW/DTR request data.</td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><span>runsim -e chi_aiu -t </span><span>data_error_on_chi_flit</span></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd">Set CMstatus = 8&rsquo;b0b10000011 on DTW/DTR data</td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd"><div style="text-align: left;">Poison bits set on Chi wdata flit</div></td><td style="width: 226.0px;" class="confluenceTd"><div>Generate random poison on chi tx wdata flit using knob &quot;wt_chi_data_flit_with_poison&quot;.</div><div>Set DBad on DTW/DTR request data and do <strong>not</strong> se<span class="legacy-color-text-blue1">t CMstatus = 8&rsquo;b0b10000011 on DTW/DTR data</span></div></td><td style="width: 84.0px;" class="confluenceTd">Set DBad on DTW/DTR request data</td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd">CONC-6526</td><td style="width: 305.0px;" class="confluenceTd"><span>runsim -e chi_aiu -t chi_wdata_flit_with_poison</span></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="4">Error during coh/non-coh part of atomic txns</td><td style="width: 226.0px;" class="confluenceTd" rowspan="4"><p>Report error in STRreq cmstatus during coh/non-coh part of atomic txn using&nbsp;knob &quot;strreq_cmstatus_with_error&quot;.</p><p><br /></p><ul><li><span class="legacy-color-text-blue3">If an error is reported back to the initiating AIU during the first coherent part, then the error is propagated on the Native interface and the second part is not carried out. Note that the AIU is expected to issue proper response and deallocate its transaction entry</span></li><li><span class="legacy-color-text-blue3">If an error is reported back to the initiating AIU during the second non-coherent part, then the error is propagated on the Native interface. Note that the AIU is expected to issue proper response and deallocate its transaction entry</span></li></ul></td><td style="width: 84.0px;" class="confluenceTd"><span>Check that AIU drive 2'b10 (Data error) on RespErr field of RspFlit&nbsp; when cm_status indicates data error in STRreq.</span></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scb_txn.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd">CONC-6811</td><td style="width: 305.0px;" class="confluenceTd"><span>runsim -e chi_aiu -t&nbsp;<span class="legacy-color-text-default">error_in_atomic_txn</span></span></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><span>Check the RespErr to be 2'b11 (Non-Data error) for cm_status indicates address error in STRreq</span></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scb_txn.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd">CHI-AIU manufactures data and asserts poison bits on CHI RDATA flit when&nbsp;<span>when cm_status indicates data error/non data error in STRreq.</span></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scb_txn.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">If an error is reported back to the initiating AIU during the first coherent part then&nbsp;second (non coh) part is not carried out.</span></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scb_txn.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="4">CM status with error</td><td style="width: 226.0px;" class="confluenceTd" rowspan="4"><p>Generate StrReq from system sequence to have&nbsp;random CMstatus values for CCMP reported protocol and transport error using knob &quot;strreq_cmstatus_with_error&quot;.</p><p><span>Generate DTWrsp from system sequence to have&nbsp;random CMstatus values for CCMP reported protocol and transport error using knob &quot;dtwrsp_cmstatus_with_error&quot;.</span></p><p><br /></p><ul><li><span>Check that AIU drive 2'b10 (Data error) on RespErr field of RspFlit on CHI interface when cm_status matches following values:&nbsp;</span><br class="atl-forced-newline" /><span>[7:6] = 'b10, [5]= 'b0, [2:0] = 'b011 or&nbsp;</span><br class="atl-forced-newline" /><span>[7:6] = 'b10, [5]= 'b1, [2:0] = 'b110)</span></li><li><span>Check the RespErr to be 2'b11 (Non-Data error) for all other values of cm_status field.</span></li><li><span><span>Check that CHI AIU terminates the transaction by sending required CHI packets to CHI agent. Which in most cases is a CompDBIDResp, CompResp</span></span></li></ul></td><td style="width: 84.0px;" class="confluenceTd"><span>Check that AIU drive 2'b10 (Data error) on RespErr field of RspFlit&nbsp; when cm_status indicates data error.</span></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd"><div><span>CONC-5929, CONC-6176,</span></div><div><span><span>CONC-5970, CONC-5923,</span></span></div><div><span><span><span>CONC-5260&nbsp;</span></span></span></div></td><td style="width: 305.0px;" class="confluenceTd"><p>runsim -e chi_aiu -t random_strreq_cmstatus_with_error</p><p><span>runsim -e chi_aiu -t random_dtwrsp_cmstatus_with_error</span></p></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p><span>Check the RespErr to be 2'b11 (Non-Data error) for cm_status indicates address error</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><span>Check that CHI AIU terminates the transaction by sending required CHI packets to CHI agent</span></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>CHI-AIU manufactures data and asserts poison bits on CHI RDATA flit when&nbsp;<span>when cm_status indicates data error/non data error in STRreq.</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scb_txn.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd"><div style="text-align: left;">CMStatus indicating data error for dtrReq</div></td><td style="width: 226.0px;" class="confluenceTd"><div style="text-align: left;"><p><span>Generate DTRreq from system sequence to have&nbsp;random CMstatus data error values for CCMP reported protocol and transport error using knob &quot;dtrreq_cmstatus_with_error&quot;, &quot;cmstatus_data_error&quot;</span></p><ul><li>Set Data Error in RespErr field of CHI DAT FLIT</li></ul></div></td><td style="width: 84.0px;" class="confluenceTd"><p>Set Data Error in RespErr field of CHI DAT FLIT</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd"><span class="legacy-color-text-default">CONC-6266</span></td><td style="width: 305.0px;" class="confluenceTd"><span>runsim -e chi_aiu -t </span>random_dtrreq_cmstatus_with_data_error</td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd"><div style="text-align: left;">CMStatus indicating non</div><div style="text-align: left;">data error for dtrReq</div></td><td style="width: 226.0px;" class="confluenceTd"><div style="text-align: left;"><p><span>Generate DTRreq from system sequence to have&nbsp;random CMstatus non-data error values for CCMP reported protocol and transport error using knob &quot;dtrreq_cmstatus_with_error&quot; and &quot;cmstatus_non_data_error</span><span>&quot;.</span></p><ul><li>Set Non Data Error in RespErr field of CHI DAT FLIT</li></ul></div></td><td style="width: 84.0px;" class="confluenceTd"><p>Set Non Data Error in RespErr field of CHI DAT FLIT</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd"><span class="legacy-color-text-default">CONC-6266</span></td><td style="width: 305.0px;" class="confluenceTd"><span>runsim -e chi_aiu -t </span><span>random_dtrreq_cmstatus_with_non_data_error</span></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 103.0px;" class="confluenceTd" rowspan="7"><div style="text-align: left;"><strong>Decode Error: </strong>Attempt to access a target hitting multiple address</div><div style="text-align: center;"><div style="text-align: left;">regions</div></div></td><td style="text-align: left;width: 226.0px;" class="confluenceTd" rowspan="7"><div><strong>Error injection and logging:</strong></div><div><ul style="list-style-type: square;"><li>Generate addrMgrConst::user_addrq for COH and NON-COH addresses for randomly selected memory region using knobs &quot;user_addr_for_csr&quot;, &quot;use_seq_user_addrq&quot; and &quot;use_user_addrq&quot;.</li><li><span>Enable decode error detection by writing </span>CAIUUEDR.DecErrDetEn.</li><li><span>Enable decode error interrupt by writing <span>CAIUUEDR.DecErrIntEn.</span></span></li><li>Configure all GPR registers with same AddrLow and AddrHigh for randomly selected memory region.<span><span><br /></span></span></li><li>Poll CAIUUESR_ErrVld to assert.</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] &ndash;&nbsp;2&rsquo;b01:&nbsp;<span>Multiple address hit</span></li><li>[3:2]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[4] &ndash; Command Type (Reserved for CHI-AIU)</li></ul><ul><li>[5] &ndash; Reserved&nbsp;</li><li>[15:6]&nbsp;&ndash;&nbsp;Transaction ID/AXID&nbsp;</li></ul></li></ul></li><li><p style="text-align: justify;">Compare <strong>ErrType = 0x7.</strong>&nbsp;&nbsp;</p></li><li><p style="text-align: justify;"><strong>{CAIUUELR1.ErrAddr, CAIUUELR0.ErrWord, CAIUUELR0.ErrWay, CAIUUELR0.ErrEntry} = Unmapped address</strong></p></li><li><p style="text-align: justify;">Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul></div><div>For Reads hitting this error,</div><div><ul><li>Check that CHI AIU replies with 2'b11 on RespErr field of Rsp flit and doesn't initiate any SMI messages.</li></ul></div><div><ul><li>The correct number of data beats must be sent to the processor.</li><li>RespErr in CHI DAT FLIT must be set to Non data Error 2&rsquo;b11.</li><li>Poison bits in CHI DAT FLIT must be set if poison bits are enabled on the interface.</li><li>Respective BE bits in <span>CHI DAT FLIT must be 0.</span></li></ul><p>For Writes hitting this error,</p></div><div><ul><li>The RespErr in DBID response should indicate Non Data Error.</li></ul></div></td><td style="width: 84.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Section: 5.5</span></p></td><td style="width: 162.0px;" class="confluenceTd">chi_<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">aiu_csr_seq_lib.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd">Fail</td><td style="width: 68.0px;" class="confluenceTd"><span class="legacy-color-text-default">CONC-6413</span></td><td style="width: 305.0px;" class="confluenceTd"><div><p><br /></p><span><span>runsim -e chi_aiu -t </span>csr_addr_region_overlap_test</span><br /><p><br /></p></div></td><td style="width: 265.0px;" class="confluenceTd">Used CSR seq: chi_aiu_csr_address_region_overlap_seq</td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>Check that CHI AIU replies with 2'b11 on RespErr field of Rsp flit and doesn't initiate any SMI messages.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>The correct number of data beats must be sent to the processor.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>RespErr in CHI DAT FLIT must be set to Non data Error 2&rsquo;b11.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>Poison bits in CHI DAT FLIT must be set if poison bits are enabled on the interface.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>Respective BE bits in <span>CHI DAT FLIT must be 0.</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 84.0px;" class="confluenceTd"><p>For Write:</p><p>The RespErr in DBID response should indicate Non Data Error.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>CHI-AIU microarchitecture</p><p>Section: 13 Error handling</p></td><td style="width: 162.0px;" class="confluenceTd">chi_aiu_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 68.0px;" class="confluenceTd"><br /></td><td style="width: 305.0px;" class="confluenceTd"><br /></td><td style="width: 265.0px;" class="confluenceTd"><br /></td></tr></tbody></table></div><p><strong><br /></strong></p><h2 id="Ncorev3.0ErrorTestplan-IO-AIU">IO-AIU</h2><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 3.57821%;" /><col style="width: 8.88141%;" /><col style="width: 22.3048%;" /><col style="width: 11.1313%;" /><col style="width: 5.65294%;" /><col style="width: 9.72757%;" /><col style="width: 6.40943%;" /><col style="width: 2.58836%;" /><col style="width: 2.76175%;" /><col style="width: 2.87813%;" /><col style="width: 13.0445%;" /><col style="width: 11.022%;" /></colgroup><tbody><tr><td style="width: 5.8642%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Feature.1"><strong>Feature</strong></h3></td><td colspan="1" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Sub-feature.1"><strong>Sub-feature</strong></h3></td><td style="width: 15.6173%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Flow.1"><strong>Flow</strong></h3></td><td style="width: 8.45679%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Checker"><strong>Checker</strong></h3></td><td colspan="1" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-HashTag.1"><strong>Hash Tag</strong></h3></td><td style="width: 14.0741%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Referencedoc.4"><strong>Reference doc</strong></h3></td><td style="width: 9.25926%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Where.4"><strong>Where</strong></h3></td><td style="width: 3.7037%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Done.4"><strong>Done</strong></h3></td><td style="width: 4.01235%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-JIRA.4"><strong>JIRA</strong></h3></td><td style="width: 4.19753%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Status.4"><strong>Status</strong></h3></td><td style="width: 18.8272%;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-RunCommand.3"><strong>Run Command</strong></h3></td><td style="width: 15.9259%;" class="confluenceTd"><p><strong>Remarks</strong></p></td></tr><tr><td style="width: 5.8642%;" class="confluenceTd" rowspan="2"><strong>Error during coh/non-coh part of atomic txns</strong></td><td rowspan="2" class="confluenceTd"><strong>Error during coh/non-coh part of atomic txns</strong></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="2"><p>Report error in STRreq cmstatus during coh/non-coh part of atomic txn using&nbsp;knob &quot;<strong>strreq_cmstatus_with_error</strong>&quot;.</p><ul><li><span class="legacy-color-text-blue3">If an error is reported back to the initiating AIU during the first coherent part, then the error is propagated on the Native interface and the second part is not carried out. Note that the AIU is expected to issue proper response and deallocate its transaction entry</span></li><li><span class="legacy-color-text-blue3">If an error is reported back to the initiating AIU during the second non-coherent part, then the error is propagated on the Native interface. Note that the AIU is expected to issue proper response and deallocate its transaction entry<br /></span><span class="legacy-color-text-blue3">**********************************************************************************</span></li></ul></td><td style="width: 8.45679%;" class="confluenceTd"><p><span class="legacy-color-text-blue3">If an error is reported back to the initiating AIU during the first coherent part then&nbsp;second (non coh) part is not carried out. Error reported is DECERR, since only possibility is CMStatus='h84(Address Error)<br /></span></p><p><span class="legacy-color-text-blue3">Data Error is possible too. (via snooper)</span></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scb_txn.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd">CONC-6728</td><td style="width: 4.19753%;" class="confluenceTd">Pass</td><td style="width: 18.8272%;" class="confluenceTd">runsim -e ioaiu -t&nbsp;<span class="legacy-color-text-default">error_in_atomic_coh_part</span></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd" data-highlight-colour="#fff0b3"><p title="">IO-AIU issue error responses (SLVERR / DECERR) on native interface??</p><p title=""><br /></p><p title="">No Error on WrAtm on non-coherent part</p><p title=""><br /></p><p title="">*****************************************</p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scb_txn.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd">CONC-6671</td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 5.8642%;" class="confluenceTd"><strong>Timeout error</strong></td><td colspan="1" class="confluenceTd"><p><strong>Delayed CMDRsp,</strong></p><p><strong>STRreq,</strong></p><p><strong>DTWreq </strong></p></td><td style="width: 15.6173%;" class="confluenceTd"><p>Delayed CMDRsp more than configured timeout counter to generate timeout error using knob &quot;<strong>CMDrsp_time_out_test</strong>&quot;,</p><p>Delay STRreq&nbsp;more than configured timeout counter to generate timeout error using knob &quot;<strong>STRreq_time_out_test</strong>&quot;,</p><p>Delay DTWreq ready signal for CCP eviction using knob &quot;<strong>CCP_eviction_time_out_test</strong>&quot;.</p><p><strong>CSR seq:</strong></p><ul><li>Enable timeout error detect by writing 1 to <strong>XAIUUEDR.TimeoutErrDetEn</strong>.</li><li>Enable timeout error interrupt by writing 1 to <strong>XAIUUEIR.TimeoutErrIntEn</strong>.</li><li>Set timeout threshold by writing 1 to <strong>XAIUTOCR.TimeOutThreshold</strong></li><li>Set cache line (Dirty state) set and way in register&nbsp;<strong>XAIUPCMLR0</strong> to flush (Only for CCP eviction test).</li><li>Set MntOp opcode = 0x5 (Flush by set and way) to register <strong>XAIUPCMCR&nbsp;</strong>(Only for CCP eviction test).</li><li>Wait for <strong>XAIUUESR.ErrVld</strong> to assert.</li><li>Wait for <strong>IRQ_UC</strong> to assert.</li><li><strong>XAIUUESR.ErrType = 0x9</strong></li><li><strong>XAIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li><span><span>&nbsp;</span></span><span>[1:0] - Reserved</span></li><li><span>&nbsp;</span><span>[2] - Security Attribute</span><span>&nbsp;</span><span>&nbsp;</span></li><li><span>&nbsp;</span><span>[15:3] - Reserved</span></li></ul></li></ul></li><li><strong>{XAIUUELR1.ErrAddr, XAIUUELR0.ErrWord, XAIUUELR0.ErrWay, XAIUUELR0.ErrEntry} = CMD_REQ addr / Cache line addr</strong></li><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul></td><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Section: 5.8</span></p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow">i</a><a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">oaiu_csr_seq_lib.sv</a></td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><p>CONC-6629</p><p>CONC-7710</p><p>CONC-6319</p></td><td style="width: 4.19753%;" class="confluenceTd">Pass</td><td style="width: 18.8272%;" class="confluenceTd"><p>runsim -e ioaiu -t&nbsp;csr_timeout_error_test_cmd_rsp_delayed</p><p>runsim -e ioaiu -t&nbsp;csr_timeout_error_test_CCP_eviction</p><p>runsim -e ioaiu -t&nbsp;csr_timeout_error_test_str_req_delayed</p></td><td style="width: 15.9259%;" class="confluenceTd">CSR seq:&nbsp;ioaiu_csr_time_out_error_seq</td></tr><tr><td style="width: 5.8642%;" class="confluenceTd" rowspan="2"><strong><span class="inline-comment-marker" data-ref="94100a19-1312-490f-88e4-8ee57cc30a42">Wrong target ID</span></strong></td><td rowspan="2" class="confluenceTd"><p><strong>Target id error injection in </strong></p><p><strong> CMDrsp, DTWrsp, DTRrsp, SNPreq, DTRreq, STRreq, UPDrsp, CMPrsp</strong></p></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="2"><p>Generate CMDrsp, DTWrsp, DTRrsp, SNPreq, DTRreq, STRreq and UPDrsp SMI messages from system sequence with wrong target ID on AIU's rx port.</p><p><strong>Error injection and logging:</strong></p><ul><li>Target id error injection in CMDrsp happens using knob &quot;<strong>wrong_cmdrsp_target_id</strong>&quot;.</li><li>Target id error injection in DTWrsp happens using knob &quot;<strong>wrong_dtwrsp_target_id</strong>&quot;.</li><li>Target id error injection in DTRrsp happens using knob &quot;<strong>wrong_dtrrsp_target_id</strong>&quot;.</li><li>Target id error injection in SNPreq happens using knob &quot;<strong>wrong_snpreq_target_id</strong>&quot;.</li><li>Target id error injection in DTRreq happens using knob &quot;<strong>wrong_dtrreq_target_id</strong>&quot;.</li><li>Target id error injection in STRreq happens using knob &quot;<strong>wrong_strreq_target_id</strong>&quot;.</li><li>Target id error injection in STRreq happens using knob &quot;<strong>wrong_cmprsp_target_id</strong>&quot;.</li></ul><ul><li>Enable transport error detection by writing <strong>XAIUUEDR.TransErrDetEn = 1.</strong></li><li>Enable transport error interrupt enable by writing <strong>XAIUUEIR.TransErrIntEn =</strong> <strong>1</strong></li><li><strong>XAIUUESR.ErrVld</strong> will be asserted.</li><li><strong>XAIUUESR.ErrType = 0x8</strong></li><li><strong>XAIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[0]&nbsp;&ndash; 1&rsquo;b0&nbsp;</li></ul><ul><li>[5:1]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[15:6]&nbsp;&ndash;&nbsp;Source ID&nbsp;(FUnit_Id)</li></ul></li></ul></li></ul></li></ul></li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul></td><td style="width: 8.45679%;" class="confluenceTd"><p>Check that AIU drops the transaction</p><p><strong>TODO: </strong>Need to add checks for UPDrsp test to check that AIU drops the transaction.</p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scoreboard.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd" rowspan="2"><p>CONC-6556</p></td><td style="width: 4.19753%;" class="confluenceTd" rowspan="2">UPDrsp test fails</td><td style="width: 18.8272%;" class="confluenceTd" rowspan="2"><p>runsim -e ioaiu -t wrong_target_id_on_CMDrsp</p><p>runsim -e ioaiu -t wrong_target_id_on_DTWrsp</p><p><span>runsim -e ioaiu -t wrong_target_id_on_</span>DTRrsp</p><p>runsim -e <span>ioaiu</span> -t wrong_target_id_on_SNPreq</p><p>runsim -e <span>ioaiu</span> -t wrong_target_id_on_DTRreq</p><p>runsim -e <span>ioaiu</span> -t wrong_target_id_on_STRreq</p><p>runsim -r ioaiu -t wrong_target_id_on_UPDrsp</p></td><td style="width: 15.9259%;" class="confluenceTd" rowspan="2">Used CSR seq: io_aiu_csr_caiuuedr_TransErrDetEn_seq</td></tr><tr><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow">i</a>oaiu_csr_seq_lib.sv</td><td style="width: 3.7037%;" class="confluenceTd">Y</td></tr><tr><td style="width: 5.8642%;" class="confluenceTd" rowspan="4"><strong>CM status with error</strong></td><td rowspan="4" class="confluenceTd"><p><strong>strreq_cmstatus_with_error</strong></p><p><strong>dtwrsp_cmstatus_with_error</strong></p><p><strong>cmprsp_cmstatus_with_error</strong></p></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="4"><p>Generate StrReq from system sequence to have&nbsp;random CMstatus values for CCMP reported protocol and transport error using knob &quot;<strong>strreq_cmstatus_with_error</strong>&quot;.</p><p>Generate DTWrsp from system sequence to have&nbsp;random CMstatus values for CCMP reported protocol and transport error using knob &quot;<strong>dtwrsp_cmstatus_with_error</strong>&quot;.</p><p>Generate DVM CMPrsp from system sequence to have random CMstatus values using knob &quot;<strong>cmprsp_cmstatus_with_error</strong>&quot;.</p><p><span>Check that AIU drive SLVERR on ACE <span class="inline-comment-marker" data-ref="1aa731eb-527d-440d-b48a-327dd2efa26b">BRESP/RRESP</span> interface when cm_status with data error and <span>AIU does not expect DTRReq if STRReq contains error CMStatus for a read request</span>.&nbsp;</span><br class="atl-forced-newline" /><span>[7:6] = 'b10, [5]= 'b0, [2:0] = 'b011 or&nbsp;</span><br class="atl-forced-newline" /><span>[7:6] = 'b10, [5]= 'b1, [2:0] = 'b110)</span></p></td><td style="width: 8.45679%;" class="confluenceTd"><span>Check that AIU drive SLVERR/DECERR on ACE BRESP/RRESP interface.</span></td><td colspan="1" class="confluenceTd">#Check.Rresp.dtrreq_cmstatus_err</td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scb_txn.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><p>CONC-7027</p></td><td style="width: 4.19753%;" class="confluenceTd">PASS</td><td style="width: 18.8272%;" class="confluenceTd" rowspan="4"><p>runsim -e <span>ioaiu</span> -t random_strreq_cmstatus_with_error</p><p>runsim -e <span>ioaiu</span> -t random_dtwrsp_cmstatus_with_error</p><p>runsim -e <span>ioaiu</span> -t random_cmprsp_cmstatus_with_error</p></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd" data-highlight-colour="#fff0b3"><span class="legacy-color-text-default" title="">AIU does not expect DTRReq if STRReq contains error CMStatus for a read request. (scb should not expect DTRreq if STRreq has an error)<br /></span></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scb_txn.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd">CONC-7678</td><td style="width: 4.19753%;" class="confluenceTd">PASS</td><td style="width: 15.9259%;" class="confluenceTd">Though data is garbage, the beats should match.</td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><span class="legacy-color-text-default">For write request: Check that AIU does not write in to Cache if STRreq indicates error in cmstatus.</span></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><strong>TODO: </strong>Not mentioned in system specs but mentioned in JIRA CONC-6927&nbsp;</td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scb_txn.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd">PASS</td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td colspan="1" data-highlight-colour="#fff0b3" class="confluenceTd"><span class="legacy-color-text-default" title="">RTL needs to send RRESP as 0b0010 (SLVERR) to ACE processor and needs to make sure two RRESPs are identical for multi-part DVM.</span></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><strong>TODO:&nbsp;</strong>Not mentioned in system specs but mentioned in&nbsp;ARM spec: C12.3.4</td><td colspan="1" class="confluenceTd">ioaiu_scb_txn.svh</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">PASS</td><td colspan="1" class="confluenceTd">TODO: Open UArch bug on how errors on CMDrsp are propgated to nativeInterface.</td></tr><tr><td style="width: 5.8642%;" class="confluenceTd" rowspan="5"><strong>OTT Errors</strong></td><td rowspan="4" class="confluenceTd"><p><strong>&nbsp;Un-correctable </strong></p><p><strong>double bit error SECDED</strong><br /><strong>single bit PARITY</strong></p></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="4"><p><strong>Error injection and logging:</strong></p><p>Inject double bit OTT error using knob &quot;<strong>ccp_double_bit_direct_ott_error_test</strong>&quot; in case of SECDED.</p><ul><li>Enable memory error detection by writing<strong> XAIUUEDR.MemErrDetEn = 1</strong> and <strong>XAIUUEIR.MemErrIntEn = 1</strong>.</li><li><strong>XAIUUESR.ErrVld</strong> will be asserted.</li><li><strong>XAIUUESR.ErrType = </strong>0x0 for OTT</li><li><strong>XAIUUESR.ErrInfo = </strong>0x0 for OTT</li><li><strong>XAIUUELR1.ErrAddr = </strong>Must be Zero</li><li><strong>XAIUUELR0.ErrWord = </strong>Must be Zero</li><li><strong>XAIUUELR0.ErrWay</strong><strong>= </strong>OTT bank number</li><li><strong>XAIUUELR0.ErrEntry = </strong>Must not be zero (Do not have any mechanism to get the ErrEntry for OTT)</li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul></td><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><span class="legacy-color-text-default"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow" style="color: rgb(0,0,0);">i</a><a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow" style="color: rgb(0,0,0);">oaiu_csr_seq_lib.sv</a></span></td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd">PASS</td><td style="width: 18.8272%;" class="confluenceTd"><p>runsim -e ioaiu -t csr_uueir_MemErrInt_uncorr_OTT_Data</p><p><span>runsim -e ioaiu -t </span>csr_elr_seq_double_bit_ott_err_uncorr</p></td><td style="width: 15.9259%;" class="confluenceTd"><p>Used CSR seq: (1) ioaiu_csr_uueir_MemErrInt_seq</p><p>(2) <span>ioaiu_csr_elr_seq</span></p></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><span class="legacy-color-text-blue3">DTWReq is returned with CMStatus = 8&rsquo;b10000011 (Data Error) and poison bit set. If error is not detected on first beat, then only poison bit is set</span></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd">CONC-6721</td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><span class="legacy-color-text-blue3">Data that is to be stored in cache the poison bit is set</span></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd">CONC-6721</td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd">RRESP = SLVERR on AXI R channel for AXI read request.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd">CONC-6721</td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd"><p><strong>Correctable SECDED&nbsp;&nbsp;</strong></p><p><br /></p></td><td style="width: 15.6173%;" class="confluenceTd"><p><span><strong>Error injection and logging:</strong></span></p><p>Inject single bit OTT error using knob &quot;<strong>ccp_single_bit_tag_direct_error_test</strong>&quot;.</p><p>Inject single bit data error using below MntOps.</p><p>Inject single bit tag error using below MntOps.</p><p>1) set &quot;<strong>XAIU_CECR.ErrDetEn</strong>&quot; = 1 and <strong>XAIUCEIR.ErrIntEn</strong> = 1.<br />2) Randomly select Set and Way from available cache entry and set in to XAIU_SMCMLR00 register.<br />3) set MntOp = 0xC (Debug Read Entry at set, way, and word) <span>and ArrayID (ArrayId = 1 for Data array, ArrayId = 0 for Tag array) </span>in register XAIU_SMCMCR0.<br />4) Wait for MntOpActv<br />5) Read data from &quot;XAIU_SMCMDR0&quot; register.<br />6) Inject single bit error in the data from &quot;XAIU_SMCMDR0&quot; register.<br />7) Write error injected data back to &quot;XAIU_SMCMDR0&quot; register.<br />8) set MntOp = 0xE (Debug Write Entry at set, way, and word) <span>and ArrayID (ArrayId = 1 for Data array, ArrayId = 0 for Tag array) </span>in register XAIU_SMCMCR0.<br />9) Wait for MntOpActv<br />10) Configured XAIU_SMCMLR00 / XAIU_SMCMLR10 register to flush by specified address (address belongs to set and way which are configures in step 3)<br />11) set MntOp = 0x6 (flush entry by address specified in step 10)<br />12) Wait for MntOpActv<br />13) Wait for ErrVld to set.<br />14) Compare ErrInfo, ErrType, ErrEntry, ErrWord, ErrWay and ErrAddrr.</p><ul><li><strong>XAIUCESR.ErrVld</strong> will be asserted.</li><li><strong>XAIUCESR.ErrType = </strong>0x1 for Data and TAG<br />= 0x0 for OTT</li><li><strong>XAIUCESR.ErrInfo = </strong>0x1 for Data<br />= 0x0 for TAG and OTT<br /><br /></li><li><strong>XAIUCELR1.ErrAddr = </strong>Must be Zero</li><li><strong>XAIUCELR0.ErrWord =</strong>Error injected Word</li><li><strong>XAIUCELR0.ErrWay =</strong>Error injected Way</li><li><strong>XAIUCELR0.ErrEntry =</strong>Error injected set</li><li><strong>IRQ_C</strong> interrupt will be asserted.</li><li><strong>Reset by W1C :&nbsp; XAIUCESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul></td><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.1</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow">i</a><a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">oaiu_csr_seq_lib.sv</a></td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd">CONC-6574</td><td style="width: 4.19753%;" class="confluenceTd">FAIL</td><td style="width: 18.8272%;" class="confluenceTd"><p>runsim -e ioaiu -t csr_cecr_ErrInt_corr_OTT_Data</p><p><span>runsim -e ioaiu -t </span>csr_cecr_ErrInt_corr_CCP_Data</p><p><span>runsim -e ioaiu -t </span><span>csr_cecr_ErrInt_corr_CCP_Tag</span></p><p><span><span>runsim -e ioaiu -t </span>csr_elr_seq_single_bit_tag_err_corr</span></p><p><span><span>runsim -e ioaiu -t csr_elr_seq_single_bit_data_err_corr</span></span></p><p><span><span>runsim -e ioaiu -t csr_elr_seq_single_bit_ott_err_corr</span></span></p></td><td style="width: 15.9259%;" class="confluenceTd"><p><span>Used CSR seq: (1) ioaiu_csr_elr_seq</span></p><p><span>(2) ioaiu_csr_cecr_errInt_seq</span></p></td></tr><tr><td style="width: 5.8642%;" class="confluenceTd" rowspan="8"><p><strong>CCP error</strong></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p></td><td rowspan="4" class="confluenceTd"><p><strong>CCP Data error</strong></p><p><strong>(un-correctable)</strong></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="4"><p><strong>Error injection and logging:</strong></p><p>1)<strong> XAIU_UEDR.MemErrDetEn = 1</strong> and <strong>XAIUUEIR.MemErrIntEn = 1</strong>.<br />2) Randomly select Set and Way from available cache entry and set in to XAIU_SMCMLR00 register.<br />3) set MntOp = 0xC (Debug Read Entry at set, way, and word) <span>and ArrayID = 1 for Data array </span>in register XAIU_SMCMCR0.<br />4) Wait for MntOpActv<br />5) Read data from &quot;XAIU_SMCMDR0&quot; register.<br />6) Inject double bit error in the data from &quot;XAIU_SMCMDR0&quot; register.<br />7) Write error injected data back to &quot;XAIU_SMCMDR0&quot; register.<br />8) set MntOp = 0xE (Debug Write Entry at set, way, and word) <span>and ArrayID = 1 for Data array </span>in register XAIU_SMCMCR0.<br />9) Wait for MntOpActv<br />10) Configured XAIU_SMCMLR00 / XAIU_SMCMLR10 register to flush by specified address (address belongs to set and way which are configures in step 3)<br />11) set MntOp = 0x6 (flush entry by address specified in step 10)<br />12) Wait for MntOpActv<br />13) Wait for ErrVld to set.<br />14) Compare ErrInfo, ErrType, ErrEntry, ErrWord, ErrWay and ErrAddrr.</p><ul><li><strong>XAIUUESR.ErrVld</strong> will be asserted.</li><li><strong>XAIUUESR.ErrType = </strong>0x1 for Data</li><li><strong>XAIUUESR.ErrInfo = </strong>0x1 for Data<br /><br /></li><li><strong>XAIUUELR1.ErrAddr = </strong>Must be Zero</li><li><strong>XAIUUELR0.ErrWord =</strong>Error injected Word</li><li><strong>XAIUUELR0.ErrWay =</strong>Error injected Way</li><li><strong>XAIUUELR0.ErrEntry =</strong>Error injected set</li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul><p><strong>Need conformation:</strong></p><ul><li><strong>TODO:</strong> For read req: <br /><ul><li>Send RRESP = SLVERR on AXI read data channel.</li></ul></li><li><strong>TODO:</strong> For SMI snoop req:<ul><li><span>If snooping AIU provides data, </span>Send DTR_REQ / DTW_REQ with CMstatus = <span>&rsquo;b0b10000011 (Data error).</span></li><li>If snooping AIU does not provides data, Send SNP_RSP with CMstatus = &rsquo;b0b10000011 (Data error).<span><br /></span></li><li><span>Assert DBAD on corresponding data.</span></li></ul></li></ul></td><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow">i</a><a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">oaiu_csr_seq_lib.sv</a></td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><span>CONC-6441</span></td><td style="width: 4.19753%;" class="confluenceTd">FAIL</td><td style="width: 18.8272%;" class="confluenceTd"><p>runsim -e ioaiu -t <span class="legacy-color-text-default">csr_elr_seq_double_bit_data_err_uncorr</span></p><p><span class="legacy-color-text-default"><span>runsim -e ioaiu -t </span>csr_uueir_MemErrInt_uncorr_CCP_Data</span></p></td><td style="width: 15.9259%;" class="confluenceTd"><p>Used CSR seq: (1) ioaiu_csr_elr_seq</p><p>(2) ioaiu_csr_uueir_MemErrInt_seq</p></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><p>For read req:</p><p>Send RRESP = SLVERR on AXI read data channel.</p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><p>For SMI snoop req:</p><p><span>If snooping AIU provides data, </span>Send DTR_REQ / DTW_REQ with CMstatus = <span>&rsquo;b0b10000011 (Data error).</span></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd" data-highlight-colour="#fff0b3"><p title=""><span>For SMI snoop req:</span></p><p title=""><s><span>Assert DBAD on corresponding data.</span></s></p><p title=""><span><span class="legacy-color-text-blue3">It is treated as a miss in proxyCache. So there will not be any data transfer. </span></span></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td rowspan="4" class="confluenceTd"><p><strong>CCP Tag error</strong></p><p><strong>(un-correctable)</strong></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="4"><p><strong>Error injection and logging:</strong></p><p>1) <strong>XAIU_UEDR.MemErrDetEn = 1</strong> and <strong>XAIUUEIR.MemErrIntEn = 1</strong>.<br />2) Randomly select Set and Way from available cache entry and set in to XAIU_SMCMLR00 register.<br />3) set MntOp = 0xC (Debug Read Entry at set, way, and word) and ArrayID = 0 for TAG array in register XAIU_SMCMCR0.<br />4) Wait for MntOpActv<br />5) Read data from &quot;XAIU_SMCMDR0&quot; register.<br />6) Inject double bit error in the data from &quot;XAIU_SMCMDR0&quot; register.<br />7) Write error injected data back to &quot;XAIU_SMCMDR0&quot; register.<br />8) set MntOp = 0xE (Debug Write Entry at set, way, and word) and ArrayID = 0 for TAG array in register XAIU_SMCMCR0.<br />9) Wait for MntOpActv<br />10) Configured XAIU_SMCMLR00 / XAIU_SMCMLR10 register to flush by specified address (address belongs to set and way which are configures in step 3)<br />11) set MntOp = 0x6 (flush entry by address specified in step 10)<br />12) Wait for MntOpActv<br />13) Wait for ErrVld to set.<br />14) Compare ErrInfo, ErrType, ErrEntry, ErrWord, ErrWay and ErrAddrr.</p><ul><li><strong>XAIUUESR.ErrType = </strong>0x1 for Tag</li><li><strong>XAIUUESR.ErrInfo = </strong>0x0 for Tag<br /><br /></li><li><strong>XAIUUELR1.ErrAddr = </strong>Must be Zero</li><li><strong>XAIUUELR0.ErrWord =</strong>Error injected Word</li><li><strong>XAIUUELR0.ErrWay =</strong>Error injected Way</li><li><strong>XAIUUELR0.ErrEntry =</strong>Error injected set</li><li><strong>IRQ_UC</strong> interrupt will be asserted</li><li><strong>Reset by W1C :&nbsp; XAIUCESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul><p>For a tag Uncorrectable Error during cache lookup due to a native interface request, IOAIU treats the request as a cache miss and RTL send OkAY rsp</p><p><br /></p></td><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd">#Check.Rresp.CCP Tag error</td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow">i</a><a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">oaiu_csr_seq_lib.sv</a></td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd">CONC-8377</td><td style="width: 4.19753%;" class="confluenceTd">FAIL</td><td style="width: 18.8272%;" class="confluenceTd"><p>runsim -e ioaiu -t <span class="legacy-color-text-default">csr_elr_seq_double_bit_tag_err_uncorr</span></p><p><span class="legacy-color-text-default"><span>runsim -e ioaiu -t csr_uueir_MemErrInt_uncorr_CCP_Tag</span></span></p></td><td style="width: 15.9259%;" class="confluenceTd"><p>Used CSR seq: (1) ioaiu_csr_elr_seq</p><p>(2) ioaiu_csr_uueir_MemErrInt_seq</p></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><p>For read req:</p><p>Send RRESP = OK on AXI read data channel.</p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><p>For write req:</p><p>Send BRESP = OK on AXI write resp channel.</p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><p>For SMI snoop req:</p><p><span class="legacy-color-text-blue3">It is treated as a miss in proxyCache. So there will not be any data transfer. , but error should be reported. <br /></span></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 5.8642%;" class="confluenceTd" rowspan="4"><strong>Protocol Error</strong></td><td rowspan="4" class="confluenceTd"><strong>Snoop response error on ACE interface</strong><br /><p><br /></p><p><br /></p><p><br /></p></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="4" data-highlight-colour="#fff0b3"><p title=""><span>IOAIU logs all ACE</span><span>&nbsp;</span><span>CRresp</span><span>&nbsp;</span><span>errors</span><span>&nbsp;</span><span>(</span><span>CRresp</span><span>[1] is logged into</span><span>&nbsp;</span><span>ErrInfo</span><span>&nbsp;</span><span>Response field)</span></p><p title=""><span><strong>Error injection and logging:</strong></span></p><p title=""><span><span>Protocol error injection happens using knob &quot;</span><span><strong>prob_ace_snp_resp_error</strong>&quot;.</span></span></p><p title="">Enable protocol error detection by writing <strong>XAIUUEDR.ProtErrDetEn =1</strong>.</p><p title="">Enable protocol error interrupt by writing <strong>XAIUUEIR.ProtErrIntEn = 1</strong>.</p><ul title=""><li><strong>XAIUUESR.ErrVld</strong> will be asserted.</li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li><li><strong>XAIUUESR.ErrType = 0x4</strong></li><li><strong>XAIUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li><span>[1:0]</span><span>&nbsp;</span><span>&ndash;</span><span>&nbsp;CRESP [1:0]</span><span>&nbsp;</span></li><li><span>[2] - ACPROT[1]</span></li></ul></li></ul></li></ul></li><li><strong>{XAIUUELR1.ErrAddr, XAIUUELR0.ErrWord, XAIUUELR0.ErrWay, XAIUUELR0.ErrEntry} = ACADDR</strong></li><li><strong>Reset by W1C :&nbsp; XAIUCESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul><p title=""><span><br /></span></p><p title=""><span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">CCMP</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">&nbsp;</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">must</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">&nbsp;</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">be completed</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">&nbsp;</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">with Error</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">&nbsp;</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">CMStatus</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">&nbsp;</span></span><span><span class="inline-comment-marker" data-ref="6bdab4e2-c401-40ba-ab69-2217e4cf06ed">injected.</span></span></span></p><ul title=""><li><span><span>If AIU provides data then error is propagated on either DtwReq or DtrReq with smi_cmstatus = <span>8b&rsquo;10000011</span><span>&nbsp;</span><span>(Data Error)&nbsp;</span></span></span>and <strong>No error</strong> indication in SNPrsp smi_cmstatus.</li><li><span><span>If AIU does not provide data then error is propagated on SnpRsp with <span>smi_cmstatus = </span><span>8b&rsquo;10000011</span><span>&nbsp;</span><span>(Data Error)</span></span></span><span><span><span><br /></span></span></span></li></ul><p title=""><span class="legacy-color-text-red2"><strong>For DVM SNPReq:</strong></span></p><p title=""><span class="legacy-color-text-red2"><strong>RTL needs to set &ldquo;target signaled error&rdquo; (0x85) in its SNPRsp</strong></span></p></td><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow">i</a><a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">oaiu_csr_seq_lib.sv</a></td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd">CONC-6987, CONC-6988</td><td style="width: 4.19753%;" class="confluenceTd">Fail</td><td style="width: 18.8272%;" class="confluenceTd"><p><span>runsim -e ioaiu -t</span>&nbsp;<span class="legacy-color-text-default">Native_intf_snoop_rsp_error</span></p><p><span class="legacy-color-text-default"><span>runsim -e ioaiu -t</span>&nbsp;Native_intf_snoop_rsp_error_dvm_snoop</span></p></td><td style="width: 15.9259%;" class="confluenceTd">Used CSR seq: io_aiu_csr_uuedr_ProtErrDetEn_seq</td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><p><span>If AIU provides data then error is propagated on either DtwReq or DtrReq with smi_cmstatus = 8b&rsquo;10000011&nbsp;(Data Error)&nbsp;</span>and <strong>No error</strong> indication in SNPrsp smi_cmstatus.</p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Section: 5.2</span></p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scoreboard.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><span>If AIU does not provide data then error is propagated on SnpRsp with smi_cmstatus = 8b&rsquo;10000011&nbsp;(Data Error)</span></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Section: 5.2</span></p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scoreboard.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd"><p><span>For DVM SNPReq:</span></p><p><span>RTL needs to set &ldquo;target signaled error&rdquo; (0x85) in its SNPRsp</span></p></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-default"><strong>TODO:</strong> Not mentioned in Ncore 3.0 system specs but mentioned in&nbsp;ARM spec:C12.3.4, CCMP spec: Table 4-4</span></td><td colspan="1" class="confluenceTd">ioaiu_scb_txn.svh</td><td colspan="1" class="confluenceTd">N</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Looks like this should be a Address Error on SNPrsp but not indicated in Error spec.</td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td style="width: 5.8642%;" class="confluenceTd" rowspan="3"><div><strong>CMStatus Error</strong></div></td><td colspan="1" class="confluenceTd"><strong>CMStatus indicating data error for dtrReq</strong></td><td style="width: 15.6173%;" class="confluenceTd"><p><span><span>Generate DTRreq from system sequence to have&nbsp;random CMstatus data error values for CCMP reported protocol and transport error using knob &quot;<strong>dtrreq_cmstatus_with_error</strong>&quot;, &quot;<strong>cmstatus_data_error</strong>&quot; and dbad value using knob <strong>&quot;</strong></span><strong>random_dbad_value</strong><span>&quot;.</span></span></p></td><td style="width: 8.45679%;" class="confluenceTd"><span>Check that AIU drive SLVERR on ACE RRESP interface when cm_status with error.</span></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159850/Arch+Ncore+3.2+Docs" data-linked-resource-id="16159850" data-linked-resource-version="57" data-linked-resource-type="page">Arch Ncore 3.2 Docs</a></p><p>Ncore Error Architecture Specification</p><p>Rev: 0.85, January 18, 2022</p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scb_txn.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd">CONC-9028</td><td style="width: 4.19753%;" class="confluenceTd">FAIL</td><td style="width: 18.8272%;" class="confluenceTd"><span>runsim -e ioaiu -t <span class="legacy-color-text-default">random_dtrreq_cmstatus_with_data_error</span></span></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd"><p><strong>CMStatus indicating non</strong><br /><strong>data error for dtrReq</strong></p></td><td style="width: 15.6173%;" class="confluenceTd"><p><span>Generate DTRreq from system sequence to have&nbsp;random CMstatus non-data error values for CCMP reported protocol and transport error using knob &quot;<strong>dtrreq_cmstatus_with_error</strong>&quot; and &quot;<strong>cmstatus_non_data_erro</strong>r</span><span>&quot;.</span></p></td><td style="width: 8.45679%;" class="confluenceTd"><p>Check that AIU drive DECERR on ACE RRESP interface when cm_status with error.&nbsp;</p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159850/Arch+Ncore+3.2+Docs" data-linked-resource-id="16159850" data-linked-resource-version="57" data-linked-resource-type="page">Arch Ncore 3.2 Docs</a></p><p>Ncore Error Architecture Specification</p><p>Rev: 0.85, January 18, 2022</p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scb_txn.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd">CONC-9028</td><td style="width: 4.19753%;" class="confluenceTd">FAIL</td><td style="width: 18.8272%;" class="confluenceTd"><p><span>runsim -e ioaiu -t </span><span class="legacy-color-text-default">random_dtrreq_cmstatus_with_non_</span><span class="legacy-color-text-default">data_error</span></p></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd"><strong>1st beat of DTRreq indicates dbad </strong><strong>!= 0 and CMStatus indicates Address Error</strong></td><td colspan="1" class="confluenceTd"><p>If the first beat sent on SMI contains double</p><p>word for both SLVERR and DECERR, Address Error is injected into CMStatus.</p></td><td colspan="1" class="confluenceTd">Check in ioaiu_scb_txn.sv</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159850/Arch+Ncore+3.2+Docs" data-linked-resource-id="16159850" data-linked-resource-version="57" data-linked-resource-type="page">Arch Ncore 3.2 Docs</a></p><p>Ncore Error Architecture Specification</p><p>Rev: 0.85, January 18, 2022</p></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td style="width: 5.8642%;" class="confluenceTd" rowspan="5"><strong><strong>Decode Error</strong></strong><p style="text-align: justify;"><br /></p></td><td rowspan="2" class="confluenceTd"><p><strong>Attempt to access a target hitting multiple address</strong><br /><strong>regions</strong></p><p style="text-align: justify;"><br /></p></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="2"><strong>Error injection and logging:</strong><div><ul><li>Generate<strong> addrMgrConst::user_addrq</strong> for COH and NON-COH addresses for randomly selected memory region using knobs &quot;<strong>user_addr_for_csr</strong>&quot;, &quot;<strong>use_seq_user_addrq</strong>&quot; and &quot;<strong>use_user_addrq</strong>&quot;.</li><li>Enable decode error detection by writing <strong>XAIUUEDR.DecErrDetEn.</strong></li><li>Enable decode error interrupt by writing<strong> XAIUUEDR.DecErrIntEn</strong>.</li><li><span>Configure all GPR registers with same AddrLow and AddrHigh for randomly selected memory region.</span></li><li>Poll XAIUUESR_ErrVld to assert.</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] &ndash;&nbsp;<span>2&rsquo;b01:</span><span>&nbsp;</span><span>Multiple address hit</span></li><li>[3:2]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[4] &ndash; Command Type (Reserved for CHI-AIU)<ul><li><span>1&rsquo;b0:</span><span>&nbsp;</span><span>Read</span></li><li><span>1&rsquo;b1: Write</span></li></ul></li></ul><ul><li>[5] &ndash; Reserved&nbsp;</li><li>[15:6]&nbsp;&ndash;&nbsp;AxID&nbsp;</li></ul></li></ul></li><li><p style="text-align: justify;">Compare <strong>ErrType = 0x7.</strong>&nbsp;&nbsp;</p></li><li><p style="text-align: justify;"><strong>{XAIUUELR1.ErrAddr, XAIUUELR0.ErrWord, XAIUUELR0.ErrWay, XAIUUELR0.ErrEntry} = txn_address</strong></p></li><li><p style="text-align: justify;">Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul></div><ul><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul></td><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow">i</a><a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">oaiu_csr_seq_lib.sv</a></td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><br /><div><p><br /></p></div></td><td style="width: 4.19753%;" class="confluenceTd">PASS</td><td style="width: 18.8272%;" class="confluenceTd">&nbsp;<span>runsim -e ioaiu -t <span class="legacy-color-text-default">csr_addr_region_overlap_test</span></span></td><td style="width: 15.9259%;" class="confluenceTd">Used CSR seq: ioaiu_csr_address_region_overlap_seq</td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><p style="text-align: justify;"><span>AIU needs to complete the</span><span>&nbsp;</span><span>protocol</span><span>&nbsp;</span><span>and return DECERR&nbsp; error in the response.</span><span>&nbsp;</span></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Section: 5.5</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><br /></td><td style="width: 3.7037%;" class="confluenceTd">N</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd"><br /></td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr><tr><td rowspan="3" class="confluenceTd"><p><strong>Unmapped address access</strong></p><p><strong>fnCsrAccess=0 and RDNOSNP to CSR address region. </strong></p><p><br /></p><p><strong>Write 1 to valid bit NRS base region via APB interface . </strong></p><p><br /></p><p style="text-align: justify;"><br /></p></td><td style="width: 15.6173%;" class="confluenceTd" rowspan="3"><p><strong>Error injection and logging:</strong></p><ul><li>Generate unmapped address using knowb &quot;<strong>unmapped_add_access</strong>&quot;.</li><li>Set <strong>XAIUUESAR.DecErrDetEn</strong> and <strong>XAIUUESAR.DecErrIntEn</strong> to 1.</li><li>Poll XAIUUESR_ErrVld to assert.</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] &ndash;&nbsp;2&rsquo;b00:&nbsp;No address hit</li><li>[3:2]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[4] &ndash; Command Type&nbsp;<ul><li>1&rsquo;b0:&nbsp;Read</li><li>1&rsquo;b1: Write</li></ul></li></ul><ul><li>[5] &ndash; Reserved&nbsp;</li><li>[15:6]&nbsp;&ndash;&nbsp;AxID&nbsp;</li></ul></li></ul></li></ul></li><li><p style="text-align: justify;">Compare <strong>ErrType = 0x7.</strong></p></li><li><p style="text-align: justify;"><strong>{XAIUUELR1.ErrAddr, XAIUUELR0.ErrWord, XAIUUELR0.ErrWay, XAIUUELR0.ErrEntry} = Unmapped address</strong></p></li><li><p style="text-align: justify;">Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul><ul><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp; (optional)</strong></li></ul></td><td style="width: 8.45679%;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p><p><span class="legacy-color-text-default">Registers from:&nbsp;</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/csr/ioaiu.csr.cpr</span></p><p><span class="legacy-color-text-default">hw-ncr/cpr/json/io_aiu.json</span></p></td><td style="width: 9.25926%;" class="confluenceTd"><a class="external-link" href="http://ioaiu_csr_seq_lib.sv" rel="nofollow">i</a><a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">oaiu_csr_seq_lib.sv</a></td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><div><p><br /></p><span>CONC-6369</span><br /><p><br /></p></div></td><td style="width: 4.19753%;" class="confluenceTd">FAIL</td><td style="width: 18.8272%;" class="confluenceTd"><span>runsim -e ioaiu -t <span class="legacy-color-text-default">csr_no_addr_hit_in_addr_map_test</span></span></td><td style="width: 15.9259%;" class="confluenceTd">Used CSR seq: ioaiu_csr_no_address_hit_seq</td></tr><tr><td style="width: 8.45679%;" class="confluenceTd"><p style="text-align: justify;"><span>AIU needs to complete the</span><span>&nbsp;</span><span>protocol</span><span>&nbsp;</span><span>and return DECERR&nbsp; error in the response.</span><span>&nbsp;</span></p></td><td colspan="1" class="confluenceTd"><br /></td><td style="width: 14.0741%;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Section: 5.5</span></p></td><td style="width: 9.25926%;" class="confluenceTd">ioaiu_scb_txn.svh</td><td style="width: 3.7037%;" class="confluenceTd">Y</td><td style="width: 4.01235%;" class="confluenceTd"><br /></td><td style="width: 4.19753%;" class="confluenceTd">PASS</td><td style="width: 18.8272%;" class="confluenceTd"><br /></td><td style="width: 15.9259%;" class="confluenceTd"><br /></td></tr></tbody></table></div><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 107.0px;" /><col style="width: 211.0px;" /><col style="width: 560.0px;" /><col style="width: 75.0px;" /><col style="width: 88.0px;" /><col style="width: 58.0px;" /><col style="width: 64.0px;" /><col style="width: 122.0px;" /><col /></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Feature</th><th colspan="1" class="confluenceTh">Sub-Feature</th><th colspan="1" class="confluenceTh">Test Description</th><th colspan="1" class="confluenceTh">Checker</th><th colspan="1" class="confluenceTh">Reference Doc</th><th colspan="1" class="confluenceTh">Done</th><th colspan="1" class="confluenceTh"><p>Status</p><p><br /></p></th><th colspan="1" class="confluenceTh">Run-Command</th><th colspan="1" class="confluenceTh">Comments</th></tr><tr><td class="confluenceTd"><strong>Decode Error</strong></td><td class="confluenceTd"><strong>Illegal CSR Access Format</strong></td><td class="confluenceTd"><p>If the target is decoded as 32-bit CSR DII, and the following requirements are not met</p><p>o 4 Byte</p><p>o Size-aligned</p><p>o EndPoint order</p><p>Test1: Create a transaction routed to 32-bit DII that is not 4 Byte</p><p>Test2: Create a transaction routed to 32-bit DII that is not size-aligned</p><p>Test3: Create a transaction routed to 32-bit DII that is not End-point Order</p><ul><li>Set <strong>XAIUUESAR.DecErrDetEn</strong> and <strong>XAIUUESAR.DecErrIntEn</strong> to 1.</li><li>Poll XAIUUESR_ErrVld to assert.</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] &ndash;&nbsp;2&rsquo;b10: Illegal CSR access format</li><li>[3:2]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[4] &ndash; Command Type (Reserved for CHI-AIU and DCE)<br /><ul><li>1&rsquo;b0:&nbsp;Read</li><li>1&rsquo;b1: Write</li></ul></li></ul><ul><li>[5] &ndash; Reserved&nbsp;</li><li>[15:6]&nbsp;&ndash; Transaction ID/AxID (Reserved for DCE</li></ul></li></ul></li></ul></li><li><p style="text-align: justify;">Compare <strong>ErrType = 0x7.</strong></p></li></ul></td><td class="confluenceTd"><br /></td><td class="confluenceTd"><p><br /></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159850/Arch+Ncore+3.2+Docs" data-linked-resource-id="16159850" data-linked-resource-version="57" data-linked-resource-type="page">Arch Ncore 3.2 Docs</a></p><p>Ncore Error Architecture Specification</p><p>Rev: 0.85, January 18, 2022</p></td><td colspan="1" class="confluenceTd">N</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Is this applicable if any CSR address region is accessed via a txn on nativeInterface?</td></tr><tr><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><strong>Illegal DII Access Type</strong></td><td colspan="1" class="confluenceTd"><p>Create a transaction with Coherent access on DII</p><ul><li>Set <strong>XAIUUESAR.DecErrDetEn</strong> and <strong>XAIUUESAR.DecErrIntEn</strong> to 1.</li><li>Poll XAIUUESR_ErrVld to assert.</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] &ndash;&nbsp;2&rsquo;b11: Illegal DII Access Type</li><li>[3:2]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[4] &ndash; Command Type (Reserved for CHI-AIU and DCE)<br /><ul><li>1&rsquo;b0:&nbsp;Read</li><li>1&rsquo;b1: Write</li></ul></li></ul><ul><li>[5] &ndash; Reserved&nbsp;</li><li>[15:6]&nbsp;&ndash; Transaction ID/AxID (Reserved for DCE</li></ul></li></ul></li></ul></li><li><p style="text-align: justify;">Compare <strong>ErrType = 0x7.</strong></p></li></ul></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">N</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd"><br /></td></tr></tbody></table></div><h3 class="auto-cursor-target" id="Ncorev3.0ErrorTestplan-IOAIUAddressErrorInjection">IOAIU Address Error Injection</h3><p>Reference Doc::&nbsp;&nbsp;<a class="external-link" href="https://confluence.arteris.com/display/ENGR/Ncore+3.X+SRAM+Address+Protection" rel="nofollow">Ncore 3.X SRAM Address Protection - Engineering - Confluence (arteris.com)</a></p><p>Boon's Email:&nbsp;&nbsp;<a href="https://arterisip.atlassian.net/wiki/download/attachments/16777427/Boon%27s%20email.docx?version=1&amp;modificationDate=1647225392249&amp;cacheVersion=1&amp;api=v2" data-linked-resource-id="16786122" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Boon's email.docx" data-nice-type="Microsoft Word Document" data-linked-resource-content-type="application/vnd.openxmlformats-officedocument.wordprocessingml.document" data-linked-resource-container-id="16777427" data-linked-resource-container-version="194">Boon's email.docx</a></p><p><br /></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 99.9256%;"><colgroup><col style="width: 8.21309%;" /><col style="width: 7.90268%;" /><col style="width: 24.2254%;" /><col style="width: 11.7701%;" /><col style="width: 5.36633%;" /><col style="width: 11.7012%;" /><col style="width: 5.25914%;" /><col style="width: 5.66462%;" /><col style="width: 7.67804%;" /><col style="width: 12.2325%;" /></colgroup><tbody><tr><th style="width: 8.19672%;" class="confluenceTh"><strong>Feature</strong></th><th style="width: 7.89866%;" class="confluenceTh"><strong>Sub-feature</strong></th><th style="width: 24.2176%;" class="confluenceTh"><strong>Testcase Flow</strong></th><th style="width: 11.7735%;" class="confluenceTh"><strong>Checker</strong></th><th style="width: 5.36513%;" class="confluenceTh"><strong>Hash-Tag</strong></th><th style="width: 11.699%;" class="confluenceTh"><strong>Reference Doc/Email/Text</strong></th><th style="width: 5.29061%;" class="confluenceTh"><strong>Related Jira</strong></th><th style="width: 5.58867%;" class="confluenceTh"><strong>Test Status</strong></th><th style="width: 7.67511%;" class="confluenceTh"><strong>Run Command</strong></th><th style="width: 12.2206%;" class="confluenceTh">Comments/Questions</th></tr><tr><td style="width: 8.19672%;" class="confluenceTd" rowspan="2"><strong><span class="legacy-color-text-blue3">CCP Data Memory Address&nbsp;</span></strong><strong><span class="legacy-color-text-blue3">Error</span></strong></td><td style="width: 7.89866%;" class="confluenceTd"><p><strong><span class="legacy-color-text-blue3"><span data-colorid="pnzmdt7a60">Inject address error one at a time</span></span></strong></p></td><td style="width: 24.2176%;" class="confluenceTd"><p><strong>Error injection and logging:</strong></p><ul><li>Initialize the CCP data memory using probes &ldquo;<strong>init_mem_with_rand_data</strong>&rdquo; or &ldquo;<strong>init_mem_width_zero</strong>&rdquo;.</li><li>Enable<strong> XAIU_UEDR.MemErrDetEn = 1</strong> and <strong>XAIUUEIR.MemErrIntEn = 1</strong>.</li><li>Inject address error in CCP Data memory using knob &quot;<strong>ccp_data_addr_inject_error_test</strong>&quot; .</li><li>Wait for <strong>IRQ_UC</strong> interrupt to be asserted</li><li><strong>XAIUUESR.ErrVld</strong> will be asserted.</li><li><strong>XAIUUESR.ErrType = </strong>0x1 for Data</li><li><strong>XAIUUESR.ErrInfo = </strong>0x1 for Data</li><li><strong>XAIUUELR1.ErrAddr = </strong>Must be Zero</li><li><strong>XAIUUELR0.ErrWord =</strong>Error injected Word</li><li><strong>XAIUUELR0.ErrWay =</strong>Error injected Way</li><li><strong>XAIUUELR0.ErrEntry =</strong>Error injected set</li><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp;&nbsp;</strong></li><li><strong>Read&nbsp;XAIUUESAR.ErrVld&nbsp;</strong>to ensure it is cleared</li></ul></td><td style="width: 11.7735%;" class="confluenceTd" rowspan="2"><p>Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</p><p><br /></p><p><br /></p></td><td style="width: 5.36513%;" class="confluenceTd"><br /></td><td style="width: 11.699%;" class="confluenceTd" rowspan="2"><p><a class="external-link" href="https://confluence.arteris.com/display/ENGR/Ncore+3.X+SRAM+Address+Protection" rel="nofollow">Ncore 3.X SRAM Address Protection - Engineering - Confluence (arteris.com)</a></p><p><a href="https://arterisip.atlassian.net/wiki/download/attachments/16777427/Boon%27s%20email.docx?version=1&amp;modificationDate=1647225392249&amp;cacheVersion=1&amp;api=v2" data-linked-resource-id="16786122" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Boon's email.docx" data-nice-type="Microsoft Word Document" data-linked-resource-content-type="application/vnd.openxmlformats-officedocument.wordprocessingml.document" data-linked-resource-container-id="16777427" data-linked-resource-container-version="194">Boon's email.docx</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159850/Arch+Ncore+3.2+Docs" data-linked-resource-id="16159850" data-linked-resource-version="57" data-linked-resource-type="page">Arch Ncore 3.2 Docs</a></p><p>Ncore Error Architecture Specification</p><p>Rev: 0.85, January 18, 2022</p></td><td style="width: 5.29061%;" class="confluenceTd"><div class="content-wrapper"><p><br /></p></div></td><td style="width: 5.58867%;" class="confluenceTd"><br /></td><td style="width: 7.67511%;" class="confluenceTd"><span class="legacy-color-text-blue3">runsim -e ioaiu -t csr_uuedr_MemErrDetEn_uncorr_CCP_Data_sram_addr -c hw_cfg_2_ioc_err</span></td><td style="width: 12.2206%;" class="confluenceTd" rowspan="2"><p><span data-colorid="rv5wsc0h25">For addr error injection will there be some special field in status register indicating addr error? OR it will be similar to other uncorrectable error ?</span></p><p><br /></p><p><span data-colorid="fk7fykdmh6">Is it possible to add a checker for:</span></p><p><span data-colorid="rvah0bu53m">End of Check test in scoreboard to see that error actually gets injected atleast once ?</span></p><p><br /></p><p>Do we require only single bit error OR&nbsp; double bit error is also required ?</p><p><br /></p><p>Once IRQ_UC is asserted, do we need the test to run any further, or just jump to report_phase?</p><p>Until IRQ_UC is detected, all transactions that get into IOAIU(nativeInterface) should correctly complete the protocol, (no hang) right, but contents are undeterministic?</p><p><br /></p></td></tr><tr><td style="width: 7.89866%;" class="confluenceTd"><strong><span data-colorid="r3ke8rlnzq">Percentage&nbsp; address error&nbsp;</span></strong></td><td style="width: 24.2176%;" class="confluenceTd">Same as above, but use the probe&nbsp; &quot;<strong>ccp_data_addr_init_error_test</strong>&quot;&nbsp;with specific percentage value&nbsp;at the beginning of the test</td><td style="width: 5.36513%;" class="confluenceTd"><br /></td><td style="width: 5.29061%;" class="confluenceTd"><br /></td><td style="width: 5.58867%;" class="confluenceTd"><br /></td><td style="width: 7.67511%;" class="confluenceTd"><span class="legacy-color-text-blue3">runsim -e ioaiu -t csr_uuedr_MemErrDetEn_uncorr_CCP_Data_sram_addr_init -c hw_cfg_2_ioc_err</span></td></tr><tr><td style="width: 8.19672%;" class="confluenceTd" rowspan="2"><strong><span data-colorid="ldu3r4f5oy"><span class="legacy-color-text-blue3">CCP Tag Memory Address Error</span></span></strong></td><td style="width: 7.89866%;" class="confluenceTd"><p><strong><span class="legacy-color-text-blue3"><span data-colorid="c4k5xwvut6">Inject address error one at a time</span></span></strong></p></td><td style="width: 24.2176%;" class="confluenceTd"><ul><li>Initialize the CCP tag memory using probes &ldquo;<strong>init_mem_with_rand_data</strong>&rdquo; or &ldquo;<strong>init_mem_width_zero</strong>&rdquo;.</li><li>Enable<strong> XAIU_UEDR.MemErrDetEn = 1</strong> and <strong>XAIUUEIR.MemErrIntEn = 1</strong>.</li><li>Inject address error in CCP Tag memory using knob &quot;<strong>ccp_tag_addr_inject_error_test</strong>&quot; .</li><li>Wait for <strong>IRQ_UC</strong> interrupt to be asserted</li><li><strong>XAIUUESR.ErrVld</strong> will be asserted.</li><li><strong>XAIUUESR.ErrType = </strong>0x1 for Tag</li><li><strong>XAIUUESR.ErrInfo = </strong>0x0 for Tag</li><li><strong>XAIUUELR1.ErrAddr = </strong>Must be Zero</li><li><strong>XAIUUELR0.ErrWord =</strong>Error injected Word</li><li><strong>XAIUUELR0.ErrWay =</strong>Error injected Way</li><li><strong>XAIUUELR0.ErrEntry =</strong>Error injected set</li><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp;&nbsp;</strong></li><li><strong>Read&nbsp;XAIUUESAR.ErrVld&nbsp;</strong>to ensure it is cleared</li></ul></td><td style="width: 11.7735%;" class="confluenceTd" rowspan="2"><p>Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</p><p><br /></p><p><br /></p></td><td style="width: 5.36513%;" class="confluenceTd"><br /></td><td style="width: 11.699%;" class="confluenceTd" rowspan="2"><p><a class="external-link" href="https://confluence.arteris.com/display/ENGR/Ncore+3.X+SRAM+Address+Protection" rel="nofollow">Ncore 3.X SRAM Address Protection - Engineering - Confluence (arteris.com)</a></p><p><a href="https://arterisip.atlassian.net/wiki/download/attachments/16777427/Boon%27s%20email.docx?version=1&amp;modificationDate=1647225392249&amp;cacheVersion=1&amp;api=v2" data-linked-resource-id="16786122" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Boon's email.docx" data-nice-type="Microsoft Word Document" data-linked-resource-content-type="application/vnd.openxmlformats-officedocument.wordprocessingml.document" data-linked-resource-container-id="16777427" data-linked-resource-container-version="194">Boon's email.docx</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159850/Arch+Ncore+3.2+Docs" data-linked-resource-id="16159850" data-linked-resource-version="57" data-linked-resource-type="page">Arch Ncore 3.2 Docs</a></p><p>Ncore Error Architecture Specification</p><p>Rev: 0.85, January 18, 2022</p></td><td style="width: 5.29061%;" class="confluenceTd"><br /></td><td style="width: 5.58867%;" class="confluenceTd"><br /></td><td style="width: 7.67511%;" class="confluenceTd"><span class="legacy-color-text-blue3">runsim -e ioaiu -t csr_uuedr_MemErrDetEn_uncorr_CCP_Tag_sram_addr -c hw_cfg_2_ioc_err</span></td><td style="width: 12.2206%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 7.89866%;" class="confluenceTd"><strong><span data-colorid="vxbjiqvbm0">Percentage&nbsp; address error&nbsp;</span></strong></td><td style="width: 24.2176%;" class="confluenceTd">Same as above, but use the probe&nbsp; &quot;<strong>ccp_tag_addr_init_error_test</strong>&quot;&nbsp;with specific percentage value at the beginning of the test</td><td style="width: 5.36513%;" class="confluenceTd"><br /></td><td style="width: 5.29061%;" class="confluenceTd"><br /></td><td style="width: 5.58867%;" class="confluenceTd"><br /></td><td style="width: 7.67511%;" class="confluenceTd"><span class="legacy-color-text-blue3">runsim -e ioaiu -t csr_uuedr_MemErrDetEn_uncorr_CCP_Tag_sram_addr_init -c hw_cfg_2_ioc_err</span></td><td style="width: 12.2206%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 8.19672%;" class="confluenceTd" rowspan="2"><strong>OTT Memory Address Error</strong></td><td style="width: 7.89866%;" class="confluenceTd"><p><strong><span class="legacy-color-text-blue3"><span data-colorid="tufrkaznyh">Inject address error one at a time</span></span></strong></p></td><td style="width: 24.2176%;" class="confluenceTd"><ul><li>Initialize the OTT memory using probes &ldquo;<strong>init_mem_with_rand_data</strong>&rdquo; or &ldquo;<strong>init_mem_width_zero</strong>&rdquo;.</li><li>Enable<strong> XAIU_UEDR.MemErrDetEn = 1</strong> and <strong>XAIUUEIR.MemErrIntEn = 1</strong>.</li><li>Inject address error in OTT memory using knob &quot;<strong>ott_addr_inject_error_test</strong>&quot; .</li><li>Wait for <strong>IRQ_UC</strong> interrupt to be asserted</li><li><strong>XAIUUESR.ErrVld</strong> will be asserted.</li><li><strong>XAIUUESR.ErrType = </strong>0x0 for OTT</li><li><strong>XAIUUESR.ErrInfo = </strong>0x0 for OTT</li><li><strong>XAIUUELR1.ErrAddr = </strong>Must be Zero</li><li><strong>XAIUUELR0.ErrWord = </strong>Must be Zero</li><li><strong>XAIUUELR0.ErrWay</strong><strong>= </strong>OTT bank number</li><li><strong>XAIUUELR0.ErrEntry = </strong>Must not be zero&nbsp; (Do not have any mechanism to get the ErrEntry for OTT)</li><li><strong>Reset by W1C :&nbsp; XAIUUESAR.ErrVld&nbsp;&nbsp;= 1&nbsp;&nbsp;</strong></li><li><strong>Read&nbsp;XAIUUESAR.ErrVld&nbsp;</strong>to ensure it is cleared</li></ul></td><td style="width: 11.7735%;" class="confluenceTd" rowspan="2"><p>Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</p><p><br /></p><p><br /></p></td><td style="width: 5.36513%;" class="confluenceTd"><br /></td><td style="width: 11.699%;" class="confluenceTd" rowspan="2"><p><a class="external-link" href="https://confluence.arteris.com/display/ENGR/Ncore+3.X+SRAM+Address+Protection" rel="nofollow">Ncore 3.X SRAM Address Protection - Engineering - Confluence (arteris.com)</a></p><p><a href="https://arterisip.atlassian.net/wiki/download/attachments/16777427/Boon%27s%20email.docx?version=1&amp;modificationDate=1647225392249&amp;cacheVersion=1&amp;api=v2" data-linked-resource-id="16786122" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Boon's email.docx" data-nice-type="Microsoft Word Document" data-linked-resource-content-type="application/vnd.openxmlformats-officedocument.wordprocessingml.document" data-linked-resource-container-id="16777427" data-linked-resource-container-version="194">Boon's email.docx</a></p><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159850/Arch+Ncore+3.2+Docs" data-linked-resource-id="16159850" data-linked-resource-version="57" data-linked-resource-type="page">Arch Ncore 3.2 Docs</a></p><p>Ncore Error Architecture Specification</p><p>Rev: 0.85, January 18, 2022</p></td><td style="width: 5.29061%;" class="confluenceTd"><br /></td><td style="width: 5.58867%;" class="confluenceTd"><br /></td><td style="width: 7.67511%;" class="confluenceTd"><span class="legacy-color-text-blue3">runsim -e ioaiu -t csr_uuedr_MemErrDetEn_uncorr_OTT_Data_sram_addr -c hw_cfg_2_ioc_err</span></td><td style="width: 12.2206%;" class="confluenceTd"><br /></td></tr><tr><td style="width: 7.89866%;" class="confluenceTd"><strong><span data-colorid="tgm9jl1hs8">Percentage&nbsp; address error&nbsp;</span></strong></td><td style="width: 24.2176%;" class="confluenceTd">Same as above, but use the probe&nbsp; &quot;<strong>ott_addr_init_error_test</strong>&quot;&nbsp;with specific percentage value at the beginning of the test</td><td style="width: 5.36513%;" class="confluenceTd"><br /></td><td style="width: 5.29061%;" class="confluenceTd"><br /></td><td style="width: 5.58867%;" class="confluenceTd"><br /></td><td style="width: 7.67511%;" class="confluenceTd"><span class="legacy-color-text-blue3">runsim -e ioaiu -t csr_uuedr_MemErrDetEn_uncorr_OTT_Data_sram_addr_init -c hw_cfg_2_ioc_err</span></td><td style="width: 12.2206%;" class="confluenceTd"><br /></td></tr></tbody></table></div><p><strong><br /></strong></p><h2 id="Ncorev3.0ErrorTestplan-DCE">DCE</h2><p>&nbsp;<strong>TB improvement needed to add checks as per JIRA CONC-6508.</strong></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 98.0px;" /><col style="width: 351.0px;" /><col style="width: 125.0px;" /><col style="width: 227.0px;" /><col style="width: 142.0px;" /><col style="width: 61.0px;" /><col style="width: 65.0px;" /><col style="width: 66.0px;" /><col style="width: 278.0px;" /><col style="width: 316.0px;" /></colgroup><tbody><tr><td style="width: 98.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Test.2"><strong>Test</strong></h3></td><td style="width: 351.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Description.3"><strong>Description</strong></h3></td><td style="width: 89.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Scenario.3"><strong>Scenario</strong></h3></td><td style="width: 228.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Referencedoc.5"><strong>Reference doc</strong></h3></td><td style="width: 142.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Where.5"><strong>Where</strong></h3></td><td style="width: 60.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Done.5"><strong>Done</strong></h3></td><td style="width: 65.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-JIRA.5"><strong>JIRA</strong></h3></td><td style="width: 67.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Status.5"><strong>Status</strong></h3></td><td style="width: 285.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-RunCommand.4"><strong>Run Command</strong></h3></td><td style="width: 316.0px;" class="confluenceTd"><h3 id="Ncorev3.0ErrorTestplan-Remarks.2"><strong>Remarks</strong></h3></td></tr><tr><td style="width: 98.0px;" class="confluenceTd" rowspan="2">Wrong target ID</td><td style="width: 351.0px;" class="confluenceTd" rowspan="2"><p>Generate all possible SMI messages from DCE MASTER and AIU sequences with wrong target ID on DCE's rx port.</p><p>Generate CMDreq, UPDreq, SNPrsp, STRrsp, RBUreq and RBrsp SMI messages from <span>DCE MASTER and AIU sequences with wrong target ID on DCE's rx port.</span></p><ul><li>Check that DCE drops the transaction, logs the error and asserts interrupt.</li></ul><p><strong>Error injection and logging:</strong></p><ul><li>Target id error injection in CMDreq happens using knob &quot;wrong_cmdreq_target_id&quot;.</li><li>Target id error injection in UPDreq happens using knob &quot;wrong_updreq_target_id&quot;.</li><li>Target id error injection in SNPrsp happens using knob &quot;wrong_snprsp_target_id&quot;.</li><li>Target id error injection in STRrsp happens using knob &quot;wrong_strrsp_target_id&quot;.</li><li>Target id error injection in RBUreq happens using knob &quot;wrong_rbureq_target_id&quot;.</li><li>Target id error injection in RBrsp happens using knob &quot;wrong_rbrsp_target_id&quot;.</li><li>Target id error injection in RBrsp happens using knob &quot;wrong_sysreq_target_id&quot;.</li></ul><ul><li>Enable transport error detection by writing DCEUUEDR.TransErrDetEn = 1.</li><li>Enable transport error interrupt enable by writing DCEUUEIR.TransErrIntEn = 1</li><li><strong>DCEUUESR.ErrVld</strong> will be asserted.</li><li><strong>DCEUUESR.ErrType = 0x8</strong></li><li><strong>DCEUUESR.ErrInfo =</strong><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[0]&nbsp;&ndash; 1&rsquo;b0&nbsp;</li></ul><ul><li>[5:1]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[15:6]&nbsp;&ndash;&nbsp;Source ID&nbsp;(FUnit_Id)</li></ul></li></ul></li></ul></li></ul></li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li></ul></td><td style="width: 89.0px;" class="confluenceTd"><p>Check that DCE drops the transaction</p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p></td><td style="width: 142.0px;" class="confluenceTd">dce_scoreboard.svh</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><p><br /></p></td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 285.0px;" class="confluenceTd"><p>runsim -e dce -t wrong_target_id_on_CMDreq</p><p>runsim -e dce -t <span>wrong_target_id_on_UPDreq</span></p><p>runsim -e dce -t <span>wrong_target_id_on_SNPrsp</span></p><p>runsim -e dce -t <span>wrong_target_id_on_STRrsp</span></p><p><span>runsim -e dce -t wrong_target_id_on_RBUreq</span></p><p><span><span>runsim -e dce -t wrong_target_id_on_RBrsp</span></span></p><p><span><span>runsim -e dce -t wrong_target_id_on_SYSreq</span></span></p></td><td style="width: 316.0px;" class="confluenceTd">Used CSR register sequence:&quot;dce_csr_diruuedr_TransErrDetEn_seq&quot;</td></tr><tr><td style="width: 89.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.3</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 142.0px;" class="confluenceTd"><span class="legacy-color-text-default">dce<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow" style="color: rgb(0,0,0);">_</a>csr_seq_lib.sv</span></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><br /></td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 285.0px;" class="confluenceTd"><br /></td><td style="width: 316.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 98.0px;" class="confluenceTd" rowspan="2"><span style="color: black;">DIR &nbsp;Error (Un-correctable)</span></td><td style="width: 351.0px;" class="confluenceTd" rowspan="2"><div><ul><li><span>Inject double bit SF error using knob &quot;dir_double_bit_direct_tag_error_test&quot; in case of SECDED and single bit error using knob &quot;dir_single_bit_tag_direct_error_test&quot; in case of PARITY.</span></li><li>Enable memory error detection by writing DCEUUEDR.MemErrDetEn = 1 and DCEUUEIR.MemErrIntEn = 1.</li><li><strong>DCEUUESR.ErrVld</strong> will be asserted.</li><li><strong>DCEUUESR.ErrType = </strong>0x0</li><li><strong>DCEUUESR.ErrInfo </strong>[1:0] = <span>&nbsp;</span><span>2&rsquo;b11</span><span>&nbsp;</span><span>-</span><span>&nbsp;</span><span>Snoop Filter</span><br /><span> [7:2] = reserved</span></li><li><span> [15:8] = <span>Snoop Filter</span><span>&nbsp;</span><span>ID</span></span></li><li><span><span><strong style="text-align: justify;">{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = cmd_req_addr.</strong></span></span></li><li><strong>IRQ_UC</strong> interrupt will be asserted.</li></ul></div><ul><li>When lookup rsp error = 1, Insert CMStatus 10000100 (address corruption error) into StrReq.</li></ul></td><td style="width: 89.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 142.0px;" class="confluenceTd"><span class="legacy-color-text-default">dce<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">_</a><a class="external-link" href="http://csr_seq_lib.sv" rel="nofollow">csr_seq_lib.sv</a></span></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><p>CONC-6508</p></td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 285.0px;" class="confluenceTd"><span>runsim -e dce -t csr_diruuedr_MemErrDetEn_uncorr_Tagerr</span></td><td style="width: 316.0px;" class="confluenceTd">Used CSR sequence: &quot;dce_csr_diruuedr_MemErrDetEn_seq&quot;</td></tr><tr><td style="width: 89.0px;" class="confluenceTd"><p>Insert CMStatus 10000100 (address corruption error) into StrReq.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 142.0px;" class="confluenceTd"><br /></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><br /></td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 285.0px;" class="confluenceTd"><br /></td><td style="width: 316.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 98.0px;" class="confluenceTd"><span class="legacy-color-text-default">DIR &nbsp;Error (correctable)</span></td><td style="width: 351.0px;" class="confluenceTd"><ul><li>Inject double bit SF error using knob &quot;dir_single_bit_tag_direct_error_test&quot; in case of SECDED.<br /><br /></li><li>Set <strong>DCEUCECR.ErrThreshold</strong> with random number.</li><li>Set <strong>DCEUCECR.ErrDetEn</strong> = 1</li><li><strong>DCEUCECR.ErrIntEn</strong> = 1</li><li>Inject threshold number of time error in SF memory.</li><li>Check <strong>DCEUCESR.ErrVld</strong> and <strong>DCEUCESR.ErrCountOverflow</strong> should be 0.</li><li>inject one more SF memory error (errthd + 1).</li><li>Wait for <span><strong>DCEUCESR.ErrVld</strong> to assert.</span></li><li><span>Check <strong>DCEUCESR.ErrCountOverflow </strong><span>should be 0.</span></span></li><li><span><span>Check <strong>DCEUCESR.ErrType</strong> should be 0.</span></span></li><li><strong>DCEUCESR.ErrInfo</strong> [1:0] = &nbsp;2&rsquo;b11&nbsp;-&nbsp;Snoop Filter<br />[7:2] = reserved<br />[15:8] = Snoop Filter&nbsp;ID</li><li><strong>{DCEUCELR1.ErrAddr, DCEUCELR0.ErrWay, DCEUCELR0.ErrEntry} = cmd_req_addr</strong>.<span><span><br /></span></span></li><li>Check <strong>DCEUCESR.ErrCount </strong>should not be less than errthd</li><li><strong>IRQ_C</strong><span> interrupt will be asserted.</span></li><li>inject one more SF memory error (errthd + 2).</li><li><span><span>Check <strong>DCEUCESR.ErrVld</strong><span> and </span><strong>DCEUCESR.ErrCountOverflow</strong><span>&nbsp;</span><span>should be 1.</span></span></span></li></ul></td><td style="width: 89.0px;" class="confluenceTd"><p>Error logging checks for Errtype, ErrInfo,</p><p>ErrAddr, ErrEntry, ErrWay.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.1</span></p></td><td style="width: 142.0px;" class="confluenceTd"><span class="legacy-color-text-default">dce<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">_</a><a class="external-link" href="http://csr_seq_lib.sv" rel="nofollow">csr_seq_lib.sv</a></span></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><br /></td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 285.0px;" class="confluenceTd"><span>runsim -e dce -t csr_dircecr_single_errThd_corr_tag</span></td><td style="width: 316.0px;" class="confluenceTd"><span>Used CSR sequence: &quot;dce_csr_dircecr_errInt_seq&quot;</span></td></tr><tr><td style="width: 98.0px;" class="confluenceTd" rowspan="11"><span style="color: black;">CMStatus error in SnpRsp</span></td><td style="width: 351.0px;" class="confluenceTd" rowspan="11"><ul><li><span><span>Generate SNPrsp data error from DCE slave sequence to have&nbsp;CMstatus = 8'b1000_0011 using knob &quot;SNPrsp_data_error_in_cmstatus&quot; and CMstatus = 8'b1000_0100.</span></span><br /><span><span><br /></span></span></li><li>DCE issue STRreq with data error in CMstatus = <span>8'b1000_0011 when SNPrsp CMstatus =&nbsp;8'b1000_0011.</span></li><li>DCE issue STRreq with non data error in CMstatus = <span>8'b1000_0100 when&nbsp;SNPrsp CMstatus =&nbsp;8'b1000_0100.</span></li></ul><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><span>Stash:</span></p><ul><li><span>Read stash SnpRsp err in target snp</span></li></ul><p><br /></p><p><br /></p><p><br /></p><ul><li><span>Read stash Unique (snarf=1) owner/sharer SnpRsp.Err</span></li></ul><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><ul><li><span>Read stash Shd (snarf=1) owner SnpRsp.Err</span></li></ul><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><ul><li><span>Write stash (snarf=1) owner/sharer SnpRsp.Err</span></li></ul><p><br /></p><p><br /></p><ul><li><span>Write stash Snprsp err in target snp</span></li></ul><p><br /></p><p><br /></p><p><br /></p><p><span>Reads:</span></p><ul><li><span>Non Invalidating Reads (RdVld,RdCln,RdNSD and RdNITC) SnpRsp.Err from owner.</span></li></ul><p><br /></p><p><br /></p><p><br /></p><ul><li><span>RdUnq - Invalidating Read</span></li></ul><p><br /></p><p><br /></p><p><br /></p><p><span>Writes:</span></p><ul><li><span>WrUnq Owner/Sharer SnpRsp.Err</span></li></ul><p><br /></p><p><span>Randomized:</span></p><p><br /></p></td><td style="width: 89.0px;" class="confluenceTd"><p>DCE issue STRreq with data error in CMstatus = <span>8'b1000_0011 when SNPrsp CMstatus =&nbsp;8'b1000_0011.</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 142.0px;" class="confluenceTd">dce_scoreboard.sv</td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd">CONC-6416</td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 285.0px;" class="confluenceTd"><p><span><span>runsim -e dce -t <span>SNPrsp_data_error_in_cm_status</span></span></span></p><p><span><span><span>runsim -e dce -t&nbsp;SNPrsp_non_data_error_in_cm_status</span></span></span></p><div><p><br /></p></div></td><td style="width: 316.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 89.0px;" class="confluenceTd"><p>DCE issue STRreq with non data error in CMstatus = <span>8'b1000_0100 when&nbsp;SNPrsp CMstatus =&nbsp;8'b1000_0100.</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 142.0px;" class="confluenceTd"><a class="external-link" href="http://dce_scoreboard.sv" rel="nofollow">dce_scoreboard.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><br /></td><td style="width: 67.0px;" class="confluenceTd"><br /></td><td style="width: 285.0px;" class="confluenceTd"><br /></td><td style="width: 316.0px;" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">DCE issue STRReq with CMStatus Err and no DTR</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd">runsim -e dce -t rd_stash_SNPrsp_data_error</td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">DCE suppress error propagation on STRReq and issue Mrd for DTR completion and Invalidate the agent which sent error</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd">runsim -e dce -t&nbsp;rd_stash_snarf1_SNPrsp_data_error</td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">DCE suppress error propagation on STRReq and issue Mrd for DTR completion and do not invalidate the agent which sent error</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd">runsim -e dce -t rd_stash_shd_snarf1_SNPrsp_data_error</td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">DCE suppress error propagation on STRReq and allow DTW/DTR</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd"><p>runsim -e dce -t wr_stash_ptl_snarf1_SNPrsp_data_error</p><p>runsim -e dce -t&nbsp;wr_stash_ptl_sharer_SNPrsp_data_error</p></td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">DCE suppress error propagation on STRReq and allow DTW</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">NCore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd">runsim -e dce -t wr_stash_SNPrsp_data_error</td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd"><p>DCE propagate error on STRReq and no DTR to requestor. DM Cmt req do not invalidate agent which sent error</p></td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd"><p>runsim -e dce -t&nbsp;rd_non_inv_SNPrsp_data_error</p><p><br /></p></td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">DCE propagate error on STRReq and no DTR to requestor. DM Cmt req invalidate agent which sent error</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd"><p>runsim -e dce -t rd_unq_sharer_SNPrsp_data_error</p><p>runsim -e dce -t rd_unq_SNPrsp_data_error</p></td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">DCE suppress error propagation on STRReq and allow DTW</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd"><p>runsim -e dce -t&nbsp;wrunq_ptl_SNPrsp_data_error</p><p>runsim -e dce -t&nbsp;wrunq_ptl_sharer_SNPrsp_data_error</p></td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td colspan="1" class="confluenceTd">For Invalidating Snp Types DM CMT req will invalidate agent which sends err and for non invalidating Snp Types DM CMT req do not invalidate agent which sends err</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err Spec</a></td><td colspan="1" class="confluenceTd">dce_scb_txn.sv</td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd"><p>runsim -e dce -t&nbsp;atomics_SNPrsp_data_error</p><p>runsim -e dce -t&nbsp;cleans_SNPrsp_data_error</p><p>runsim -e dce -t&nbsp;makes_SNPrsp_data_error</p><p>runsim -e dce -t&nbsp;cmos_SNPrsp_data_error</p><p>runsim -e dce -t&nbsp;writes_SNPrsp_data_error</p><p><br /></p></td><td colspan="1" class="confluenceTd"><br /></td></tr><tr><td style="width: 98.0px;" class="confluenceTd"><span style="color: black;">CMStatus Data error in MrdRsp</span></td><td style="width: 351.0px;" class="confluenceTd"><ul><li><span>Generate MRDrsp data error from DCE slave sequence to have&nbsp;CMstatus = 8'b10_0_00_011 using knob &quot;Mrdrsp_data_err_in_cmstatus&quot;.</span><br /><span><br /></span></li><li>DCE issue STRreq with propagated data error in CMstatus = <span>8'b10_0_00_011</span>.</li></ul></td><td style="width: 89.0px;" class="confluenceTd"><p>DCE issue STRreq with propagated data error in CMstatus = <span>8'b10_0_00_011</span>.</p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 142.0px;" class="confluenceTd"><a class="external-link" href="http://dce_scoreboard.sv" rel="nofollow">dce_scoreboard.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><br /></td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 285.0px;" class="confluenceTd"><span>runsim -e dce -t&nbsp;Mrdrsp_data_error_in_cm_status</span></td><td style="width: 316.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 98.0px;" class="confluenceTd"><span class="legacy-color-text-default">CMStatus address error in MrdRsp</span></td><td style="width: 351.0px;" class="confluenceTd"><ul><li><span><span>Generate MRDrsp address error from DCE slave sequence to have&nbsp;CMstatus = <span>8'b10_0_00_100</span></span><span>&nbsp;using knob &quot;Mrdrsp_address_err_in_cmstatus</span></span><br /><br /></li><li><span>DCE issue STRreq with propagated address error in CMstatus = <span>8'b10_0_00_100&nbsp;</span>.</span></li></ul></td><td style="width: 89.0px;" class="confluenceTd"><p><span>DCE issue STRreq with propagated address error in CMstatus = 8'b10_0_00_100&nbsp;.</span></p></td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p>Section: 5.6</p></td><td style="width: 142.0px;" class="confluenceTd"><a class="external-link" href="http://dce_scoreboard.sv" rel="nofollow">dce_scoreboard.sv</a></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><br /></td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 285.0px;" class="confluenceTd"><span>runsim -e dce -t&nbsp;Mrdrsp_address_error_in_cm_status</span></td><td style="width: 316.0px;" class="confluenceTd"><br /></td></tr><tr><td style="width: 98.0px;" class="confluenceTd"><strong><strong>Decode error:</strong></strong><div>Attempt to access a target hitting multiple address</div><div style="text-align: center;"><div style="text-align: left;">regions</div></div></td><td style="width: 351.0px;" class="confluenceTd"><ul><li>Get random addresses with same index in user address queue &quot;addrMgrConst::user_addrq[addrMgrConst::COH]&quot; using address manager function &quot;set_dce_sf_fix_index_in_user_addrq&quot;, those addresses will be used for txns to generate recall request, also this function gives the selected address region map index for which random addresses are generated.</li><li>Configure all GPRs with same Addr_Low and Addr_High for selected address region map index.</li><li>Set DecErrDetEn and DecErrIntEn to 1.</li><li>Poll DCEUUESR_ErrVld to assert.</li><li><span>Compare </span><strong>ErrInfo</strong><span>.</span><ul><li style="list-style-type: none;background-image: none;"><ul><li>[2:0] &ndash;&nbsp;<strong>&rsquo;b001:&nbsp;Multiple address hit</strong></li><li>[3]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[4] &ndash; <span>Command Type</span><span> </span><span>(Reserved for CHI</span><span>-</span><span>AIU &amp; </span><span>DCE)</span></li></ul><ul><li>[5] &ndash; Reserved&nbsp;</li><li>[15:6]&nbsp;&ndash;<span>Transaction ID/AXID</span><span> </span><span>(</span><span>Reserved for</span><br /><span>DCE</span></li></ul></li></ul></li><li><p style="text-align: justify;">Compare <strong>ErrType = 0x7.</strong></p></li><li><p style="text-align: justify;"><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall request address</strong></p></li><li><p style="text-align: justify;">Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul></td><td style="width: 89.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 142.0px;" class="confluenceTd"><span class="legacy-color-text-default">dce<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">_</a><a class="external-link" href="http://csr_seq_lib.sv" rel="nofollow">csr_seq_lib.sv</a></span></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd">CONC-6276, CONC-6508</td><td style="width: 67.0px;" class="confluenceTd">&nbsp;Pass</td><td style="width: 285.0px;" class="confluenceTd"><span class="legacy-color-text-default"><span>runsim -e dce -t </span>csr_addr_region_overlap_test</span></td><td style="width: 316.0px;" class="confluenceTd">&nbsp;Used CSR seq: dce_csr_address_region_overlap_seq</td></tr><tr><td style="width: 98.0px;" class="confluenceTd"><strong>Decode error: </strong>Unmapped address access</td><td style="width: 351.0px;" class="confluenceTd"><ul><li>Generate AddrLow and AddrHigh which will be outside of all memory regions and configure all GPRs with same AddrLow and AddrHigh.</li><li>Set DecErrDetEn and DecErrIntEn to 1.</li><li>Poll DCEUUESR_ErrVld to assert.</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[2:0] &ndash;&nbsp;<strong>&rsquo;b000:&nbsp;No address hit</strong></li><li>[3]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[4] &ndash; Command Type (Reserved for CHI-AIU &amp; DCE)</li></ul><ul><li>[5] &ndash; Reserved&nbsp;</li><li>[15:6]&nbsp;&ndash; <span>Transaction ID/AXID</span><span> </span><span>(</span><span>Reserved for </span><span>DCE</span></li></ul></li></ul></li></ul></li><li><p style="text-align: justify;">Compare <strong>ErrType = 0x7.</strong></p></li><li><p style="text-align: justify;"><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWord, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall address</strong></p></li><li><p style="text-align: justify;">Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul></td><td style="width: 89.0px;" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td style="width: 228.0px;" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><span class="legacy-color-text-default">Table: 5.1.3.2</span></p></td><td style="width: 142.0px;" class="confluenceTd"><span class="legacy-color-text-default">dce<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">_</a><a class="external-link" href="http://csr_seq_lib.sv" rel="nofollow">csr_seq_lib.sv</a></span></td><td style="width: 60.0px;" class="confluenceTd">Y</td><td style="width: 65.0px;" class="confluenceTd"><span>CONC-6276<span>, CONC-6508</span></span></td><td style="width: 67.0px;" class="confluenceTd">Pass</td><td style="width: 285.0px;" class="confluenceTd"><span class="legacy-color-text-default"><span class="legacy-color-text-default">runsim -e dce -t </span>csr_no_addr_hit_in_addr_map_test</span></td><td style="width: 316.0px;" class="confluenceTd">&nbsp;Used CSR seq: dce_csr_no_address_hit_seq</td></tr><tr><td colspan="1" class="confluenceTd"><p><strong>Decode error:</strong></p><p>Unconnected DMI access</p></td><td colspan="1" class="confluenceTd"><ul><li>Randomize DMI_CONNECTIVITY and generate recall req that decodes to unconnected DMI.</li><li>Set DecErrDetEn and DecErrIntEn to 1.</li><li>Poll DCEUUESR_ErrVld to assert.</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[2:0] &ndash; <strong>&rsquo;b100: unconnected DMIunit access</strong></li><li>[3]&nbsp;&ndash; Reserved&nbsp;&nbsp;</li><li>[4] &ndash; Command Type (Reserved for CHI-AIU &amp; DCE)</li></ul><ul><li>[5] &ndash; Reserved&nbsp;</li><li>[15:6]&nbsp;&ndash; <span>Transaction ID/AXID</span><span> </span><span>(</span><span>Reserved for </span><span>DCE</span></li></ul></li></ul></li></ul></li><li><p style="text-align: justify;">Compare <strong>ErrType = 0x7.</strong></p></li><li><p style="text-align: justify;"><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWord, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall address</strong></p></li><li><p style="text-align: justify;">Wait for <strong>IRQ_UC</strong> to assert.</p></li></ul></td><td colspan="1" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay.</td><td colspan="1" class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/display/ENGR/Arch+Ncore+3.4+Docs?preview=/30510577/41386918/Ncore%20Error%20Architecture%20Specification.pdf" rel="nofollow">Ncore3.4 ErrSpec</a></td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-default">dce<a class="external-link" href="http://oaiu_csr_seq_lib.sv" rel="nofollow">_</a><a class="external-link" href="http://csr_seq_lib.sv" rel="nofollow">csr_seq_lib.sv</a></span></td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd">runsim -e dce -t&nbsp;&nbsp;csr_connectivity_error_test</td><td colspan="1" class="confluenceTd">Used CSR seq:&nbsp;dce_csr_connectivity_error_seq</td></tr><tr><td colspan="1" class="confluenceTd"><p><strong>Timeout error:</strong></p><p>ATT timeout error for recall request</p></td><td colspan="1" class="confluenceTd"><ul><li>Set&nbsp;<strong>DCEUUEDR.TimeoutErrDetEn</strong> and&nbsp;<strong>DCEUUEIR.TimeoutErrIntEn</strong> for timeout error detection and interrupt enabling.</li><li>Set timeout threshold by writing into&nbsp;<strong>DCEUTOCR.TimeOutThreshold</strong></li><li>Wait for recall request to be timed out by polling DCEUUESR_ErrVld</li><li>Compare <strong>ErrInfo</strong>.<ul><li style="list-style-type: none;background-image: none;"><ul><li style="list-style-type: none;background-image: none;"><ul><li>[1:0] &ndash;&nbsp;2&rsquo;b00:&nbsp;No address hit</li><li>[2]&nbsp;&ndash; recallreq.NS&nbsp;&nbsp;</li><li>[15:3] &ndash; 13'b0</li></ul></li></ul></li></ul></li><li>Compare <strong>ErrType = 9.</strong></li><li><strong>{DCEUUELR1.ErrAddr, DCEUUELR0.ErrWord, DCEUUELR0.ErrWay, DCEUUELR0.ErrEntry} = Recall address</strong></li><li>Wait for <strong>IRQ_UC</strong> to assert</li></ul></td><td colspan="1" class="confluenceTd">Error logging checks for Errtype, ErrInfo, ErrAddr, ErrEntry, ErrWord, ErrWay</td><td colspan="1" class="confluenceTd"><p>Ncore+3.0+System+Specification</p><p><a class="external-link" href="https://confluence.arteris.com/download/attachments/30507376/Ncore%20Error%20Architecture%20Specification.pdf?version=6&amp;modificationDate=1642553862412&amp;api=v2" rel="nofollow">Ncore3.2 Err spec</a></p></td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Y</td><td colspan="1" class="confluenceTd"><br /></td><td colspan="1" class="confluenceTd">Pass</td><td colspan="1" class="confluenceTd">runsim -e dce -t&nbsp;csr_timeout_error_test</td><td colspan="1" class="confluenceTd"><br /></td></tr></tbody></table></div>