<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759724045897 {padding: 0px;}
div.rbtoc1759724045897 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724045897 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759724045897'>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1</span> <a href='#ACHLCodingGuidelines-References'>References</a></li>
<li><span class='TOCOutline'>2</span> <a href='#ACHLCodingGuidelines-_Toc446063879Introduction'>Introduction</a></li>
<li><span class='TOCOutline'>3</span> <a href='#ACHLCodingGuidelines-_Toc446063880ACHLCodingGuidelines'>ACHL Coding Guidelines</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1</span> <a href='#ACHLCodingGuidelines-_Toc446063881Basics'>Basics</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1.1</span> <a href='#ACHLCodingGuidelines-_Toc446063882Comments'>Comments</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1.1.1</span> <a href='#ACHLCodingGuidelines-Allfilesmustbeginwithafileheaderthatincludesacopyrightnotice,andadescriptionofthemodule&#39;sintent.Thehorizontal&#39;=&#39;linesmustbeuntilthe79thcharactercolumn'>All files must begin with a file header that includes a copyright notice, and a description of the module&#39;s intent. The horizontal &#39;=&#39; lines must be until the 79th character column</a></li>
<li><span class='TOCOutline'>3.1.1.2</span> <a href='#ACHLCodingGuidelines-Majorsectionsofthefilemusthaveasectionheadercommentdelineatingthebeginningofthesection.Thecommentmustasshownbelow,with&#39;=&#39;charactersuntilthe79thcharactercolumn.'>Major sections of the file must have a section header comment delineating the beginning of the section. The comment must as shown below, with &#39;=&#39; characters until the 79th character column.</a></li>
<li><span class='TOCOutline'>3.1.1.3</span> <a href='#ACHLCodingGuidelines-Smallsubsectionsoffunctionalitymusthaveasubsectionheaderdelineatingthebeginningofthesub-section.Subsectionheadersbeginwithalineof50tilde(~)characters.Whennotobviousformthesubsectiontitle,thesubsectionheadershouldincludeadescriptionoff'>Small subsections of functionality must have a subsection header delineating the beginning of the sub-section. Subsection headers begin with a line of 50 tilde (~) characters. When not obvious form the subsection title, the subsection header should include a description of functionality.</a></li>
<li><span class='TOCOutline'>3.1.1.4</span> <a href='#ACHLCodingGuidelines-Eachlogicalinterfacemusthaveasubsectionheader'>Each logical interface must have a subsection header</a></li>
<li><span class='TOCOutline'>3.1.1.5</span> <a href='#ACHLCodingGuidelines-Non-obviousbitsofcodeshouldhaveacommentexplainingtheirpurpose.'>Non-obvious bits of code should have a comment explaining their purpose.</a></li>
<li><span class='TOCOutline'>3.1.1.6</span> <a href='#ACHLCodingGuidelines-Commentsshouldbeusedtoexplainwherein-lineconstantscomefrom.'>Comments should be used to explain where in-line constants come from.</a></li>
<li><span class='TOCOutline'>3.1.1.7</span> <a href='#ACHLCodingGuidelines-CommentsstartingwithTODO:mustbeusedtoindicatefuturework,oranythingthatshouldbereviewedbeforeshipping.'>Comments starting with TODO: must be used to indicate future work, or anything that should be reviewed before shipping.</a></li>
<li><span class='TOCOutline'>3.1.1.8</span> <a href='#ACHLCodingGuidelines-FunctionsthatareintendedtobeusedacrossmultiplefilesmusthaveJavadoc-stylecomments.'>Functions that are intended to be used across multiple files must have Javadoc-style comments.</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.1.2</span> <a href='#ACHLCodingGuidelines-_Toc446063883Moduledeclaration&amp;Filesetup'>Module declaration &amp; File setup</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1.2.1</span> <a href='#ACHLCodingGuidelines-Thefirstlinenon-commentofeveryACHLfilemustbe&#39;usestrict&#39;;'>The first line non-comment of every ACHL file must be &#39;use strict&#39;;</a></li>
<li><span class='TOCOutline'>3.1.2.2</span> <a href='#ACHLCodingGuidelines-Thenameofthefunctiondefiningthemodulemustbethesameasthefilenamebase.'>The name of the function defining the module must be the same as the filename base.</a></li>
<li><span class='TOCOutline'>3.1.2.3</span> <a href='#ACHLCodingGuidelines-Allparameters,ports,signals,andstatemustbedeclared.Parametersfrommultiplemodulesmaybedeclaredinasinglefile.'>All parameters, ports, signals, and state must be declared. Parameters from multiple modules may be declared in a single file.</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.1.3</span> <a href='#ACHLCodingGuidelines-_Toc446063884Utilslibrary'>Utils library</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1.3.1</span> <a href='#ACHLCodingGuidelines-Theutilslibrarymustbeusedforport,signal,state,andparameterdeclarations.'>The utils library must be used for port, signal, state, and parameter declarations.</a></li>
<li><span class='TOCOutline'>3.1.3.2</span> <a href='#ACHLCodingGuidelines-Theutilslibrarymustbeusedforaccessingparametervaluesviatheu.getParam()function.'>The utils library must be used for accessing parameter values via the u.getParam() function.</a></li>
<li><span class='TOCOutline'>3.1.3.3</span> <a href='#ACHLCodingGuidelines-Theutilslibrarymustbeusedforerrorandinfomessages.console.log()mustnotbeusedfordisplayingmessages.'>The utils library must be used for error and info messages. console.log() must not be used for displaying messages.</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.1.4</span> <a href='#ACHLCodingGuidelines-_Toc446063885Functions'>Functions</a></li>
<li><span class='TOCOutline'>3.1.5</span> <a href='#ACHLCodingGuidelines-_Toc446063886Indenting&amp;Whitespace'>Indenting &amp; Whitespace</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1.5.1</span> <a href='#ACHLCodingGuidelines-Allindentationmustbespaces,nottabs.'>All indentation must be spaces, not tabs.</a></li>
<li><span class='TOCOutline'>3.1.5.2</span> <a href='#ACHLCodingGuidelines-Indentationfornestedcodemustbe4spaces.'>Indentation for nested code must be 4 spaces.</a></li>
<li><span class='TOCOutline'>3.1.5.3</span> <a href='#ACHLCodingGuidelines-Notrailingwhitespaces,thiswillfailwithESlint.'>No trailing white spaces, this will fail with ES lint .</a></li>
<li><span class='TOCOutline'>3.1.5.4</span> <a href='#ACHLCodingGuidelines-Allfilesmusthaveunix-stylelineendings.'>All files must have unix-style line endings.</a></li>
<li><span class='TOCOutline'>3.1.5.5</span> <a href='#ACHLCodingGuidelines-Linesmaygobeyond80characters,ifthatmakesthecodeeasiertoreadandunderstand.'>Lines may go beyond 80 characters, if that makes the code easier to read and understand.</a></li>
<li><span class='TOCOutline'>3.1.5.6</span> <a href='#ACHLCodingGuidelines-_Ref446059107Indentingofnon-configurationcodemustbeindependentofconfigurationcode.'>Indenting of non-configuration code must be independent of configuration code.</a></li>
<li><span class='TOCOutline'>3.1.5.7</span> <a href='#ACHLCodingGuidelines-The&quot;//!!&quot;or&quot;/*!...&quot;commentsthatindicatethebeginningofconfigurationcodemustbeindentedtothesamelevelasthelogicbeforethem.'>The &quot;//!!&quot; or &quot;/*!...&quot; comments that indicate the beginning of configuration code must be indented to the same level as the logic before them.</a></li>
<li><span class='TOCOutline'>3.1.5.8</span> <a href='#ACHLCodingGuidelines-Configurationstatementsmustbeindentedrelativetootherconfigurationspacestatements.'>Configuration statements must be indented relative to other configuration space statements.</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.1.6</span> <a href='#ACHLCodingGuidelines-_Toc446063887Identifiers'>Identifiers</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1.6.1</span> <a href='#ACHLCodingGuidelines-ConfigurationspacevariablesandparametersmustbecamelCase,beginningwithalowercaseletter.'>Configuration space variables and parameters must be camelCase, beginning with a lowercase letter.</a></li>
<li><span class='TOCOutline'>3.1.6.2</span> <a href='#ACHLCodingGuidelines-Logicspacesignal,state,andportnamesmustbeunderscore-separatedlowercase,beginningwithaletter.'>Logic space signal, state, and port names must be underscore-separated lowercase, beginning with a letter.</a></li>
<li><span class='TOCOutline'>3.1.6.3</span> <a href='#ACHLCodingGuidelines-Configurationspacevariablesandparametersshouldusethefollowingprefixestoindicatethetypeofvariable.'>Configuration space variables and parameters should use the following prefixes to indicate the type of variable.</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.1.7</span> <a href='#ACHLCodingGuidelines-_Toc446063888Interfaces&amp;Signals'>Interfaces &amp; Signals</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1.7.1</span> <a href='#ACHLCodingGuidelines-Portsmustbegroupsintologicalinterfaces,whereeachelementoftheinterfacesharesacommonprefixfollowedbyanunderscore,regardlessofportdirection.'>Ports must be groups into logical interfaces, where each element of the interface shares a common prefix followed by an underscore, regardless of port direction.</a></li>
<li><span class='TOCOutline'>3.1.7.2</span> <a href='#ACHLCodingGuidelines-Ready/validportsandsemanticsshouldbeusedwhereverpossible.'>Ready/valid ports and semantics should be used wherever possible.</a></li>
<li><span class='TOCOutline'>3.1.7.3</span> <a href='#ACHLCodingGuidelines-Portsorsignalsinready/validinterfacesshouldusethewords&quot;ready&quot;and&quot;valid&quot;insteadof&quot;rdy&quot;and&quot;vld&quot;,wherepossible.'>Ports or signals in ready/valid interfaces should use the words &quot;ready&quot; and &quot;valid&quot; instead of &quot;rdy&quot; and &quot;vld&quot;, where possible.</a></li>
<li><span class='TOCOutline'>3.1.7.4</span> <a href='#ACHLCodingGuidelines-Aportorsignalmaybemadetodisappearformthegeneratedoutputbylettingit&#39;swidthbezero.'>A port or signal may be made to disappear form the generated output by letting it&#39;s width be zero.</a></li>
</ul>
</li>
</ul>
</li>
<li><span class='TOCOutline'>3.2</span> <a href='#ACHLCodingGuidelines-_Toc446063889Libraries'>Libraries</a></li>
<li><span class='TOCOutline'>3.3</span> <a href='#ACHLCodingGuidelines-_Toc446063890Parameters'>Parameters</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.3.1</span> <a href='#ACHLCodingGuidelines-Parameterdeclarationsmustincludethecorrecttypeandallowedranges,whereapplicable,allowingACHLtodorangechecking.'>Parameter declarations must include the correct type and allowed ranges, where applicable, allowing ACHL to do range checking.</a></li>
<li><span class='TOCOutline'>3.3.2</span> <a href='#ACHLCodingGuidelines-Eachmodulemustvalidateitsparameters,ensuringthatthatparametervaluesarelegal.'>Each module must validate its parameters, ensuring that that parameter values are legal.</a></li>
<li><span class='TOCOutline'>3.3.3</span> <a href='#ACHLCodingGuidelines-Validationerrorsmustbereportedwithu.error().'>Validation errors must be reported with u.error().</a></li>
<li><span class='TOCOutline'>3.3.4</span> <a href='#ACHLCodingGuidelines-ParameterMapping'>Parameter Mapping</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.4</span> <a href='#ACHLCodingGuidelines-_Toc446063891Alwaysblocks'>Always blocks</a>
<ul class='toc-indentation'>

<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.4.1.1</span> <a href='#ACHLCodingGuidelines-Localvariablesfromoutsidethealwaysblockareavailableinsidethealwaysblock.Astatevariableshouldnotbecreatedinordertopassthevaluetotheinsideofthealwaysblock.'>Local variables from outside the always block are available inside the always block. A state variable should not be created in order to pass the value to the inside of the always block.</a></li>
</ul>
<li><span class='TOCOutline'>3.4.2</span> <a href='#ACHLCodingGuidelines-_Toc446063892Configurationstatements'>Configuration statements</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.4.2.1</span> <a href='#ACHLCodingGuidelines-Full-lineconfigurationstatementswithinalwaysblocksmustusethe&quot;//!!&quot;prefixtoidentifythemasconfigurationstatements,includingwhenthereisamultiplelinesofconfigurationstatements.The&quot;/*!…*/&quot;formatofconfigurationstatementshallonlybeusedwhenth'>Full-line configuration statements within always blocks must use the &quot;//!!&quot; prefix to identify them as configuration statements, including when there is a multiple lines of configuration statements. The &quot;/*! … */&quot; format of configuration statement shall only be used when there is no other option.</a></li>
<li><span class='TOCOutline'>3.4.2.2</span> <a href='#ACHLCodingGuidelines-Thedouble-quoteformat(&quot;…&quot;)ofinlineconfigurationstatementsmustbeused(infavorofthe$...$format)wheneverpossible.Whentheconfigurationstatementisusedtodefineavariablename,thenthe$…$formatisrequired.'>The double-quote format ( &quot; … &quot; ) of inline configuration statements must be used (in favor of the $...$ format) whenever possible. When the configuration statement is used to define a variable name, then the $ … $ format is required.</a></li>
<li><span class='TOCOutline'>3.4.2.3</span> <a href='#ACHLCodingGuidelines-_Ref446063405Syntaxsuchas&quot;&#39;&lt;string&gt;&#39;&quot;(notethenestedquotes)maybeusedtoinsert&lt;string&gt;directlyinthepost-configuration-spaceACHL.'>Syntax such as &quot;&#39;&lt;string&gt;&#39;&quot; (note the nested quotes) may be used to insert &lt;string&gt; directly in the post-configuration-space ACHL.</a></li>
<li><span class='TOCOutline'>3.4.2.4</span> <a href='#ACHLCodingGuidelines-Syntaxsuchasthatshownbelowmaybeusedtoconstructanif-elsifstructurewithaconfigurationspaceloop.'>Syntax such as that shown below may be used to construct an if-elsif structure with a configuration space loop.</a></li>
<li><span class='TOCOutline'>3.4.2.5</span> <a href='#ACHLCodingGuidelines-Analwaysblockmustnotassigntothesamesignalorstateelementtwiceinasinglepassthroughtheblock.'>An always block must not assign to the same signal or state element twice in a single pass through the block.</a></li>
</ul>
</li>
</ul>
</li>
<li><span class='TOCOutline'>3.5</span> <a href='#ACHLCodingGuidelines-_Toc446063893Instances&amp;Hierarchy'>Instances &amp; Hierarchy</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.5.1</span> <a href='#ACHLCodingGuidelines-Whentousehierarchy'>When to use hierarchy</a></li>
<li><span class='TOCOutline'>3.5.2</span> <a href='#ACHLCodingGuidelines-Onlytheminimumsetofparametersshouldbedefiedbyandpassedtomodulesthatarechildrenofaparent.'>Only the minimum set of parameters should be defied by and passed to modules that are children of a parent.</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.6</span> <a href='#ACHLCodingGuidelines-_Toc446063894LibraryComponents'>Library Components</a></li>
<li><span class='TOCOutline'>3.7</span> <a href='#ACHLCodingGuidelines-_Toc446063895Assertions'>Assertions</a></li>
<li><span class='TOCOutline'>3.8</span> <a href='#ACHLCodingGuidelines-_Toc446063896ClockGating'>Clock Gating</a></li>
<li><span class='TOCOutline'>3.9</span> <a href='#ACHLCodingGuidelines-_Toc446063896ACHLFeaturesRequested'>ACHL Features Requested</a></li>
<li><span class='TOCOutline'>3.10</span> <a href='#ACHLCodingGuidelines-_Toc446063896ItemsforAllCodeReviews'>Items for All Code Reviews</a></li>
<li><span class='TOCOutline'>3.11</span> <a href='#ACHLCodingGuidelines-_Toc446063896Itemsforadditionalclarificationandfutureuse'>Items for additional clarification and future use</a></li>
</ul>
</li>
</ul>
</div></p><h1 id="ACHLCodingGuidelines-References">References</h1><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong><em>#</em></strong></p></td><td class="confluenceTd"><p><strong><em>Path</em></strong></p></td><td class="confluenceTd"><p><strong><em>Description</em></strong></p></td></tr><tr><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr><tr><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td></tr></tbody></table></div><h1 id="ACHLCodingGuidelines-_Toc446063879Introduction"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063879"><span class="confluence-anchor-link" id="_Toc446063879"></span></span>Introduction</h1><p>This document describes how ACHL code should be written in Arteris. This document uses the terms &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; as described in RFC 2119:</p><ul><li>MUST - This word, or the terms &quot;REQUIRED&quot; or &quot;SHALL&quot;, mean that the definition is an absolute requirement.</li><li>MUST NOT - This phrase, or the phrase &quot;SHALL NOT&quot;, mean that the definition is an absolute prohibition.</li><li>SHOULD - This word, or the adjective &quot;RECOMMENDED<span class="confluence-anchor-link" id="ACHLCodingGuidelines-_GoBack"><span class="confluence-anchor-link" id="_GoBack"></span></span>&quot;, mean that there may exist valid reasons in particular circumstances to ignore a particular item, but the full implications must be understood and carefully weighed before choosing a different course.</li><li>SHOULD NOT - This phrase, or the phrase &quot;NOT RECOMMENDED&quot; mean that there may exist valid reasons in particular circumstances when the particular behavior is acceptable or even useful, but the full implications should be understood and the case carefully weighed before implementing any behavior described with this label.</li><li>MAY - This word, or the adjective &quot;OPTIONAL&quot;, mean that an item is truly optional.</li></ul><h1 id="ACHLCodingGuidelines-_Toc446063880ACHLCodingGuidelines"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063880"><span class="confluence-anchor-link" id="_Toc446063880"></span></span>ACHL Coding Guidelines</h1><h2 id="ACHLCodingGuidelines-_Toc446063881Basics"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063881"><span class="confluence-anchor-link" id="_Toc446063881"></span></span>Basics</h2><h3 id="ACHLCodingGuidelines-_Toc446063882Comments"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063882"><span class="confluence-anchor-link" id="_Toc446063882"></span></span>Comments</h3><p> </p><h4 id="ACHLCodingGuidelines-Allfilesmustbeginwithafileheaderthatincludesacopyrightnotice,andadescriptionofthemodule&#39;sintent.Thehorizontal&#39;=&#39;linesmustbeuntilthe79thcharactercolumn">All files must begin with a file header that includes a copyright notice, and a description of the module's intent. The horizontal '=' lines must be until the 79th character <span class="inline-comment-marker" data-ref="1efb97c1-2a28-4b5e-a052-025c24d021ff">column</span> </h4><p> </p><p> </p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="143" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav30767f321f2aa74ce75dd689fde4f737.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Majorsectionsofthefilemusthaveasectionheadercommentdelineatingthebeginningofthesection.Thecommentmustasshownbelow,with&#39;=&#39;charactersuntilthe79thcharactercolumn.">Major sections of the file must have a section header comment delineating the beginning of the section. The comment must as shown below, with '=' characters until the 79<sup>th</sup> character column.</h4><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="47" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddavcb332d097cd69dffa01252f4a9aa9fee.png?api=v2"></span> <br class="atl-forced-newline"/> Examples of major sections include:</p><ul><li>File setup section</li><li>Port declarations</li><li>A distinct block of logic such as &quot;Handle SFI Master Responses&quot;, or &quot;Write-side logic&quot;.</li></ul><p> </p><h4 id="ACHLCodingGuidelines-Smallsubsectionsoffunctionalitymusthaveasubsectionheaderdelineatingthebeginningofthesub-section.Subsectionheadersbeginwithalineof50tilde(~)characters.Whennotobviousformthesubsectiontitle,thesubsectionheadershouldincludeadescriptionoff">Small subsections of functionality must have a subsection header delineating the beginning of the sub-section. Subsection headers begin with a line of 50 tilde (~) characters. When not obvious form the subsection title, the subsection header should include a description of functionality.</h4><p><br class="atl-forced-newline"/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="157" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddavcf6b54ab15a196991a8bfe186491ed1b.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Eachlogicalinterfacemusthaveasubsectionheader">Each logical interface must have a subsection header</h4><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="337" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav33c223f1093521b4bd8af362f11cb4a6.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Non-obviousbitsofcodeshouldhaveacommentexplainingtheirpurpose.">Non-obvious bits of code should have a comment explaining their purpose.</h4><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="79" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav892c713ee6c0bd74f1d93cbe9023310d.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Commentsshouldbeusedtoexplainwherein-lineconstantscomefrom.">Comments should be used to explain where in-line <span class="inline-comment-marker" data-ref="dce5c75a-4bfe-48b7-b909-159791a9b97e">constants</span> come from.</h4><p><span>should not use /* ...... */ for comments as shown in the picture below</span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="119" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav76b5286058cf09ce726f70f85496c1ae.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-CommentsstartingwithTODO:mustbeusedtoindicatefuturework,oranythingthatshouldbereviewedbeforeshipping.">Comments starting with TODO: must be used to indicate future work, or anything that should be reviewed before shipping.</h4><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="123" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav4f0ef970e2d08f3761d10080aa375b2e.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-FunctionsthatareintendedtobeusedacrossmultiplefilesmusthaveJavadoc-stylecomments."><span class="inline-comment-marker" data-ref="7b4cd73c-a3ba-4af3-8ce2-645f24bfe010">Functions that are intended to be used across multiple files must have Javadoc-style comments.</span></h4><p><span class="inline-comment-marker" data-ref="7b4cd73c-a3ba-4af3-8ce2-645f24bfe010">The picture below is not accurate the start should be <span>this should be /** only </span></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="87" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddavc008be26bf4e18e24f764400d2bc4239.png?api=v2"></span></p><h3 id="ACHLCodingGuidelines-_Toc446063883Moduledeclaration&amp;Filesetup"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063883"><span class="confluence-anchor-link" id="_Toc446063883"></span></span>Module declaration &amp; File setup</h3><h4 id="ACHLCodingGuidelines-Thefirstlinenon-commentofeveryACHLfilemustbe&#39;usestrict&#39;;">The first line non-comment of every ACHL file must be 'use strict';</h4><p>Strict mode makes several changes to normal JavaScript semantics. First, strict mode eliminates some JavaScript silent errors by changing them to throw errors. Second, strict mode fixes mistakes that make it difficult for JavaScript engines to perform optimizations: strict mode code can sometimes be made to run faster than identical code that's not strict mode. Third, strict mode prohibits some syntax likely to be defined in future versions of ECMAScript.</p><h4 id="ACHLCodingGuidelines-Thenameofthefunctiondefiningthemodulemustbethesameasthefilenamebase.">The name of the function defining the module must be the same as the filename base.</h4><h4 id="ACHLCodingGuidelines-Allparameters,ports,signals,andstatemustbedeclared.Parametersfrommultiplemodulesmaybedeclaredinasinglefile."><span class="inline-comment-marker" data-ref="37176b7a-048b-4ff4-8a6b-2f8f78b1c87e">All parameters, ports, signals, and state must be declared. <span>Parameters from multiple modules may be declared in a single file</span>.</span></h4><p> </p><h3 id="ACHLCodingGuidelines-_Toc446063884Utilslibrary"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063884"><span class="confluence-anchor-link" id="_Toc446063884"></span></span>Utils library</h3><p>The &quot;utils.js&quot; library provides simplified syntax and error checking for common ACHL functions such as port and signal declarations, logging messages, etc.</p><h4 id="ACHLCodingGuidelines-Theutilslibrarymustbeusedforport,signal,state,andparameterdeclarations.">The utils library must be used for port, signal, state, and parameter declarations.</h4><h4 id="ACHLCodingGuidelines-Theutilslibrarymustbeusedforaccessingparametervaluesviatheu.getParam()function.">The utils library must be used for accessing parameter values via the u.getParam() function.</h4><p><span class="inline-comment-marker" data-ref="c25f46bd-e8a8-405c-afb2-1bcb6845e1e1">u.getParam() does some parameter checking before the parameter is returned, such as ensuring the parameter has been declared, and it has a value.</span></p><p><span class="inline-comment-marker" data-ref="c25f46bd-e8a8-405c-afb2-1bcb6845e1e1"><span>parameters should use u.error for additional validation </span></span></p><h4 id="ACHLCodingGuidelines-Theutilslibrarymustbeusedforerrorandinfomessages.console.log()mustnotbeusedfordisplayingmessages.">The utils library must be used for error and info messages. console.log() must not be used for displaying messages.</h4><p>The utils logging commands preface each message with the location within the design hierarchy that caused the message, and it also obeys the verbosity command line options.</p><h3 id="ACHLCodingGuidelines-_Toc446063885Functions"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063885"><span class="confluence-anchor-link" id="_Toc446063885"></span></span>Functions</h3><p>TBD: Anything to say about functions?</p><h3 id="ACHLCodingGuidelines-_Toc446063886Indenting&amp;Whitespace"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063886"><span class="confluence-anchor-link" id="_Toc446063886"></span></span><span class="inline-comment-marker" data-ref="5fcbf1ca-70e3-4a8d-95bc-f05bcfc09c16">Indenting &amp; Whitespace</span></h3><h4 id="ACHLCodingGuidelines-Allindentationmustbespaces,nottabs.">All indentation must be spaces, not tabs.</h4><h4 id="ACHLCodingGuidelines-Indentationfornestedcodemustbe4spaces.">Indentation for nested code must be 4 spaces.</h4><h4 id="ACHLCodingGuidelines-Notrailingwhitespaces,thiswillfailwithESlint."> <span>No trailing white spaces, this will fail with ES lint </span>.</h4><h4 id="ACHLCodingGuidelines-Allfilesmusthaveunix-stylelineendings.">All files must have unix-style line endings.</h4><h4 id="ACHLCodingGuidelines-Linesmaygobeyond80characters,ifthatmakesthecodeeasiertoreadandunderstand.">Lines may go beyond 80 characters, if that makes the code easier to read and understand.</h4><p>When indenting a block (such as the contents of an 'if' statement), the open brace should go on the same line as the statement. <br class="atl-forced-newline"/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="35" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav6011e15ea5e99a61576bb4a8dbc49f42.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-_Ref446059107Indentingofnon-configurationcodemustbeindependentofconfigurationcode."><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Ref446059107"><span class="confluence-anchor-link" id="_Ref446059107"></span></span>Indenting of non-configuration code must be independent of configuration code.</h4><p>In the example below, the first three logic assignments are outside the loop in the configuration space, and the bottom two are within the configuration space loop. Nonetheless, all the logic assignments have the same indent level, because they are at the same level with respect to the other logic code.<br/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="119" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddava69a0e8324ba5c1a727834809b33843d.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-The&quot;//!!&quot;or&quot;/*!...&quot;commentsthatindicatethebeginningofconfigurationcodemustbeindentedtothesamelevelasthelogicbeforethem.">The &quot;//!!&quot; or &quot;/*!...&quot; comments that indicate the beginning of configuration code must be indented to the same level as the logic before them.</h4><p>In the example below, the second configuration space 'if' statement is indented relative to the first one, matching the indentation of the logic statements.<br/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="155" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav6665be7697673fc21e412ba55cee21bc.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Configurationstatementsmustbeindentedrelativetootherconfigurationspacestatements.">Configuration statements must be indented relative to other configuration space statements.</h4><p>In the example shown for rule 2.1.5.5, the configuration 'if' statement is indented relative to the configuration 'for' statement.</p><h3 id="ACHLCodingGuidelines-_Toc446063887Identifiers"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063887"><span class="confluence-anchor-link" id="_Toc446063887"></span></span><span class="inline-comment-marker" data-ref="278f4c1e-9e92-43b4-9147-51a3a773e39f">Identifiers</span></h3><h4 id="ACHLCodingGuidelines-ConfigurationspacevariablesandparametersmustbecamelCase,beginningwithalowercaseletter."><span class="inline-comment-marker" data-ref="e718258f-da39-43b2-ad53-edd876ea25bf">Configuration space variables and parameters must be camelCase, beginning with a lowercase letter.</span></h4><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="41" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav7ffcb9bd22a82ec697c657903aca2e26.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Logicspacesignal,state,andportnamesmustbeunderscore-separatedlowercase,beginningwithaletter.">Logic space signal, state, and port names must be underscore-separated lowercase, beginning with a letter.</h4><p><br class="atl-forced-newline"/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="39" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav493a4f4d611a5d21649342919749f406.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Configurationspacevariablesandparametersshouldusethefollowingprefixestoindicatethetypeofvariable.">Configuration space variables and parameters should use the following prefixes to indicate the type of variable.</h4><ul><li>&quot;w&quot; – Integer number of bits</li><li>&quot;n&quot; – Integer number (typically a count of items)</li><li>&quot;m&quot; – Integer number (typically a bit mask)</li><li>&quot;sz&quot; – Integer number of bytes</li><li>&quot;id&quot; – Integer identifier or integer index into a vector</li><li>&quot;is&quot; – Boolean that describes a property</li><li>&quot;can&quot; – Boolean that describes a capability</li><li>&quot;use&quot; – Boolean that enables functionality</li><li>&quot;fn&quot; – Enumerated that selects functionality</li><li>&quot;str&quot; – String</li></ul><p><br class="atl-forced-newline"/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="29" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav017ccd2da44650cd7b66693125567658.png?api=v2"></span></p><p><br class="atl-forced-newline"/><strong>Prefix pipe stage p0 p1 p2 and so on. Postfix flop outputs _q. Can use pipe names instead of pipe numbers. </strong></p><h3 id="ACHLCodingGuidelines-_Toc446063888Interfaces&amp;Signals"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063888"><span class="confluence-anchor-link" id="_Toc446063888"></span></span>Interfaces &amp; Signals</h3><h4 id="ACHLCodingGuidelines-Portsmustbegroupsintologicalinterfaces,whereeachelementoftheinterfacesharesacommonprefixfollowedbyanunderscore,regardlessofportdirection.">Ports must be groups into logical interfaces, where each element of the interface shares a common prefix followed by an underscore, regardless of port direction.</h4><p>In the example below, all ports in the interface share the &quot;sfi_mst_rsp_&quot; prefix, even though the interface includes ports in both directions.<br/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="133" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav7aa16290590009b7a737b7d5eb20f987.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Ready/validportsandsemanticsshouldbeusedwhereverpossible.">Ready/valid ports and semantics should be used wherever possible.</h4><p>For example, the FIFO component in the component library has a &quot;push&quot; and a &quot;pop&quot; interface. It thus has signals &quot;push_ready&quot;, &quot;push_valid&quot;, &quot;pop_ready&quot;, and &quot;pop_valid&quot; instead of &quot;full&quot;, &quot;push&quot;, &quot;pop&quot;, and &quot;empty&quot; respectively. This allows a common understanding of interfaces, and allows our components to be easily connected.<br/> Ready/valid signals and semantics should also be used within module logic whenever possible, such as when signaling backpressure and data availability between stages of a pipeline.</p><h4 id="ACHLCodingGuidelines-Portsorsignalsinready/validinterfacesshouldusethewords&quot;ready&quot;and&quot;valid&quot;insteadof&quot;rdy&quot;and&quot;vld&quot;,wherepossible.">Ports or signals in ready/valid interfaces should use the words &quot;ready&quot; and &quot;valid&quot; instead of &quot;rdy&quot; and &quot;vld&quot;, where possible.</h4><p>The SFI spec uses &quot;rdy&quot; and &quot;vld&quot; differs from the AMBA spec in that it uses the &quot;rdy&quot; &amp; &quot;vld&quot;, so SFI interfaces must use the 3-letter spelloing while all other uses should match the AMBA spec and use the 5-letter spelling.</p><h4 id="ACHLCodingGuidelines-Aportorsignalmaybemadetodisappearformthegeneratedoutputbylettingit&#39;swidthbezero.">A port or signal may be made to disappear form the generated output by letting it's width be zero.</h4><p><br class="atl-forced-newline"/> TBD: Use of interface library? Common interface definitions?</p><h2 id="ACHLCodingGuidelines-_Toc446063889Libraries"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063889"><span class="confluence-anchor-link" id="_Toc446063889"></span></span>Libraries</h2><p>TBD: Anything to say about using libraries?</p><h2 id="ACHLCodingGuidelines-_Toc446063890Parameters"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063890"><span class="confluence-anchor-link" id="_Toc446063890"></span></span>Parameters</h2><h4 id="ACHLCodingGuidelines-Parameterdeclarationsmustincludethecorrecttypeandallowedranges,whereapplicable,allowingACHLtodorangechecking.">Parameter declarations must include the correct type and allowed ranges, where applicable, allowing ACHL to do range checking.</h4><h4 id="ACHLCodingGuidelines-Eachmodulemustvalidateitsparameters,ensuringthatthatparametervaluesarelegal.">Each module must validate its parameters, ensuring that that parameter values are legal.</h4><h4 id="ACHLCodingGuidelines-Validationerrorsmustbereportedwithu.error().">Validation errors must be reported with u.error().</h4><p><strong>hard coded numbers must not be used,</strong><strong> constants or parameters must be used.  </strong></p><p><strong><br/></strong></p><h4 id="ACHLCodingGuidelines-ParameterMapping">Parameter Mapping</h4><p>TBD: Anything to say here?</p><h2 id="ACHLCodingGuidelines-_Toc446063891Alwaysblocks"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063891"><span class="confluence-anchor-link" id="_Toc446063891"></span></span>Always blocks</h2><h4 id="ACHLCodingGuidelines-Localvariablesfromoutsidethealwaysblockareavailableinsidethealwaysblock.Astatevariableshouldnotbecreatedinordertopassthevaluetotheinsideofthealwaysblock.">Local variables from outside the always block are available inside the always block. A state variable should not be created in order to pass the value to the inside of the always block.</h4><p>At one point in time, we needed code like the following to have access to a local variable in the always block. This is no longer required, and is not recommended.</p><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">var myVariable = 5;
this.myVariable=myVariable;
this.always(function(){
var myVariable = this.myVariable;
…
});</pre>
</div></div><p><span style="font-weight: bold;line-height: 1.42857;"><br/></span></p><p><strong><span style="line-height: 1.42857;">Sequential assignments must not use the &quot;<span class="inline-comment-marker" data-ref="c37a3f2c-1443-4f82-9403-2d8ce8dcfdf7">&lt;&lt;=</span>&quot; operator. </span><span style="line-height: 1.42857;">Utils library DFF macro must be used.</span></strong></p><ol><li>U.dffe must be used where reset is not required, this consumes less area and is better for timming (reset may be inserted for this flop by ACHL at compile time)</li><li>U.dffre must be used where reset is required</li></ol><p><span style="font-weight: bold;line-height: 1.42857;"> </span></p><p>This is being done to support clock gate insertion by ACHL compiler. The enable will be used to insert clock gates (every flop which is more than 2 bits should have an enable, can tie it to 1’b1 for one or two bit flops). We will support both two-level (at leaf flop and at module level) and one level clock gating, this will be a compile time ACHL option for customers based on their flow. This will also enable the verification team to add clock X insertion.</p><p><span style="font-weight: bold;line-height: 1.42857;"> </span></p><p><strong>All FSMs should be one hot encoded, exceptions should be justified (One hot encoding results in less transitions and is more timing friendly)</strong></p><p><strong>Should use AND OR muxs where ever possible.</strong></p><p><strong>No &amp;&amp;, ||, ! in logic operators. In config space use &amp;&amp;, || unless it is a bit wise operation </strong></p><h3 id="ACHLCodingGuidelines-_Toc446063892Configurationstatements"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063892"><span class="confluence-anchor-link" id="_Toc446063892"></span></span>Configuration statements</h3><h4 id="ACHLCodingGuidelines-Full-lineconfigurationstatementswithinalwaysblocksmustusethe&quot;//!!&quot;prefixtoidentifythemasconfigurationstatements,includingwhenthereisamultiplelinesofconfigurationstatements.The&quot;/*!…*/&quot;formatofconfigurationstatementshallonlybeusedwhenth">Full-line configuration statements within always blocks must use the &quot;//!!&quot; prefix to identify them as configuration statements, including when there is a multiple lines of configuration statements. The &quot;/*! … */&quot; format of configuration statement shall only be used when there is no other option.</h4><p><br class="atl-forced-newline"/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="140" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav7250e3690239cfbe2f88b078e38fbe32.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Thedouble-quoteformat(&quot;…&quot;)ofinlineconfigurationstatementsmustbeused(infavorofthe$...$format)wheneverpossible.Whentheconfigurationstatementisusedtodefineavariablename,thenthe$…$formatisrequired.">The double-quote format ( &quot; … &quot; ) of inline configuration statements must be used (in favor of the $...$ format) whenever possible. When the configuration statement is used to define a variable name, then the $ … $ format is required.</h4><p>In the example below, &quot;i&quot; is used for configuration variable interpolation in the case statement. In the line below, however, the configuration variable is used to construct the identifier name. In this case, att&quot;i&quot;_transport_error would not be legal syntax, so att$i$_transport_error must be used.<br/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="68" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav72a538e5e83ce942b2330fe1f3721225.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-_Ref446063405Syntaxsuchas&quot;&#39;&lt;string&gt;&#39;&quot;(notethenestedquotes)maybeusedtoinsert&lt;string&gt;directlyinthepost-configuration-spaceACHL."><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Ref446063405"><span class="confluence-anchor-link" id="_Ref446063405"></span></span>Syntax such as &quot;'&lt;string&gt;'&quot; (note the nested quotes) may be used to insert &lt;string&gt; directly in the post-configuration-space ACHL.</h4><p>In the example below, ACHL can't handle an 'else' after an 'if' statement inside a configuration loop. By putting the else in nested quotes like &quot;' else '&quot;, we can tell ACHL to insert the string else into the post-generated ACHL. <br class="atl-forced-newline"/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="117" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav0e79f2fa545997afcf93b1e58b4656fe.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Syntaxsuchasthatshownbelowmaybeusedtoconstructanif-elsifstructurewithaconfigurationspaceloop.">Syntax such as that shown below may be used to construct an if-elsif structure with a configuration space loop.</h4><p>With an if-elsif structure, the first statement does not include 'else', while subsequent statements do. When the structure is being constructed with a loop, you only want the 'else' on the first iteration through the loop, so you need an 'if' statement such as &quot;if (i&gt;0) {…}&quot;. Within that if statement, you want to insert the logic-space 'else' statement, but cannot simply type it without the nested quotes without causing a syntax error. Using nested quotes in the manner shown in 2.4.2.3 avoids the issue. <br class="atl-forced-newline"/> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="129" width="480" src="https://arterisip.atlassian.net/wiki/download/attachments/16166882/worddav98ba7c2c99b8741de9930dbe5a64a0e6.png?api=v2"></span></p><h4 id="ACHLCodingGuidelines-Analwaysblockmustnotassigntothesamesignalorstateelementtwiceinasinglepassthroughtheblock.">An always block must not assign to the same signal or state element twice in a single pass through the block.</h4><p>This causes linting errors.</p><h2 id="ACHLCodingGuidelines-_Toc446063893Instances&amp;Hierarchy"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063893"><span class="confluence-anchor-link" id="_Toc446063893"></span></span>Instances &amp; Hierarchy</h2><h4 id="ACHLCodingGuidelines-Whentousehierarchy">When to use hierarchy</h4><p>TBD: What to say here? ACHL isn't particularly friendly to deep hierarchy.</p><h4 id="ACHLCodingGuidelines-Onlytheminimumsetofparametersshouldbedefiedbyandpassedtomodulesthatarechildrenofaparent.">Only the minimum set of parameters should be defied by and passed to modules that are children of a parent.</h4><p>In some cases, it may make sense to pass an entire parameter data structure to child modules, even though they (and their children) will not use all of the parameters. As a general rule, however, this should be avoided.</p><h2 id="ACHLCodingGuidelines-_Toc446063894LibraryComponents"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063894"><span class="confluence-anchor-link" id="_Toc446063894"></span></span>Library Components</h2><p> </p><h2 id="ACHLCodingGuidelines-_Toc446063895Assertions"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063895"><span class="confluence-anchor-link" id="_Toc446063895"></span></span>Assertions</h2><p> </p><h2 id="ACHLCodingGuidelines-_Toc446063896ClockGating"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063896"><span class="confluence-anchor-link" id="_Toc446063896"></span></span>Clock Gating</h2><p> </p><h2 id="ACHLCodingGuidelines-_Toc446063896ACHLFeaturesRequested"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063896"><span class="confluence-anchor-link" id="_Toc446063896"></span></span>ACHL Features Requested</h2><ul style="list-style-type: square;"><li><p>ACHL should have a better way to handle the</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&quot;&#39; else &#39;&quot;</pre>
</div></div><p>case above.</p></li><li>ACHL needs much better support for design hierarchy.  Today it is actually &quot;hierarchy hostile.&quot;</li></ul><p> </p><h2 id="ACHLCodingGuidelines-_Toc446063896ItemsforAllCodeReviews"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063896"><span class="confluence-anchor-link" id="_Toc446063896"></span></span>Items for All Code Reviews</h2><ul><li>Review all &quot;&lt;&quot; and &quot;&gt;&quot; comparisons which are in logic (hw) space.  &quot;==&quot; and &quot;!=&quot; are always OK, but greater/less than can run into problems with Verilog signed versus unsigned.</li><li>Similarly, on these comparisons, make sure to prepend an additional zero bit on the front of both operands if you wish to guarantee unsigned comparison.</li></ul><p> </p><h2 id="ACHLCodingGuidelines-_Toc446063896Itemsforadditionalclarificationandfutureuse"><span class="confluence-anchor-link" id="ACHLCodingGuidelines-_Toc446063896"><span class="confluence-anchor-link" id="_Toc446063896"></span></span>Items for additional clarification and future use</h2><ul><li>Use Flip-flop utility function wherever possible</li></ul><p>           Utils library has 4 flavors of flop macros:</p><ol><li style="list-style-type: none;background-image: none;"><ol><li>     u.dff     - Flop with no Reset </li><li>     u.dffr    - Flop with Reset</li><li>     u.dffe   - Flop with Enable no Reset </li><li>     u.dffre  - Flop with Reset and Enable</li></ol></li></ol><p>     It is recommended to use them wherever possible.</p><p>     Notes about Reset:</p><ol><li style="list-style-type: none;background-image: none;"><ol><li>     Even though Flop has no reset , it is required to give a reset value in above functions in case customer chooses to use only resettable flop in the design.</li><li>     Use non-resettable flop whenever possible as it consumes less area and is better for timing.</li></ol></li></ol><p>     Notes about Enable:</p><ol><li style="list-style-type: none;background-image: none;"><ol><li>     Use enable flops as much possible in the design as it can be a good hint for power compiler to insert a clock gate.</li><li>     It can be also used to generate manual clock gaters through ACHL or utils library later.</li></ol></li></ol><p>       </p><p> </p><p> </p><p> </p><p> </p>