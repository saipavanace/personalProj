<p>Symphony blocks can contain multiple types of resiliency.</p><ul><li>Unit Duplication<ul><li>Any Symphony unit can be duplicated. When duplicated the outputs of the functional and duplicated unit will be compared inside the fault checker to indicate any functional faults.</li></ul></li><li>Memory Protection<ul><li>Protecting the memories include generating a protection code of some type and storing it inside memory to be checked when it is read.</li><li>This type of protection can either be correctable or non-correctable. </li><li>Any errors seen are reported through a protection interface which will be accumulated and reported to the FSC.</li></ul></li><li>State Protection<ul><li>The state of each flop can be protected without any correction.</li><li>If any fault is seen in the state of a flop the error will be reported through a protection interface that will be accumulated and reported to the FSC.</li></ul></li><li>Register Protection<ul><li>The CSR registers can contain protection with or without correction. </li><li>If any fault is seen in the state of a register the error will be reported through a protection interface that will be accumulated and reported to the FSC.</li></ul></li><li>End to End Protection<ul><li>Each interface can contain protection with or without correction.</li></ul></li></ul><p>Mapping of types of protections to correctable/uncorrectable signals.</p><div class="table-wrap"><table class="confluenceTable"><thead><tr><th class="confluenceTh"><div class="tablesorter-header-inner">Protection</div></th><th class="confluenceTh"><div class="tablesorter-header-inner">Parity Error</div></th><th class="confluenceTh"><div class="tablesorter-header-inner">ECC Single Error</div></th><th colspan="1" class="confluenceTh"><div class="tablesorter-header-inner">ECC Double Error</div></th></tr></thead><tbody><tr><td class="confluenceTd">memory</td><td class="confluenceTd">uncorrectable</td><td class="confluenceTd">correctable</td><td colspan="1" class="confluenceTd">uncorrectable</td></tr><tr><td class="confluenceTd">state</td><td class="confluenceTd">uncorrectable</td><td class="confluenceTd">uncorrectable</td><td colspan="1" class="confluenceTd">uncorrectable</td></tr><tr><td class="confluenceTd">register</td><td class="confluenceTd">uncorrectable</td><td class="confluenceTd">correctable</td><td colspan="1" class="confluenceTd">uncorrectable</td></tr><tr><td colspan="1" class="confluenceTd">end to end</td><td colspan="1" class="confluenceTd">uncorrectable</td><td colspan="1" class="confluenceTd">correctable</td><td colspan="1" class="confluenceTd">uncorrectable</td></tr></tbody></table></div><p>Each block will receive a protection style and based on that style create the appropriate resiliency logic. Each block of resiliency logic will produce a protection interface (yellow) which will be accumulated into a single protection interface that will drive the Fault Checker.  The Fault Checker will then convert these protection interface signals to mission/latent faults and report them upstream to the FSC.</p><p>Below is a diagram showing connectivity into how faults are generated and driven. </p><p> </p><p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-center" width="800" src="https://confluence.arteris.com/download/attachments/11010086/image2019-3-20%2014%3A3%3A57.png?version=1&amp;modificationDate=1553109937073&amp;api=v2" data-image-src="https://confluence.arteris.com/download/attachments/11010086/image2019-3-20%2014%3A3%3A57.png?version=1&amp;modificationDate=1553109937073&amp;api=v2" loading="lazy"></span></p><h3 id="id-3.7-Resiliency-ProtectionMultiplexer(prot_mux)"><br/>Protection Multiplexer (prot_mux)</h3><p>The prot_mux will take in multiple protection interface and combine them into a single interface.</p><h3 id="id-3.7-Resiliency-ProtectionInterface">Protection Interface</h3><p>A protection interface can contain multiple signals.</p><ul><li>Uncorrectable Error (Parity/ECC)</li><li>Correctable Error (ECC)</li><li>Syndrome (ECC)</li><li>Index (ECC)</li><li>Parity Error (Parity)</li><li>ECC Single Bit (ECC)</li><li>ECC Double Bit (ECC)</li></ul><p>A prot mux can accumulate multiple protection interfaces by or'ing the respective signals inside the multiple interfaces.</p><h3 id="id-3.7-Resiliency-FaultChecker">Fault Checker</h3><p>The Fault Checker is how a Symphony Block interfaces with the Functional Saftey Controller. It has multiple functions:</p><ol><li>Compare the output of the functional unit to the duplicated unit and report any faults to the FSC.</li><li>Take in protection interfaces from the functional and duplicated unit and turn them into faults to the FSC.</li><li>Perform BIST of the fault reporting logic which is controlled inside the FSC</li></ol><h4 id="id-3.7-Resiliency-HowFaultsareDriven">How Faults are Driven</h4><ol><li>Any mismatch in output signals of the functional unit and late unit excluding uncorrectable faults causes a mission fault.</li><li>The table below.</li></ol><div class="table-wrap"><table class="confluenceTable"><thead><tr><th class="confluenceTh"><div class="tablesorter-header-inner">Uncorrectable Functional (Input)</div></th><th class="confluenceTh"><div class="tablesorter-header-inner">Uncorrectable Late (Input)</div></th><th class="confluenceTh"><div class="tablesorter-header-inner">Mission Fault (Output)</div></th><th colspan="1" class="confluenceTh"><div class="tablesorter-header-inner">Latent Fault (Output)</div></th></tr></thead><tbody><tr><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td colspan="1" class="confluenceTd">0</td></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">0</td><td class="confluenceTd">1</td><td colspan="1" class="confluenceTd">1</td></tr><tr><td class="confluenceTd">0</td><td class="confluenceTd">1</td><td class="confluenceTd">1</td><td colspan="1" class="confluenceTd">1</td></tr><tr><td class="confluenceTd">0</td><td class="confluenceTd">0</td><td class="confluenceTd">0</td><td colspan="1" class="confluenceTd">0</td></tr></tbody></table></div><h3 id="id-3.7-Resiliency-3.7.1FunctionalSafetyController(FSC)"><a class="createlink" href="/wiki/pages/createpage.action?spaceKey=ENGR&amp;title=3.7.1%20Functional%20Safety%20Controller%20%28FSC%29&amp;linkCreation=true&amp;fromPageId=16169559">3.7.1 Functional Safety Controller (FSC)</a></h3><p>The FSC accumulates faults from multiple blocks, accumulates them, and reports upstream either through wires or through registers. More info linked page above. </p>