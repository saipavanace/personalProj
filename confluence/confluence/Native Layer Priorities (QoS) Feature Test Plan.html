<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759723767102 {padding: 0px;}
div.rbtoc1759723767102 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759723767102 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759723767102'>
<ul class='toc-indentation'>
<li><a href='#NativeLayerPriorities(QoS)FeatureTestPlan-References'>References</a></li>
<li><a href='#NativeLayerPriorities(QoS)FeatureTestPlan-TestCases'>TestCases</a></li>
</ul>
</div></p><h3 id="NativeLayerPriorities(QoS)FeatureTestPlan-References"><span class="inline-comment-marker" data-ref="42170adc-f9b9-4e44-a10c-396b31556d3c">References</span></h3><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 23.6347%;"><colgroup><col style="width: 4.11311%;"/><col style="width: 77.3779%;"/><col style="width: 18.509%;"/></colgroup><tbody><tr><th class="confluenceTh">#</th><th class="confluenceTh">Document</th><th colspan="1" class="confluenceTh">Comments</th></tr><tr><td class="confluenceTd">1.</td><td class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16155945/HW-SYM+Symphony+R1+Architecture" data-linked-resource-id="16155945" data-linked-resource-version="37" data-linked-resource-type="page">HW-SYM Symphony R1 Architecture</a></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">2.</td><td class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16154948/Now+on+Airtable+Arm+AMBA+CPU+DSU+Interconnect+Specifications#id-[NowonAirtable]ArmAMBA,CPU,DSU,&amp;InterconnectSpecifications-AMBAProtocol" data-linked-resource-id="16154948" data-linked-resource-version="212" data-linked-resource-type="page">Arm AMBA, CPU, DSU, &amp; Interconnect Specifications#AMBAProtocol</a></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd">3.</td><td class="confluenceTd"><a class="external-link" href="https://confluence.arteris.com/download/attachments/5570709/AXI4_specification.pdf?api=v2" rel="nofollow">https://confluence.arteris.com/download/attachments/5570709/AXI4_specification.pdf?api=v2</a></td><td colspan="1" class="confluenceTd">AXI Spec PDF</td></tr><tr><td colspan="1" class="confluenceTd">4.</td><td colspan="1" class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156349/HW-SYM+Common+Transaction+Layer+Microarchitecture+Specification#HW-SYMCommonTransactionLayerMicroarchitectureSpecification-QoS(QoSChange)" data-linked-resource-id="16156349" data-linked-resource-version="327" data-linked-resource-type="page">HW-SYM Common Transaction Layer Microarchitecture Specification#QoS(QoSChange)</a></td><td colspan="1" class="confluenceTd">QoS MIchro-Arch Doc</td></tr><tr><td colspan="1" class="confluenceTd">5.</td><td colspan="1" class="confluenceTd"><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16159901/HW-SYM+Performance+Monitoring+PMON" data-linked-resource-id="16159901" data-linked-resource-version="39" data-linked-resource-type="page">HW-SYM Performance Monitoring (PMON)</a></td><td colspan="1" class="confluenceTd">PMON Micro-Arch Doc</td></tr></tbody></table></div><h3 class="auto-cursor-target" id="NativeLayerPriorities(QoS)FeatureTestPlan-TestCases">TestCases</h3><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 99.9657%;"><colgroup><col style="width: 1.21951%;"/><col style="width: 14.878%;"/><col style="width: 10.3049%;"/><col style="width: 2.28659%;"/><col style="width: 13.5366%;"/><col style="width: 18.2317%;"/><col style="width: 13.7805%;"/><col style="width: 6.4939%;"/><col style="width: 6.55488%;"/><col style="width: 12.7134%;"/></colgroup><tbody><tr><th style="width: 1.2333%;" class="confluenceTh">#</th><th style="width: 14.8681%;" class="confluenceTh">Feature</th><th style="width: 10.3118%;" class="confluenceTh">Configuration</th><th style="width: 2.29531%;" class="confluenceTh">Testlist</th><th style="width: 13.532%;" class="confluenceTh">Details</th><th style="width: 18.2254%;" class="confluenceTh">Stimulus</th><th style="width: 13.7718%;" class="confluenceTh">Checking</th><th style="width: 6.50908%;" class="confluenceTh">Status</th><th style="width: 6.54334%;" class="confluenceTh">JIRAs</th><th style="width: 12.6756%;" class="confluenceTh">Comments</th></tr><tr><td style="width: 1.2333%;" class="confluenceTd">1</td><td style="width: 14.8681%;" class="confluenceTd">QoS Lookup Mapping (1:1)</td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR Enabled</p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li><p class="auto-cursor-target">QoS &amp; Priority Lookup Table Registers</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q0</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">0</td><td rowspan="16" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q0</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">15</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q1</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q1</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">14</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q2</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q2</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">13</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q3</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q3</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">12</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q4</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">4</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q4</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">11</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q5</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">5</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q5</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">10</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q6</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">6</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q6</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">9</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q7</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">7</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q7</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">8</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q8</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">8</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q8</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">7</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q9</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">9</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q9</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">6</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q10</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">10</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q10</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">5</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q11</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">11</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q11</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">4</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q12</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">12</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q12</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">3</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q13</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">13</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q13</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">2</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q14</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">14</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q14</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">1</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q15</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">15</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q15</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">0</td></tr></tbody></table></div></li><li>1:1 QoS Lookup Table Mapping</li><li>Traffic only from 1 ATUI to 1 ATUT</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><p><strong>Initial Setup:</strong></p><ol><li>Traffic only from 1 ATUI to 1 ATUT</li><li>QoS Lookup Table &amp; Priority Lookup Table Mappings are 1:1 (default)</li><li><p><span style="letter-spacing: 0.0px;">Other QoS registers remain default</span></p></li><li><span style="letter-spacing: 0.0px;">Turn Off Rate Limiting (Off by default - No special configuration required)</span></li><li><span style="letter-spacing: 0.0px;">Turn Off PMON Pressure Block <span>(Off by default - No special configuration required)</span></span></li><li><span style="letter-spacing: 0.0px;">Send Random traffic with randomized AxiQoS</span></li></ol></td><td style="width: 13.7718%;" class="confluenceTd">The AxiQoS value on the target should be unchanged/unmodified</td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td style="width: 1.2333%;" class="confluenceTd">2</td><td style="width: 14.8681%;" class="confluenceTd">QoS Lookup Mapping (Reverse)</td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR Enabled</p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li><p class="auto-cursor-target">QoS &amp; Priority Lookup Table Registers</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q0</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">15</td><td rowspan="16" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q0</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">0</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q1</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">14</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q1</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">1</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q2</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">13</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q2</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">2</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q3</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">12</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q3</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">3</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q4</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">11</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q4</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">4</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q5</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">10</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q5</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">5</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q6</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">9</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q6</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">6</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q7</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">8</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q7</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">7</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q8</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">7</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q8</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">8</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q9</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">6</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q9</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">9</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q10</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">5</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q10</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">10</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q11</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">4</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q11</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">11</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q12</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q12</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">12</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q13</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q13</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">13</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q14</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q14</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">14</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q15</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">0</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q15</span><span class="legacy-color-text-blue3">P</span></td><td colspan="1" class="confluenceTd">15</td></tr></tbody></table></div></li><li>Reverse QoS Lookup Table Mapping</li><li>Traffic only from 1 ATUI to 1 ATUT</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><p><strong>Initial Setup:</strong></p><ol><li>Traffic only from 1 ATUI to 1 ATUT</li><li>QoS Lookup Table &amp; Priority Lookup Table Mappings are Reversed</li><li><p><span>Other QoS registers remain default</span></p></li><li><span>Turn Off Rate Limiting (Off by default - No special configuration required)</span></li><li><span>Turn Off PMON Pressure Block (Off by default - No special configuration required)</span></li><li><span>Send Random traffic with randomized AxiQoS</span></li></ol></td><td style="width: 13.7718%;" class="confluenceTd"><ul><li>The AxiQoS value on the target should be mapped as per the Lookup table. </li><li>The TB needs to be able to read these QoS registers and calculate new mapped QoS values accurately.<br/>Note: This calculation in TB can only be done deterministically when Rate Limiting and PMON Latency Pressure are turned off. (i.e. no QoS Modification)</li></ul></td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td style="width: 1.2333%;" class="confluenceTd">3</td><td style="width: 14.8681%;" class="confluenceTd"><p>Demotion using RateLimiter (Use Secondary Bucket Only)</p></td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR Enabled</p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li><p class="auto-cursor-target">QoS Registers to Setup:</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQR.CYCLES</span></td><td class="confluenceTd">0</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQCP0.QBRCP</span></td><td class="confluenceTd">0</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQRAP0.QBRAP</span></td><td class="confluenceTd">0</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQBSP0.QBSP</span></td><td class="confluenceTd">0</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQCS0.QBRCP</span></td><td class="confluenceTd">512</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQRAS0.QBRAP<span> </span></span></td><td class="confluenceTd">512</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQBSS0.QBSP</span></td><td class="confluenceTd">Equal/Larger than Size of txn</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QSD</span></td><td class="confluenceTd">15</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QN</span></td><td colspan="1" class="confluenceTd">2</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQC.E</span></td><td colspan="1" class="confluenceTd">1</td></tr></tbody></table></div></li><li>1:1 QoS Lookup Table Mapping</li><li>Traffic only from 1 ATUI to 1 ATUT</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><p><strong>Initial Setup:</strong></p><ol><li>Traffic only from 1 ATUI to 1 ATUT</li><li>Set the QoS registers to the given values, rest remain default</li><li>QoS Lookup Table &amp; Priority Lookup Table Mappings are 1:1 (default)</li><li>Configure Primary Bucket to be turned off</li><li>Configure Secondary Bucket to the given values, as that will do the demotion by the amount set in CTLQL0.QSD</li><li><span class="legacy-color-text-blue3">Write 1 to CTLQC.E to enable.</span></li><li><span class="legacy-color-text-blue3">Constraint AxiQos = </span><ol><li><span class="legacy-color-text-blue3">15</span></li><li><span class="legacy-color-text-blue3">Random between 8-15</span></li></ol></li></ol></td><td style="width: 13.7718%;" class="confluenceTd"><ul><li><span class="inline-comment-marker" data-ref="206b8023-aee6-463a-ac3a-c216195e4c25">The AxiQoS should be demoted and be constant to 2 on the target side.</span></li><li>Check that the demotion (subtraction) is accurate</li><li>Check the modified QoS does not go below CTLQLX.QN (Minimum value)</li></ul></td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td style="width: 1.2333%;" class="confluenceTd">4</td><td style="width: 14.8681%;" class="confluenceTd">Promotion using PMON Latency Pressure</td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR + PMON Enabled</p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li>Enable PMON Stats (ATUi Socket Param)</li><li><p class="auto-cursor-target">QoS Registers:</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.QSI</span></td><td class="confluenceTd">7</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.</span>QM</td><td class="confluenceTd">7</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.</span>QN</td><td class="confluenceTd">0</td></tr></tbody></table></div></li><li><p class="auto-cursor-target">PMON Registers:</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><td class="confluenceTd">FREE_RUN_Limit</td><td class="confluenceTd">9</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">BIN_BOUND_2</span></td><td class="confluenceTd"><p>12</p></td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.lat_tmr_en</span></td><td colspan="1" class="confluenceTd">1</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.free_run_en</span></td><td colspan="1" class="confluenceTd">1</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.pressure_en</span></td><td colspan="1" class="confluenceTd">1</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_CTRL.start</span></td><td colspan="1" class="confluenceTd">1</td></tr></tbody></table></div></li><li>1:1 QoS Lookup Table Mapping</li><li>Traffic only from 1 ATUI to 1 ATUT</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><p><strong>Initial Setup:</strong></p><ol><li>Traffic only from 1 ATUI to 1 ATUT</li><li>Set the QoS &amp; PMON registers to the given values, rest remain default</li><li>QoS Lookup Table &amp; Priority Lookup Table Mappings are 1:1 (default)</li><li><span class="legacy-color-text-blue3">PMON block's periodicity of expire events in number of clock cycles is such that:<br/></span><em style="text-align: left;">bin_bound * expire-event-period</em><em style="text-align: left;"> = last_bin_min_delay<br/><span class="legacy-color-text-blue3">where<span> </span></span>last_bin_min_delay<span class="legacy-color-text-blue3"><span> </span>is the smallest transaction delay for which the pressure event must be activated</span><br/></em><em style="text-align: left;">a. bin_bound </em><span class="legacy-color-text-blue3">= 12</span><br/><span class="legacy-color-text-blue3"><em>b. expire-event-period</em> = FREE_RUN_Limit + 1 = 9 + 1 = 10<br/>c. last_bin_min_delay = 12*10 = 120 clocks</span></li><li>Min Slave Delay from TB = 120 clks</li><li><span class="legacy-color-text-blue3">Write ones to the following enable bits in the GLBL_EN PMON register - </span><em style="text-align: left;">lat_tmr_en</em><span class="legacy-color-text-blue3">, and </span><em style="text-align: left;">free_run_en,<span> </span></em><span class="legacy-color-text-blue3">and<span> </span></span><em style="text-align: left;">pressure_en</em></li><li><span class="legacy-color-text-blue3">Enable the </span>start<span class="legacy-color-text-blue3"> bit in the GLBL_CTRL PMON register</span></li><li><span class="legacy-color-text-blue3">Constraint AxiQos = 1</span></li></ol><p><strong>Traffic Pattern:</strong></p><ol><li>Send 1 txn with AxiQos = 1</li><li>Wait for 120 to 180 clocks once the 1st txn is valid at the target, before sending a 2nd txn with AxiQoS = 1 to ensure that PMON block asserts pressure event and the QoS for the txn is promoted by +7 (QSI). </li><li>Respond to the 1st txn at the Target.</li><li>Respond to the 2nd txn with a delay &lt; 120 clks (50 clks) to ensure pressure event is not asserted for the 3rd txn.</li><li>Send 3rd txn with AxiQos = 1 after receiving the response for the 1st txn. PMON pressure is expected to be deasserted and the QoS not promoted for the 3rd txn.</li></ol></td><td style="width: 13.7718%;" class="confluenceTd"><ul><li>1st transaction should have the same AxiQoS  =1 at the target (no promotion/ no modification)</li><li>2nd transaction will have promoted AxiQoS = 7 due to PMON Latency Pressure</li><li>3rd transaction should again have the same AxiQoS  =1 at the target (no promotion/ no modification) as the pressure event should be de-asserted</li><li>Check the AxiQos doesn't exceed the CTLQX.QM (Max value)</li></ul><p><br/></p></td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td style="width: 1.2333%;" class="confluenceTd">5</td><td style="width: 14.8681%;" class="confluenceTd">Initiator Priority Lookup Table Mapping</td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR Enabled</p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li>Traffic from 4 ATUIs to only 1 ATUT</li><li>Priority Arbiter in the ATP network</li><li>Set Priorities of<ol><li>ATUI0 → CTLQMX.Q&lt;0-15&gt;P = 0</li><li>ATUI1 → CTLQMX.Q&lt;0-15&gt;P = 2</li><li>ATUI2 → CTLQMX.Q&lt;0-15&gt;P = 4</li><li>ATUI3 → CTLQMX.Q&lt;0-15&gt;P = 8</li></ol></li><li>1:1 QoS Lookup Table Mapping</li><li>No Master Delay</li><li>Back to back random traffic</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><p><strong>Initial Setup:</strong></p><ol><li>Traffic from 4 ATUIs to only 1 ATUT</li><li>QoS Lookup Table mapping is 1:1 for all ATUIs (default)</li><li>Priority Lookup mapping ATUI0 &gt; ATUI1 &gt; ATUI2 &gt; ATUI3</li><li><p><span>Other QoS registers remain default</span></p></li><li><span>Turn Off Rate Limiting</span></li><li><span>Turn Off PMON Pressure Blocks</span></li><li><span>Send Random traffic with randomized AxiQoS</span></li></ol></td><td style="width: 13.7718%;" class="confluenceTd"><ul><li><span class="inline-comment-marker" data-ref="b3e635c9-7dc9-47bc-b014-fb19f20e7564">Contention between different initiators will enable priority lookup amongst them</span></li><li>First, all txns from ATUI0 should be received → next ATUI1 → next ATUI2 → last ATUI3</li></ul></td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td style="width: 1.2333%;" class="confluenceTd">6</td><td style="width: 14.8681%;" class="confluenceTd">No Demotion in RateLimiter - Use Primary Bucket Only (RateLimiter Verification)</td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR Enabled </p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li><p class="auto-cursor-target">QoS Registers to Setup:</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQR.CYCLES</span></td><td class="confluenceTd">0</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQCP0.QBRCP</span></td><td class="confluenceTd">512</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQRAP0.QBRAP</span></td><td class="confluenceTd">512</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQBSP0.QBSP</span></td><td class="confluenceTd">Equal/Larger than Size of txn</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQCS0.QBRCP</span></td><td class="confluenceTd">0</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQRAS0.QBRAP<span> </span></span></td><td class="confluenceTd">0</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQBSS0.QBSP</span></td><td class="confluenceTd">0</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QSD</span></td><td class="confluenceTd">15</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QN</span></td><td colspan="1" class="confluenceTd">2</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQC.E</span></td><td colspan="1" class="confluenceTd">1</td></tr></tbody></table></div></li><li>1:1 QoS Lookup Table Mapping</li><li>Traffic only from 1 ATUI to 1 ATUT</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><p><strong>Initial Setup:</strong></p><ol><li>Traffic only from 1 ATUI to 1 ATUT</li><li>Set the QoS registers to the given values, rest remain default</li><li>QoS Lookup Table &amp; Priority Lookup Table Mappings are 1:1 (default)</li><li>Configure Primary Bucket to be turned off</li><li>Configure Secondary Bucket to the given values, as that will do the demotion by the amount set in CTLQL0.QSD</li><li><span class="legacy-color-text-blue3">Write 1 to CTLQC.E to enable.</span></li><li><span class="legacy-color-text-blue3">Constraint AxiQos = </span><ol><li><span class="legacy-color-text-blue3">15</span></li><li><span class="legacy-color-text-blue3">Random between 8-15</span></li></ol></li></ol></td><td style="width: 13.7718%;" class="confluenceTd"><ul><li><span class="inline-comment-marker" data-ref="4477df30-a76d-4f57-ae0c-7011fc0a0bfb">The AxiQoS should not be demoted and be same as initiator on the target side.</span></li></ul></td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td style="width: 1.2333%;" class="confluenceTd">6</td><td style="width: 14.8681%;" class="confluenceTd">Mid Simulation (from Traffic)- Reconfigure QoS Mapping</td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR Enabled</p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li><p class="auto-cursor-target">QoS &amp; Priority Lookup Table Registers</p><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th colspan="2" class="confluenceTh">Initial Reset QoS</th><th colspan="1" class="confluenceTh"><br/></th><th colspan="2" class="confluenceTh">Mid-Traffic QoS</th></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q0</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">0</td><td rowspan="16" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q0IQ</span></td><td colspan="1" class="confluenceTd">15</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q1</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">1</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q1IQ</span></td><td colspan="1" class="confluenceTd">14</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q2</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q2IQ</span></td><td colspan="1" class="confluenceTd">13</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q3</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q3IQ</span></td><td colspan="1" class="confluenceTd">12</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q4</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">4</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q4IQ</span></td><td colspan="1" class="confluenceTd">11</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q5</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">5</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q5IQ</span></td><td colspan="1" class="confluenceTd">10</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q6</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">6</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q6IQ</span></td><td colspan="1" class="confluenceTd">9</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q7</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">7</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q7IQ</span></td><td colspan="1" class="confluenceTd">8</td></tr><tr><td class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q8</span><span class="legacy-color-text-blue3">IQ</span></td><td class="confluenceTd">8</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q8IQ</span></td><td colspan="1" class="confluenceTd">7</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q9</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">9</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q9IQ</span></td><td colspan="1" class="confluenceTd">6</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q10</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">10</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q10IQ</span></td><td colspan="1" class="confluenceTd">5</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q11</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">11</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q11IQ</span></td><td colspan="1" class="confluenceTd">4</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q12</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">12</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q12IQ</span></td><td colspan="1" class="confluenceTd">3</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q13</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">13</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q13IQ</span></td><td colspan="1" class="confluenceTd">2</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q14</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">14</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q14IQ</span></td><td colspan="1" class="confluenceTd">1</td></tr><tr><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q15</span><span class="legacy-color-text-blue3">IQ</span></td><td colspan="1" class="confluenceTd">15</td><td colspan="1" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQMX.Q15IQ</span></td><td colspan="1" class="confluenceTd">0</td></tr></tbody></table></div></li><li>1:1 QoS Lookup Table Mapping at initial reset</li><li>Reconfigure only after <strong>CTLCR.BUSY=0</strong></li><li>Reverse QoS Lookup Table Mapping after mid simulation reconfiguration</li><li>Traffic only from 1 ATUI to 1 ATUT</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><p><strong>Initial Setup:</strong></p><ol><li>Traffic only from 1 ATUI to 1 ATUT</li><li>QoS Lookup Table &amp; Priority Lookup Table Mappings are 1:1 (default)</li><li><p><span>Other QoS registers remain default</span></p></li><li><span>Turn Off Rate Limiting (Off by default - No special configuration required)</span></li><li><span>Turn Off PMON Pressure Block (Off by default - No special configuration required)</span></li><li><span><span class="inline-comment-marker" data-ref="d129f43a-0e40-4208-a7a6-0a51f6508bef">Send Random traffic for 1000 txns with randomized AxiQoS</span></span></li><li>Stop Traffic</li><li><strong>Wait for CTLCR.BUSY=0 </strong></li><li>Follow Same Steps above from #1 to #6 with reconfigured QoS Lookup Table Registers</li></ol></td><td style="width: 13.7718%;" class="confluenceTd"><ul><li>For 1st half of the simulation with initial reset of QoS registers, the AxiQoS value on the target should be unchanged/unmodified as it's a default 1:1 mapping</li><li>For 2nd half, after mid-traffic reset, the AxiQoS value on the target should be mapped as per the Lookup table (reverse mapping). </li><li>The TB needs to be able to read these QoS registers and calculate new mapped QoS values accurately.</li></ul></td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td style="width: 1.2333%;" class="confluenceTd">7</td><td style="width: 14.8681%;" class="confluenceTd">Mid Simulation (from Traffic)- Reconfigure Rate Limiting</td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR Enabled</p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li><p class="auto-cursor-target">QoS Registers to Setup:</p><div class="table-wrap"><table class="wrapped confluenceTable" style="width: 506.0px;"><tbody><tr><th colspan="2" style="width: 253.0px;" class="confluenceTh">Register Values At Initial Reset</th><th colspan="2" style="width: 253.0px;" class="confluenceTh">Register Values after Mid-Traffic Reset</th></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQR.CYCLES</span></td><td style="width: 100.0px;" class="confluenceTd">0</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQR.CYCLES</span></td><td style="width: 100.0px;" class="confluenceTd">0</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQCP0.QBRCP</span></td><td style="width: 100.0px;" class="confluenceTd">0</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQCP0.QBRCP</span></td><td style="width: 100.0px;" class="confluenceTd">0</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQRAP0.QBRAP</span></td><td style="width: 100.0px;" class="confluenceTd">0</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQRAP0.QBRAP</span></td><td style="width: 100.0px;" class="confluenceTd">0</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQBSP0.QBSP</span></td><td style="width: 100.0px;" class="confluenceTd">0</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQBSP0.QBSP</span></td><td style="width: 100.0px;" class="confluenceTd">0</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQCS0.QBRCP</span></td><td style="width: 100.0px;" class="confluenceTd">512</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQCS0.QBRCP</span></td><td style="width: 100.0px;" class="confluenceTd">256</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQRAS0.QBRAP<span> </span></span></td><td style="width: 100.0px;" class="confluenceTd">512</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQRAS0.QBRAP<span> </span></span></td><td style="width: 100.0px;" class="confluenceTd">256</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQBSS0.QBSP</span></td><td style="width: 100.0px;" class="confluenceTd">Equal/Larger than Size of txn</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLRLQBSS0.QBSP</span></td><td style="width: 100.0px;" class="confluenceTd">Equal/Larger than Size of txn</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QSD</span></td><td style="width: 100.0px;" class="confluenceTd">15</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QSD</span></td><td style="width: 100.0px;" class="confluenceTd">7</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QN</span></td><td style="width: 100.0px;" class="confluenceTd">2</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QN</span></td><td style="width: 100.0px;" class="confluenceTd">0</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QM</span></td><td style="width: 100.0px;" class="confluenceTd">15</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQL0.QM</span></td><td style="width: 100.0px;" class="confluenceTd">7</td></tr><tr><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQC.E</span></td><td style="width: 100.0px;" class="confluenceTd">1</td><td style="width: 153.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQC.E</span></td><td style="width: 100.0px;" class="confluenceTd">1</td></tr></tbody></table></div></li><li>1:1 QoS Lookup Table Mapping</li><li>Reconfigure only after <strong>CTLCR.BUSY=0</strong></li><li>Traffic only from 1 ATUI to 1 ATUT</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><p><strong>Initial Setup:</strong></p><ol><li>Traffic only from 1 ATUI to 1 ATUT</li><li>Set the QoS registers to the given values, rest remain default</li><li>QoS Lookup Table &amp; Priority Lookup Table Mappings are 1:1 (default)</li><li>Configure Primary Bucket to be turned off</li><li>Configure Secondary Bucket to the given values, as that will do the demotion by the amount set in CTLQL0.QSD</li><li><span class="legacy-color-text-blue3">Write 1 to CTLQC.E to enable.</span></li><li><span class="legacy-color-text-blue3">Constraint AxiQos = </span><ol><li><span class="legacy-color-text-blue3">15</span></li><li><span class="legacy-color-text-blue3">Random between 8-15</span></li></ol></li><li><span>Send Random traffic for 1000 txns</span></li><li>Stop Traffic</li><li><strong>Wait for CTLCR.BUSY=0 </strong></li><li>Follow Same Steps above from #1 to #7 with reconfigured QoS - Rate Limiting Registers</li><li><span class="legacy-color-text-blue3">Constraint AxiQos = </span><ol><li><span class="legacy-color-text-blue3">7</span></li><li><span class="legacy-color-text-blue3">Random between 0-7</span></li></ol></li><li><span>Send Random traffic for 1000 txns</span></li></ol></td><td style="width: 13.7718%;" class="confluenceTd"><ul><li>For 1st half of the simulation, The AxiQoS should be demoted and be constant to 2 on the target side as per initial reset values of the registers.</li><li>For 2nd half of the simulation, The AxiQoS should also be demoted and be constant to <strong>0 now</strong> on the target side as per mid-traffic reset values of the registers.</li><li>Check that the demotion (subtraction) is accurate</li><li>Check the modified QoS does not go below CTLQLX.QN (Minimum value)</li></ul></td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td style="width: 1.2333%;" class="confluenceTd">8</td><td style="width: 14.8681%;" class="confluenceTd">Mid Simulation (from Traffic)- Reconfigure Latency Pressure</td><td style="width: 10.3118%;" class="confluenceTd"><p>CSR + PMON Enabled</p><p>ATUi -&gt; AXI</p><p>ATUt → AXI</p></td><td style="width: 2.29531%;" class="confluenceTd"><br/></td><td style="width: 13.532%;" class="confluenceTd"><ol><li>Enable PMON Stats (ATUi Socket Param)</li><li><p class="auto-cursor-target">QoS Registers:</p><div class="table-wrap"><table class="wrapped confluenceTable" style="width: 494.0px;"><tbody><tr><th colspan="2" style="width: 221.0px;" class="confluenceTh">Register Values At Initial Reset</th><th colspan="2" style="width: 273.0px;" class="confluenceTh">Register Values after Mid-Traffic Reset</th></tr><tr><td style="width: 169.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.QSI</span></td><td style="width: 52.0px;" class="confluenceTd">7</td><td style="width: 209.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.QSI</span></td><td style="width: 64.0px;" class="confluenceTd">5</td></tr><tr><td style="width: 169.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.</span>QM</td><td style="width: 52.0px;" class="confluenceTd">7</td><td style="width: 209.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.</span>QM</td><td style="width: 64.0px;" class="confluenceTd">15</td></tr><tr><td style="width: 169.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.</span>QN</td><td style="width: 52.0px;" class="confluenceTd">0</td><td style="width: 209.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">CTLQLX.</span>QN</td><td style="width: 64.0px;" class="confluenceTd">10</td></tr></tbody></table></div></li><li><p class="auto-cursor-target">PMON Registers:</p><div class="table-wrap"><table class="wrapped confluenceTable" style="width: 487.0px;"><tbody><tr><th colspan="2" style="width: 221.0px;" class="confluenceTh">Register Values At Initial Reset</th><th colspan="2" style="width: 266.0px;" class="confluenceTh">Register Values after Mid-Traffic Reset</th></tr><tr><td style="width: 177.0px;" class="confluenceTd">FREE_RUN_Limit</td><td style="width: 44.0px;" class="confluenceTd">9</td><td style="width: 229.0px;" class="confluenceTd">FREE_RUN_Limit</td><td style="width: 37.0px;" class="confluenceTd">19</td></tr><tr><td style="width: 177.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">BIN_BOUND_2</span></td><td style="width: 44.0px;" class="confluenceTd"><p>12</p></td><td style="width: 229.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">BIN_BOUND_2</span></td><td style="width: 37.0px;" class="confluenceTd"><p>14</p></td></tr><tr><td style="width: 177.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.lat_tmr_en</span></td><td style="width: 44.0px;" class="confluenceTd">1</td><td style="width: 229.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.lat_tmr_en</span></td><td style="width: 37.0px;" class="confluenceTd">1</td></tr><tr><td style="width: 177.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.free_run_en</span></td><td style="width: 44.0px;" class="confluenceTd">1</td><td style="width: 229.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.free_run_en</span></td><td style="width: 37.0px;" class="confluenceTd">1</td></tr><tr><td style="width: 177.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.pressure_en</span></td><td style="width: 44.0px;" class="confluenceTd">1</td><td style="width: 229.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_EN.pressure_en</span></td><td style="width: 37.0px;" class="confluenceTd">1</td></tr><tr><td style="width: 177.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_CTRL.start</span></td><td style="width: 44.0px;" class="confluenceTd">1</td><td style="width: 229.0px;" class="confluenceTd"><span class="legacy-color-text-blue3">GLBL_CTRL.start</span></td><td style="width: 37.0px;" class="confluenceTd">1</td></tr></tbody></table></div></li><li>1:1 QoS Lookup Table Mapping</li><li>Reconfigure only after <strong>CTLCR.BUSY=0</strong></li><li>Traffic only from 1 ATUI to 1 ATUT</li></ol></td><td style="width: 18.2254%;" class="confluenceTd"><ol><li>Traffic only from 1 ATUI to 1 ATUT</li><li>Set the QoS &amp; PMON registers to the given values, rest remain default</li><li>QoS Lookup Table &amp; Priority Lookup Table Mappings are 1:1 (default)</li><li><span class="legacy-color-text-blue3">PMON block's periodicity of expire events in number of clock cycles is such that: <br/></span><em style="text-align: left;">bin_bound * expire-event-period</em><em style="text-align: left;"> = last_bin_min_delay<br/><span class="legacy-color-text-blue3">where<span> </span></span>last_bin_min_delay<span class="legacy-color-text-blue3"><span> </span>is the smallest transaction delay for which the pressure event must be activated</span><br/></em><em style="text-align: left;">a. bin_bound </em><span class="legacy-color-text-blue3">= 12</span><br/><span class="legacy-color-text-blue3"><em>b. expire-event-period</em> = FREE_RUN_Limit + 1 = 9 + 1 = 10<br/>c. last_bin_min_delay = 12*10 = 120 clocks</span></li><li>Min Slave Delay from TB = 120 clks</li><li><span class="legacy-color-text-blue3">Write ones to the following enable bits in the GLBL_EN PMON register - </span><em style="text-align: left;">lat_tmr_en</em><span class="legacy-color-text-blue3">, and </span><em style="text-align: left;">free_run_en,<span> </span></em><span class="legacy-color-text-blue3">and<span> </span></span><em style="text-align: left;">pressure_en</em></li><li><span class="legacy-color-text-blue3">Enable the </span>start<span class="legacy-color-text-blue3"> bit in the GLBL_CTRL PMON register</span></li><li><span class="legacy-color-text-blue3">Constraint AxiQos = 1</span></li></ol><p><strong>Traffic Pattern:</strong></p><ol><li>Send 1 txn with AxiQos = 1</li><li>Wait for 120 to 180 clocks once the 1st txn is valid at the target, before sending a 2nd txn with AxiQoS = 1 to ensure that PMON block asserts pressure event and the QoS for the txn is promoted by +7 (QSI). </li><li>Respond to the 1st txn at the Target.</li><li>Respond to the 2nd txn with a delay &lt; 120 clks (50 clks) to ensure pressure event is not asserted for the 3rd txn.</li><li>Send 3rd txn with AxiQos = 1 after receiving the response for the 1st txn. PMON pressure is expected to be de-asserted and the QoS not promoted for the 3rd txn.</li><li>Stop Traffic</li><li><strong>Wait for CTLCR.BUSY=0 for mid-traffic reconfiguration</strong></li><li>Send 1 txn with AxiQos = 10</li><li>Wait for 140 to 200 clocks once the 1st txn is valid at the target, before sending a 2nd txn with AxiQoS &lt; 10  to ensure that PMON block asserts pressure event and the QoS for the txn is promoted by +5 (QSI). </li><li>Respond to the 1st txn at the Target.</li><li>Respond to the 2nd txn with a delay &lt; 140 clks (50 clks) to ensure pressure event is not asserted for the 3rd txn.</li><li>Send 3rd txn with AxiQos &gt;= 10 after receiving the response for the 1st txn. PMON pressure is expected to be de-asserted and the QoS not promoted for the 3rd txn.</li></ol></td><td style="width: 13.7718%;" class="confluenceTd"><ul><li>At initial reset:<ul><li>1st transaction should have the same AxiQoS  =1 at the target (no promotion/ no modification)</li><li>2nd transaction will have promoted AxiQoS = 7 due to PMON Latency Pressure</li><li>3rd transaction should again have the same AxiQoS  =1 at the target (no promotion/ no modification) as the pressure event should be de-asserted</li></ul></li><li>After mid-traffic reset:<ul><li>1st transaction should have the same AxiQoS =10 at the target (no promotion/ no modification)</li><li>2nd transaction will have promoted AxiQoS = 15 due to PMON Latency Pressure</li><li>3rd transaction should again have the same AxiQoS  =10 at the target (no promotion/ no modification) as the pressure event should be de-asserted</li></ul></li><li>Check the AxiQos doesn't exceed the CTLQX.QM (Max value)</li><li>Check the transactions don't choke after mid-traffic reconfiguration</li></ul></td><td style="width: 6.50908%;" class="confluenceTd">Pending</td><td style="width: 6.54334%;" class="confluenceTd"><br/></td><td style="width: 12.6756%;" class="confluenceTd"><br/></td></tr><tr><td colspan="1" class="confluenceTd">9</td><td colspan="1" class="confluenceTd">APB QoS</td><td colspan="1" class="confluenceTd"><p>CSR + PMON Enabled</p><p>ATUi -&gt; APB + AXI</p><p>ATUt → AXI</p></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">Same as <strong>#1 QoS Lookup Mapping (1:1)</strong></td><td colspan="1" class="confluenceTd">Same as <strong>#1 QoS Lookup Mapping (1:1)</strong></td><td colspan="1" class="confluenceTd"><ul><li>Check APB initiator txns are always mapped to corresponding QoS =0 values form the Lookup table</li><li>Same as <strong style="letter-spacing: 0.0px;">#1 QoS Lookup Mapping (1:1)</strong></li></ul></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div>