<p><style>[data-colorid=g28a54p9k4]{color:#9c0006} html[data-color-mode=dark] [data-colorid=g28a54p9k4]{color:#ff6369}[data-colorid=st7nz0m7jp]{color:#c00000} html[data-color-mode=dark] [data-colorid=st7nz0m7jp]{color:#ff3f3f}[data-colorid=ehl8dcdswq]{color:#9c0006} html[data-color-mode=dark] [data-colorid=ehl8dcdswq]{color:#ff6369}[data-colorid=wsnqawgcg6]{color:#c00000} html[data-color-mode=dark] [data-colorid=wsnqawgcg6]{color:#ff3f3f}</style><u><strong>Experimentation Environment:&nbsp;</strong></u></p><ul><li>Only coherent traffic and CAIU has not been activated yet</li><li>Compared all QoS 0 case vs. QoS case</li><li>QoS values are being assigned at UVM model</li><li>Zero latency at target model</li><li>Zero latency at initiator model</li><li class="auto-cursor-target">Disabled starvation by assigning 0 at the starvation register</li></ul><p><br class="atl-forced-newline" /><span class="legacy-color-text-blue4"><strong><span style="text-decoration: underline;">Scenario 2-1: Read intensive test</span></strong></span></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><tbody><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>Address range</p></td><td class="confluenceTd"><p>QoS value</p></td><td class="confluenceTd"><p>Read/Write</p></td><td class="confluenceTd"><p>Total BW</p></td></tr><tr><td class="confluenceTd"><p>NCAIU0</p></td><td class="confluenceTd"><p>PCIe</p></td><td class="confluenceTd"><p>Sharing address, cache enabled</p></td><td class="confluenceTd"><p>0:80% 7:20%</p></td><td class="confluenceTd"><p>RO: WU = 7:3</p></td><td class="confluenceTd"><p>40%</p></td></tr><tr><td class="confluenceTd"><p>NCAIU2</p></td><td class="confluenceTd"><p>DMA</p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>0: 100%</p></td><td class="confluenceTd"><p>RO read only</p></td><td class="confluenceTd"><p>20%</p></td></tr><tr><td class="confluenceTd"><p>NCAIU3</p></td><td class="confluenceTd"><p>RTU-BB</p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>0:80% 7:20%</p></td><td class="confluenceTd"><p>RO oread only</p></td><td class="confluenceTd"><p>40%</p></td></tr></tbody></table></div><p class="auto-cursor-target"><br class="atl-forced-newline" /><strong><span style="text-decoration: underline;">1) Observation</span></strong></p><ul><li>Utilization: observing <strong>almost 100% utilization</strong> from saturation point.</li><li>Resource status: The credit/resource is stable except DCE MRD credit. It shows over 90% of utilization.</li><li>For the higher QOS value shows meaningful latency numbers.<ul><li>In this experiment, around 10~24% of the improvement is shown for QoS enabled traffic.</li></ul></li></ul><p><strong><span style="text-decoration: underline;">2) Latency and BW</span></strong></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="147" src="https://arterisip.atlassian.net/wiki/download/attachments/247366483/image2021-11-11_21-27-5.png?api=v2" /></span></p><p><br class="atl-forced-newline" /><strong>NCAIU0:</strong><br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/247366483/worddavfaa9337ee6b43c72199cd414d080703a.png?api=v2" /></span></p><p><strong>All initiators:</strong></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/247366483/image2021-11-7_12-30-31.png?api=v2" /></span></p><p><br /></p><p><strong><span style="text-decoration: underline;">3) Resource and credit values at saturating point</span></strong></p><ul><li>Selected representative value when the performance status become saturate. Median values</li></ul><p>CAIU/NCAIU(when QoS enabled)</p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 17.4841%;"><colgroup><col style="width: 18.2454%;" /><col style="width: 20.0494%;" /><col style="width: 20.0494%;" /><col style="width: 20.0494%;" /><col style="width: 21.6064%;" /></colgroup><tbody><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>OTT</p></td><td class="confluenceTd"><p>DCE0</p></td><td class="confluenceTd"><p>DCE1</p></td><td class="confluenceTd"><p>DMI</p></td></tr><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>32</p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>6</p></td></tr><tr><td class="confluenceTd"><p>NCAIU0</p></td><td class="confluenceTd"><p>29.90609</p></td><td class="confluenceTd"><p>2.700508</p></td><td class="confluenceTd"><p>4.799492</p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p>NCAIU1</p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p>NCAIU2</p></td><td class="confluenceTd"><p>15.83503</p></td><td class="confluenceTd"><p>1.312183</p></td><td class="confluenceTd"><p>2.200508</p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p>NCAIU3</p></td><td class="confluenceTd"><p>29.80965</p></td><td class="confluenceTd"><p>2.281726</p></td><td class="confluenceTd"><p>3.431472</p></td><td class="confluenceTd"><p><br /></p></td></tr></tbody></table></div><p><br class="atl-forced-newline" />DCE0/DCE1(when QoS enabled)</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /><col /></colgroup><tbody><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>ATT</p></td><td class="confluenceTd"><p>MRD</p></td><td class="confluenceTd"><p>SNP</p></td><td class="confluenceTd"><p>RB</p></td></tr><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>36</p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>8</p></td></tr><tr><td class="confluenceTd"><p>DCE 0 credit</p></td><td class="confluenceTd"><p>33.74366</p></td><td class="confluenceTd"><p><span data-colorid="st7nz0m7jp">5.786802</span></p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>1.873096</p></td></tr><tr><td class="confluenceTd"><p>DCE 1 credit</p></td><td class="confluenceTd"><p>33.54822</p></td><td class="confluenceTd"><p><span data-colorid="wsnqawgcg6">5.799492</span></p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>1.901015</p></td></tr></tbody></table></div><p><br class="atl-forced-newline" /><br class="atl-forced-newline" /><span class="legacy-color-text-blue4"><strong><span style="text-decoration: underline;">Scenario 2-2: Write intensive test</span></strong></span></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><tbody><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>Address range</p></td><td class="confluenceTd"><p>QoS value</p></td><td class="confluenceTd"><p>Read/Write</p></td><td class="confluenceTd"><p>Total BW</p></td></tr><tr><td class="confluenceTd"><p>NCAIU0</p></td><td class="confluenceTd"><p>PCIe</p></td><td class="confluenceTd"><p>Sharing address, cache enabled</p></td><td class="confluenceTd"><p>0:80% 7:20%</p></td><td class="confluenceTd"><p>RO: WU = 7:3</p></td><td class="confluenceTd"><p>40%</p></td></tr><tr><td class="confluenceTd"><p>NCAIU2</p></td><td class="confluenceTd"><p>DMA</p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>0: 100%</p></td><td class="confluenceTd"><p>WU write only</p></td><td class="confluenceTd"><p>20%</p></td></tr><tr><td class="confluenceTd"><p>NCAIU3</p></td><td class="confluenceTd"><p>RTU-BB</p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>0:80% 7:20%</p></td><td class="confluenceTd"><p>WU write only</p></td><td class="confluenceTd"><p>40%</p></td></tr></tbody></table></div><p class="auto-cursor-target"><br class="atl-forced-newline" /><strong><span style="text-decoration: underline;">1) Observation</span></strong></p><ul><li>Utilization: observing overall 95~99% utilization.</li><li>Resource status: The credit/resource is stable except DCE RB credit. It shows over 90% of utilization.</li><li>Not showing meaningful latency differences.</li></ul><p><br /></p><p><strong><span style="text-decoration: underline;">2) Latency and BW</span></strong></p><p><strong><span style="text-decoration: underline;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="159" src="https://arterisip.atlassian.net/wiki/download/attachments/247366483/image2021-11-11_21-27-59.png?api=v2" /></span></span></strong></p><p><br /></p><p><br /></p><p><span style="text-decoration: underline;">NCAIU0<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/247366483/worddav9d4d7149b6dbd32b8e10832a10b6cb3b.png?api=v2" /></span><br /><br /><br />All initiators (Average Latency)<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/247366483/worddav6b4ef0fac28857859b6a710cd6f69998.png?api=v2" /></span></span></p><p><br /></p><p><strong><span style="text-decoration: underline;">3) Resource and credit values at saturating point</span></strong></p><ul><li>Selected representative value when the performance status become saturate. Median values</li></ul><p>CAIU/NCAIU</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /><col /></colgroup><tbody><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>OTT</p></td><td class="confluenceTd"><p>DCE0</p></td><td class="confluenceTd"><p>DCE1</p></td><td class="confluenceTd"><p>DMI</p></td></tr><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>32 (NCAU1 48)</p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>6</p></td></tr><tr><td class="confluenceTd"><p>NCAIU0</p></td><td class="confluenceTd"><p>16.99242</p></td><td class="confluenceTd"><p>2.058081</p></td><td class="confluenceTd"><p>2.017677</p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p>NCAIU1</p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p>NCAIU2</p></td><td class="confluenceTd"><p>8.944444</p></td><td class="confluenceTd"><p>1.012626</p></td><td class="confluenceTd"><p>1.002525</p></td><td class="confluenceTd"><p><br /></p></td></tr><tr><td class="confluenceTd"><p>NCAIU3</p></td><td class="confluenceTd"><p>28.51768</p></td><td class="confluenceTd"><p>2.017677</p></td><td class="confluenceTd"><p>1.989899</p></td><td class="confluenceTd"><p><br /></p></td></tr></tbody></table></div><p><br class="atl-forced-newline" />DCE0/DCE1</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col /><col /><col /><col /><col /></colgroup><tbody><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>ATT</p></td><td class="confluenceTd"><p>MRD</p></td><td class="confluenceTd"><p>SNP</p></td><td class="confluenceTd"><p>RB</p></td></tr><tr><td class="confluenceTd"><p><br /></p></td><td class="confluenceTd"><p>36</p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>8</p></td></tr><tr><td class="confluenceTd"><p>DCE 0 credit</p></td><td class="confluenceTd"><p>26.61364</p></td><td class="confluenceTd"><p>1.656566</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p><span data-colorid="ehl8dcdswq">7.729798</span></p></td></tr><tr><td class="confluenceTd"><p>DCE 1 credit</p></td><td class="confluenceTd"><p>18.43434</p></td><td class="confluenceTd"><p>1.502525</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p><span data-colorid="g28a54p9k4">7.699495</span></p></td></tr></tbody></table></div><p><br /><br /></p><p><span class="legacy-color-text-blue4"><strong><span style="text-decoration: underline;">Scenario 2-2: Read intensive test, comparison between QoS0 vs. disable QoS</span></strong></span></p><p><strong><u>Experimental</u></strong><strong><span style="text-decoration: underline;">&nbsp;</span></strong><strong><u>Environment</u></strong></p><ul><li><span>In this test, compared performance between the simulation with all transaction with QoS value 0 and the configuration with &quot;qosEnabled&quot; = false.&nbsp;</span></li><li><span>With the qosEnabled = false system configuration, axQoS signal is&nbsp;</span>disabled<span>&nbsp;at ACE interface also.&nbsp;</span></li><li><span>Using the RTL release at Nov 4th.</span></li></ul><p><br /></p><p><strong><span style="text-decoration: underline;">1) Observation</span></strong></p><ul><li>With the &quot;disable qos&quot;, observing 2%.</li><li>NCAIU read latency reduced 1~2%</li></ul><p><br /></p><p><strong><span style="text-decoration: underline;">2) Util &amp; Latency</span></strong><br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="221" src="https://arterisip.atlassian.net/wiki/download/attachments/247366483/image2021-11-12_12-40-27.png?api=v2" /></span></p><p><br /></p><p><br /></p><p><br /></p><p><span class="legacy-color-text-blue3">For the detailed data, refer the link:&nbsp;</span><a class="external-link" href="https://arteris-my.sharepoint.com/:x:/p/junie_um/EVo0_QFOepNMtIo_I7hRTSYBB-SOtc2hm4ikDcLxxzPClA?e=WuESZB" rel="nofollow">https://arteris-my.sharepoint.com/:x:/p/junie_um/EVo0_QFOepNMtIo_I7hRTSYBB-SOtc2hm4ikDcLxxzPClA?e=WuESZB<sup><img class="rendericon" src="https://confluence.arteris.com/images/icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="" border="0" /></sup></a></p>