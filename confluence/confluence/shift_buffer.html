<h1 id="shift_buffer-ModuleName:">Module Name:</h1><p>shift_buffer</p><h1 id="shift_buffer-Features:">Features:</h1><ul><li>Will shift all data by a specified amount determined by an input.</li><li>The granularity of the shift can be configured through parameters.</li><li>Can contain a pipe stage to break timing path through buffer.</li><li>Can pass through data that wont be shifted.</li></ul><h1 id="shift_buffer-Future:">Future:</h1><ul><li>Shift left and shift right</li></ul><h1 id="shift_buffer-Parameters:">Parameters:</h1><h2 id="shift_buffer-Javascript:">Javascript:</h2><pre>{</pre><p>  &quot;wShiftGranularity&quot;   : 1 to wData, // Granularity of the shift. ( wData % wShiftGranularity must be 0)</p><p>   &quot;wData&quot;                    : 1 to inf, // Width of data to be shifted</p><p>   &quot;bypass&quot;                   : 0 or 1, // 1 - Add pipe stage to break timing path. 0 - Do not add stage to break timing path,</p><p>   &quot;wNsd&quot;                     : 0, to inf // Width of data to be carried through. This data is not shifted</p><p>   &quot;depth&quot;                     : 1 to inf // Depth of FIFO that cuts of timing path. need to be &gt;= 2 for full bandwidth</p><pre>}</pre><h1 id="shift_buffer-I/O:">I/O:</h1><p>input                           clk;</p><p>input                           reset_n;</p><p> </p><p>input                            in_valid;</p><p>input                            in_last;</p><p>input [\=wData-1=\:0]  in_data;</p><p>input [\=wNsd-1=\:0]    in_nsd; // if wNsd &gt; 0, this data is carried through non shifted</p><p>output                          in_ready;</p><p> </p><p>output                          out_valid;</p><p>output                          out_last;</p><p>output [\=wData-1=\:0] out_data;</p><p>output [\=wNsd-1=\:0]   out_nsd; // if wNsd &gt; 0, this data is carried through non shifted</p><p>input                             out_ready;</p><p> </p><p>input [\=log2ceil(wData/wShiftGranularity=\-1:0] shift_amount; // This value must be held constant from the first beat to the last beat</p><h1 id="shift_buffer-ModulesUsed:">Modules Used:</h1><p>fifo</p><h1 id="shift_buffer-Description:">Description:</h1><p>This module will shift the incoming data right by the shift_amount * wShiftGranularity. </p><p>The data will bypass this buffer if shift_amount == 0 thus no latency will be added. (unless bypass == 0)</p><p>The data will bypass this buffer if the data is only a single beat thus no latency will be added. (unless bypass == 0)</p><h2 id="shift_buffer-Examples">Examples</h2><p>All examples have wData = 256 and wShiftGranularity == 64</p><h3 id="shift_buffer-NoShift">No Shift </h3><p>shift_amount = 0</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="740" src="https://arterisip.atlassian.net/wiki/download/attachments/16155749/image2019-4-2%2010:34:25.png?api=v2"></span></p><h3 id="shift_buffer-ShiftonSingleBeatofData">Shift on Single Beat of Data</h3><p>shift_amount == 1</p><p><strong><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="800" src="https://arterisip.atlassian.net/wiki/download/attachments/16155749/image2019-4-2%2010:31:21.png?api=v2"></span></strong></p><h3 id="shift_buffer-ShiftonMultipleBeatsofData">Shift on Multiple Beats of Data</h3><p>shift_amount == 3</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="700" src="https://arterisip.atlassian.net/wiki/download/attachments/16155749/image2019-4-2%2010:28:33.png?api=v2"></span></p><p> </p><p> </p><p> </p>