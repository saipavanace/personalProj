<h1 id="LinkedList-module_name"><strong>module_name</strong></h1><p>com_llist</p><h1 id="LinkedList-parameters"><strong>parameters</strong></h1><h2 id="LinkedList-java_script:"><strong>java_script:</strong></h2><p>{</p><p>nEntries : integer, number of entries in the linked list</p><p /><p>output_active : boolean, output the active bit from each entry (also the d-input signals of the flop)</p><p>output_dependee_id : boolean, output the depend_id from each entry </p><p>assertOn : boolean, assertion is turned on or not</p><p>}</p><p /><p><code>u.paramDefault('output_dependee_id', 'int', 0);</code></p><p><code>u.paramDefault('output_active', 'int', 1);</code></p><p><code>u.paramDefault('assertOn', 'int', 1);</code></p><p><code>var assertOn = u.getParam('assertOn');</code></p><p><code>var output_active = u.getParam('output_active');</code></p><p><code>var output_dependee_id = u.getParam('output_dependee_id');</code></p><p><code>var nEntries = u.getParam('nEntries');</code></p><p><code>var wEntries = log2ceil(nEntries);</code></p><h2 id="LinkedList-verilog:"><strong>verilog:</strong></h2><p>none</p><h1 id="LinkedList-I/O"><strong>I/O</strong></h1><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">u.port(&#39;input&#39;, &#39;clk&#39;,     1);
u.port(&#39;input&#39;, &#39;reset_n&#39;, 1);

u.port(&#39;input&#39;, &#39;entry_alloc_vld&#39;,        1);
u.port(&#39;input&#39;, &#39;entry_alloc_id_onehot&#39;,  nEntries);
u.port(&#39;input&#39;, &#39;entry_dealloc_multihot&#39;, nEntries);

u.port(&#39;input&#39;, &#39;entry_collision_vlds&#39;, nEntries);
u.port(&#39;input&#39;, &#39;entry_collision_id&#39;,   wEntries);
    if (output_active) {
u.port(&#39;output&#39;, &#39;entry_active&#39;,       nEntries);
u.port(&#39;output&#39;, &#39;entry_active_set&#39;,   nEntries);
u.port(&#39;output&#39;, &#39;entry_active_clear&#39;, nEntries);
    }
u.port(&#39;output&#39;, &#39;entry_youngest&#39;,     nEntries);
u.port(&#39;output&#39;, &#39;entry_depend&#39;,       nEntries);
u.port(&#39;output&#39;, &#39;entry_depend_set&#39;,   nEntries);
u.port(&#39;output&#39;, &#39;entry_depend_clear&#39;, nEntries);

if (output_dependee_id) {
    for (var i = 0; i &lt; nEntries; i++) {
u.port(&#39;output&#39;, &#39;entry_dependee_id_&#39;+i, wEntries);
    }
}</pre>
</div></div><p /><h1 id="LinkedList-Description"><strong>Description</strong></h1><p>Definition for “dependee”: if Y depends on X, then X is dependee, Y is dependent.</p><p /><p>This is a linked list module that is used to keep track of any kind of dependency chains.</p><p>For example, it can be used to track transaction address dependency chains, one chain per address.</p><p /><p>This module provides the following interfaces:</p><ul><li><p>a clock and reset interface.</p></li></ul><ul><li><p>an allocation interface for the external logic to allocate an entry.</p></li><li><p>a deallocation interface for the external logic to deallocate one or more entries.</p></li><li><p>a collision interface for the external logic to indicate if an entry that is being allocated has a collision with an existing entry in the linked list for a particular chain. For example, the chain is an address chain and is tracking a particular address A.</p></li><li><p>an output interface for the external logic to monitor the contents of each entry in the linked list.</p></li></ul><p>Each entry contains a bit Y (youngest), a bit D (dependency), a bit V (valid), and an ID (index in the linked list).</p><p>The youngest entry in a chain has Y=1, V=1.</p><p>The oldest entry in a chain has D=0, V=1.</p><p>An entry that has dependency on other entry in the same chain has D=1, V=1, ID=dependee ID. </p><p /><p>The Y-bit is set the first time an entry for a particular dependency chain is allocated. If collision is detected, then the entry with the Y-bit set in the same dependency chain will be cleared. In addition, each entry maintains a dependency bit, along with a valid bit and a dependee ID.</p><p>The D-bit is cleared when an entry sees its dependee being deallocated.</p><p>The entry that is being allocated into the linked list requests for collision check. If collision is detected, it will set the D-bit and capture the dependee ID (i.e. the entry ID that it collided with), so that it can monitor the dependee’s completion. Only the entries with Y-bit set will participate in the dependency collision check. When the entry that has Y-bit set sees a collision match, it de-asserts its Y-bit. </p><p>A dependency chain can have only one entry with Y-bit set. In other words, there can only be one youngest entry in a chain.</p><p>A dependency chain can have only one entry with D-bit clear. In other words, there can only be one oldest entry in a chain. The oldest entry in a chain does not have any dependency.</p><p><br/> </p><p /><p /><p /><p /><p /><p />