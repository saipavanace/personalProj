<p> </p><h2 id="AngeloPerformanceModelDeploymentInstructions(internal)-EnvironmentVariables">Environment Variables</h2><p>The Platform Architect nCore performance model depends upon the following environment variables which must be appropriately set before Platform Architect is run:</p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-FLEXNOC_HOME">FLEXNOC_HOME</h3><p>Nominal value: <em>/engr/dev/tools/FlexNoc/limited/FlexNoc-3.5.3/</em></p><p>Description: The location of the FlexNoc installation. <strong>User does not typically need to modify this variable.</strong></p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-FLEXNOC_PA_LIBPATH">FLEXNOC_PA_LIBPATH</h3><p>Nominal value: <em>/home/stephenh/work/flexnoc/3.5.3/lib64-PA-M2017.06.02</em></p><p>Description: The location of the FlexNoc &quot;AV&quot; model (the directory in the FlexNoc installation containing the libnttpTLM.so). <strong>User does not typically need to modify this variable.</strong></p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-CONDUCTOR_HOME">CONDUCTOR_HOME</h3><p>Nominal value: <em>$HOME/work/deploy</em></p><p>Description: &quot;Deploy directory&quot; The path into which the &quot;Angelo&quot; build is deployed. This path (which must exist) is updated upon each invocation of ./scripts/update_conductor_home.  CONDUCTOR_HOME is populated in a manner consistent which that which Conductor shall eventually emit once the nCore performance model library is distributed in a release; for the moment it remains a stop-gap placeholder for the eventual solution.</p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-ALBERTO_SCRIPT">ALBERTO_SCRIPT</h3><p>Nominal value: <em>/engr/dev/releases/utils/alberto-v1.0.3/alberto</em></p><p>Description: The path to the &quot;Alberto&quot; release used by Platform Architect. <strong>User does not typically need to modify this variable.</strong></p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-SNPSLMD_LICENSE_FILE">SNPSLMD_LICENSE_FILE</h3><p>Nominal value: <em>5285@lic-node0:5285@lic03</em></p><p>Description: Synopsys license file server(s). <strong>User does not typically need to modify this variable.</strong></p><h2 id="AngeloPerformanceModelDeploymentInstructions(internal)-Configurationfiles">Configuration files</h2><p>The following configuration files must be present within a user's environment (created manually, if necessary), before Platform Architect is run:</p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-cwr.lib">cwr.lib</h3><p>Path: <em>$HOME/workarea/cwr.lib</em></p><p>Contents: </p><blockquote><p>INCLUDE $COWAREHOME/pc/etc/cwr.lib</p><p>DEFINE work work</p><p><strong>DEFINE CWR_ARTERIS_NCORE_BL /home/stephenh/snps/deliveries/latest/ARTERIS_Ncore_BL/</strong></p></blockquote><p>Description: This is a well known Platform Architecture configuration file. The path is set in the users home directory (&quot;~/workarea&quot;) and the CWR_ARTERIS_NCORE_BL points to the location of the Ncore bus library (i.e. the Synopsys delivery). The &quot;Bus Library&quot; denotes the delivery to us (ArterisIP) from Synopsys and constitute the user visible shells seen within Platform Architect. Generally, this location will be updated by me (Big Steve), however individual contributors are free to point this to their own local bus library installation. If this variable is unset or set to a path that does not exist, the nCore elements will not appear in Platform Architect.</p><h2 id="AngeloPerformanceModelDeploymentInstructions(internal)-&quot;Angelo&quot;buildinstructions:">&quot;Angelo&quot; build instructions:</h2><p> </p><p>Git location: <a href="ssh://git@stash.arteris.com:7999/maes/angelo.git" rel="nofollow">ssh://git@stash.arteris.com:7999/maes/angelo.git</a></p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-EnvironmentSetup">Environment Setup</h3><p>A default environment setup script exists at ./scripts/pctenv.eh. This is used by the development team on a day-to-day basis. Sourcing this into your environment shall initialize the state used by the build scripts and Platform Architect. This should automatically setup many of the aforementioned environment variables, however it may be necessary to tailor some of the variables within this file to suite ones own particular setup. The file is however fairly well documented and should therefore be comprehensible by any competent engineer.</p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-BuildInstructions">Build Instructions</h3><p>To build &quot;Angelo&quot;, run the following commands from the root of the source tree:</p><blockquote><p>mkdir build # create the build tree</p><p>pushd build; cmake ..; popd # invoke cmake within the build tree</p><p>./scripts/update_conductor_home.sh # compile all sources and &quot;deploy&quot; generated libraries.</p></blockquote><p>Ensure that your environment is appropriately set up before running the update_conductor_home.sh script or generated libraries will not be copied to a location that can be seen by Platform Architect.</p><h3 id="AngeloPerformanceModelDeploymentInstructions(internal)-update_conductor_home.sh">update_conductor_home.sh</h3><p>The 'update_conductor_home.sh' script automates the build and deploy process as required by Angelo and Platform Architect. The source code is built in the build-tree (by convention, within a directory called 'build'). The generated shared libraries are then copied to the location denoted by $CONDUCTOR_HOME and placed in paths consistent with that required by Platform Architect. We do not recommend this be done manually and would suggest that upon each incremental modification to the source code, update_conductor_home.sh be rerun from the root of the source tree.</p><p> </p><p> </p><p> </p>