<p><span style="font-size: 24.0px;">Module Name</span></p><p>sym_smi_arb</p><h1 id="HW-CTFsym_smi_arb-Parameters:">Parameters:</h1><pre>{</pre><pre>  &quot;interfaces&quot; : {</pre><pre>    &quot;clkInterface&quot; : {InterfaceCLK}, </pre><pre>    &quot;outInterface&quot; : {InterfaceSMI},</pre><pre class="wiki-content">    &quot;inInterfaces&quot; : [{InterfaceSMI},,,], // array of in interfaces</pre><pre class="wiki-content">    &quot;protectionInterface&quot; : {InterfacePROT} // optional, expected if protectionStyle is not null</pre><pre class="wiki-content">  },<span style="font-family: Arial , sans-serif;"> </span></pre><pre>  &quot;numPri&quot; : Number of Priorities</pre><pre>  &quot;externalDepnd&quot; : trie or false, Indicates if extra signaling needs to go through the sym_smi_arb (Need to make generic in the future)</pre><pre>  &quot;mstrArbLck&quot; :  true or false, </pre><pre>  &quot;vcLckStyleVld&quot; :  true or false, </pre><pre>  &quot;mstrLckStyleVld&quot; :  true or false, </pre><pre>  &quot;arbType&quot; : {</pre><pre>      &quot;vc0ArbType&quot; :  &lt;arb type&gt;, </pre><pre>      &quot;vc(vc#)ArbType&quot; : &lt;arb type&gt;,</pre><pre>      &quot;masterArbType&quot; :  &lt;arb type&gt;</pre><pre>  },  // Arbiter types for each of the arbiters</pre><pre>  &quot;portMap&quot; :{</pre><pre>      &quot;vc0PortMap&quot; :  [int, int, ...], // Array of ports assosiated with that VC</pre><pre>      &quot;vc(vc#)PortMap&quot; : [int, int, ...]</pre><pre>  },  // Arbiter types for each of the arbiters</pre><pre>  &quot;masterArbRdyAware&quot; : yes or no</pre><pre>  &quot;weights&quot; : {</pre><pre>      &quot;vc0Weights&quot; : [int, int, ...],</pre><pre>      &quot;vc(vc#)Weigths&quot; : [int, int, ...],</pre><pre>      &quot;masterWeights&quot; : [int, int, ...],</pre><pre>  },  // Weights to be used for each input of the arbiters</pre><pre>  &quot;weightsProg&quot; : &quot;yes&quot; or &quot;no&quot;, // Programmable Weights</pre><pre>  &quot;protectionStyle&quot; : <a class="external-link" href="https://confluence.arteris.com/display/ENGR/protectionStyle" rel="nofollow">protectionStyle</a></pre><pre>}</pre><h1 id="HW-CTFsym_smi_arb-ModulesUsed">Modules Used</h1><p><a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156583/HW-CTF+sym_sw_arb" data-linked-resource-id="16156583" data-linked-resource-version="1" data-linked-resource-type="page">HW-CTF sym_sw_arb</a></p><h1 id="HW-CTFsym_smi_arb-Description">Description</h1><h3 id="HW-CTFsym_smi_arb-Summary">Summary</h3><p>The SMI mux arbitrates multiple single VC SMI ports to a single multiple VC SMI port. This is done using a <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156583/HW-CTF+sym_sw_arb" data-linked-resource-id="16156583" data-linked-resource-version="1" data-linked-resource-type="page">HW-CTF sym_sw_arb</a>, the same arbiter that is used internally inside the switches.</p><h3 id="HW-CTFsym_smi_arb-Operation">Operation</h3><p>Most of the added logic inside the sym_smi_arb correctly wrapping the sym_sw_arb to arbitrate two channels instead of one.</p><p>The main chunks of logic are:</p><ul><li>At the input of each SMI channel the NDP and DP are sync'd. (When its a Write)</li><li>At the output SMI channel, each VC in the SMI interface has its NDP and DP sync'd (When its a Write)</li><li>At the input, logic to correctly drive first and last into the sym_sw_arb</li><li>Muxing logic to correctly select the correct port DP for a VC and then the correct VC DP to the output DP.</li></ul><h3 id="HW-CTFsym_smi_arb-Usage">Usage</h3><p>This is mainly used inside the sym_common_queue to arbitrate between SMI queues, the pack/depack to arbitrate between single VC version, ROB to arbitrate between single VC versions, and the beat buffer to arbitrate between single VC versions.</p><h3 id="HW-CTFsym_smi_arb-BlockDiagram">Block Diagram</h3><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="1000" src="https://arterisip.atlassian.net/wiki/download/attachments/16156593/image2019-7-9%2010:18:54.png?api=v2"></span></p><pre><br/></pre>