<p><strong><em><u><br/></u></em></strong></p><p><strong><em><u>CCTI Observability Verification</u></em></strong> </p><p>CCTI has a debug feature that allows you to snoop all the transaction traversing through a CCTI port. In order to verify these feature, we setup the CCTI registers and then monitor the ATB port to actually see if there is some traffic on the ATB debug port. Currently we don’t have any auto-checking but we visually verified that the txn seen on the input of CCTI ports are also seen on the ATB which is the debug port.  </p><p>Here is the list of registers that need to be programmed in CCTI to enable this feature.</p><p>//Clear all the Filters</p><p>r_addr = 32'h0001814;      </p><p>apb_regaddr_read(phase,r_addr,rd_data);</p><p>apb_regaddr_write(r_addr, rd_data | 32'hffffffff,phase);</p><p>//Set the TRACEEN bit</p><p>r_addr = 32'h0001808;</p><p>apb_regaddr_read(phase,r_addr,rd_data);</p><p>apb_regaddr_write(r_addr, rd_data | 32'h2,phase);</p><p>//Set the GLOBALEN bit</p><p>r_addr = 32'h000180c;</p><p>apb_regaddr_read(phase,r_addr,rd_data);</p><p>apb_regaddr_write(r_addr,rd_data | 32'h1,phase);</p><p>//Enable ATB port output</p><p>r_addr = 32'h0001d0c;</p><p>apb_regaddr_read(phase,r_addr,rd_data);</p><p>apb_regaddr_write(r_addr, rd_data | 32'h1,phase);</p><p>           </p><p><strong>Note:</strong> Register address are based on the real_chip.apf. If you have a new APF please take a look at the cct_struct.xml file to find out the register address.</p><p> </p><p> </p><p><strong><em><u>CCTI Firewall Verification </u></em></strong></p><p> </p><p>CCTI Firewall feature allows you to block the input port of CCTI from receiving any new txns. It does this by sending SLVERR for any SFI command request that it receives on its port. Inorder to verify this feature there are two parts first is editing the RTL to connect the ErrorDrive signal to Error_0 signal in the “rtl.FirewallCoreCell.v”.</p><p> </p><p>The second part is connecting the ErrorDrive signal at the top of the “<a class="external-link" href="http://concerto_tb_top.sv" rel="nofollow">concerto_tb_top.sv</a>” file to always drive a “1”. Once you drive the traffic to the CCTI ports all txns will get SLVERR as a response. </p>