<h1 id="id-3.7.1-FunctionalSafetyController(FSC)-Overview">Overview</h1><p><span>The FSC accumulates resiliency fault interfaces of multiple blocks which can be in multiple clock and power domains. It then reports any faults seen on these interfaces upstream and through registers. The FSC, in addition, can perform BIST on the Resiliency reporting logic of each of the blocks.</span></p><p><span><br/></span></p><p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-center" width="600" src="https://confluence.arteris.com/plugins/servlet/benryanconversion?pageId=10392518&amp;attachment=FSC+Micro-Architecture+Specification.docx&amp;name=10392515&amp;val=/image-1.png" data-image-src="https://confluence.arteris.com/plugins/servlet/benryanconversion?pageId=10392518&amp;attachment=FSC+Micro-Architecture+Specification.docx&amp;name=10392515&amp;val=/image-1.png" loading="lazy"></span></p><h1 id="id-3.7.1-FunctionalSafetyController(FSC)-BISTStateMachine">BIST State Machine</h1><p><span>The FSC can control BIST operations for each block connected to it through software control.Â </span></p><p><span>Communication with the BIST FSM in each block is done through a full handshake mechanism: the safety controller asserts bist_next to indicate that the block FSM needs to execute the next step of the BIST sequence. The blocks FSM then asserts bist_next_ack. When bist_next_ack from all blocks are asserted the safety controller will de-assert bist_next. This deassertion is the event that will make each blocks FSM execute the step of the sequence. After the blocks are done executing that step, they will de-assert bist_next_ack. When the safety controller sees all bist_next_ack de-asserted, it checks for the BIST step result.</span></p><p><span>Two modes of operation are supported: automatic and step-by-step. In automatic mode, the software writes a bit in a register to start the BIST sequence, and all five steps listed below are sequenced automatically in every block in parallel. At the end of the sequence of five steps, a register reports when the sequence is complete, and another register reports a success/failure bit per step. The sequence will always complete whether any specific step has an error or not.</span></p><p><span>In step-by-step mode, the software writes into a register for each BIST step, one by one. This mode allows for accessing more detailed information in case a step is reporting an error in automatic mode. Every time the software request execution of the next step, the BIST FSM send a request to execute the next BIST step to all output checkers. A register reports when the sequence is complete, and through access to the details of the mission_fault and latent_fault inputs, it is possible to identify the source of failure.</span></p><p><span>During BIST, the BIST FSM can invert all the faults inputs, to detect that all inputs are 0, or all inputs are 1, using the same OR tree, and per the step in the BIST sequence.</span></p><h1 id="id-3.7.1-FunctionalSafetyController(FSC)-FaultReporting">Fault Reporting</h1><p><span>The FSC will also report the faults coming from each of the blocks both through wires and through a readable register accessible through APB.</span></p><h1 id="id-3.7.1-FunctionalSafetyController(FSC)-RegisterMap">Register Map</h1><div class="table-wrap"><table style="margin-left: 0.0pt;" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Register Name</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Register Offset</strong></span></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Description</span></strong></p></td></tr><tr><td class="confluenceTd"><p><span>SCBISTCR</span></p></td><td class="confluenceTd"><p><span>0x000</span></p></td><td class="confluenceTd"><p><span>Safety Controller BIST control register</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCBISTAR</span></p></td><td class="confluenceTd"><p><span>0x004</span></p></td><td class="confluenceTd"><p><span>Safety Controller BIST activity register</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCCETH</span></p></td><td class="confluenceTd"><p><span>0x008</span></p></td><td class="confluenceTd"><p><span>Correctable Errors Threshold <strong>(This register is moved to individual units to reduce number of wires)</strong></span></p></td></tr><tr><td class="confluenceTd"><p><span>SCLF0</span></p></td><td class="confluenceTd"><p><span>0x010</span></p></td><td class="confluenceTd"><p><span>Latent Faults inputs values 31:0</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCLF1</span></p></td><td class="confluenceTd"><p><span>0x014</span></p></td><td class="confluenceTd"><p><span>Latent Faults input values 63:32</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCLF2</span></p></td><td class="confluenceTd"><p><span>0x018</span></p></td><td class="confluenceTd"><p><span>Latent Faults input values 95:64</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCLF3</span></p></td><td class="confluenceTd"><p><span>0x01C</span></p></td><td class="confluenceTd"><p><span>Latent Faults input values 127:96</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCMF0</span></p></td><td class="confluenceTd"><p><span>0x020</span></p></td><td class="confluenceTd"><p><span>Mission Faults inputs values 31:0</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCMF1</span></p></td><td class="confluenceTd"><p><span>0x024</span></p></td><td class="confluenceTd"><p><span>Mission Faults input values 63:32</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCMF2</span></p></td><td class="confluenceTd"><p><span>0x028</span></p></td><td class="confluenceTd"><p><span>Mission Faults input values 95:64</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCMF3</span></p></td><td class="confluenceTd"><p><span>0x02C</span></p></td><td class="confluenceTd"><p><span>Mission Faults input values 127:96</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCCETHF0</span></p></td><td class="confluenceTd"><p><span>0x030</span></p></td><td class="confluenceTd"><p><span>Correctable errors counter above threshold inputs values 31:0</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCCETHF1</span></p></td><td class="confluenceTd"><p><span>0x034</span></p></td><td class="confluenceTd"><p><span>Correctable errors counter above threshold input values 63:32</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCCETHF2</span></p></td><td class="confluenceTd"><p><span>0x038</span></p></td><td class="confluenceTd"><p><span>Correctable errors counter above threshold input values 95:64</span></p></td></tr><tr><td class="confluenceTd"><p><span>SCCETHF3</span></p></td><td class="confluenceTd"><p><span>0x03C</span></p></td><td class="confluenceTd"><p><span>Correctable errors counter above threshold input values 127:96</span></p></td></tr></tbody></table></div><h3 id="id-3.7.1-FunctionalSafetyController(FSC)-SCBISTCRRegisterBitAssignment"><span class="legacy-color-text-blue1">SCBISTCR Register Bit Assignment</span></h3><div class="table-wrap"><table style="margin-left: 0.0pt;" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Bit</span></strong></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Name</span></strong></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Description</span></strong></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Access</span></strong></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Reset</span></strong></p></td></tr><tr><td class="confluenceTd"><p><span>31:2</span></p></td><td class="confluenceTd"><p><span>Rsvd</span></p></td><td class="confluenceTd"><p><span>Reserved</span></p></td><td class="confluenceTd"><p><span>RO</span></p></td><td class="confluenceTd"><p><span>0x0</span></p></td></tr><tr><td class="confluenceTd"><p><span>1</span></p></td><td class="confluenceTd"><p><span>bist_step</span></p></td><td class="confluenceTd"><p><span>Writing a 1 will command the BIST FSM to move to the next BIST step in the sequence</span></p></td><td class="confluenceTd"><p><span>Write 1</span></p><p><span>Read as 0</span></p></td><td class="confluenceTd"><p><span>0x0</span></p></td></tr><tr><td class="confluenceTd"><p><span>0</span></p></td><td class="confluenceTd"><p><span>bist_start</span></p></td><td class="confluenceTd"><p><span>Writing a 1 will command the BIST FSM to sequence all 5 steps of the BIST sequence automatically. If there is an error and the BIST will restart the sequence if bist_start is written to again</span></p></td><td class="confluenceTd"><p><span>Write 1</span></p><p><span>Read as 0</span></p></td><td class="confluenceTd"><p><span>0x0</span></p></td></tr></tbody></table></div><h3 id="id-3.7.1-FunctionalSafetyController(FSC)-SCBISTARRegisterBitAssignment"><span class="legacy-color-text-blue1">SCBISTAR Register Bit Assignment</span></h3><div class="table-wrap"><table style="margin-left: 0.0pt;" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Bit</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Name</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Description</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Access</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Reset</strong></span></p></td></tr><tr><td class="confluenceTd"><p><span>31:10</span></p></td><td class="confluenceTd"><p><span>Rsvd</span></p></td><td class="confluenceTd"><p><span>Reserved</span></p></td><td class="confluenceTd"><p><span>RO</span></p></td><td class="confluenceTd"><p><span>0x0</span></p></td></tr><tr><td class="confluenceTd"><p><span>9:5</span></p></td><td class="confluenceTd"><p><span>bist_err</span></p></td><td class="confluenceTd"><p><span>Each bit in this register represent on step of the BIST sequence. When the sequence starts, itâs reset. As each BIST step completes, its bit is set to 1 if the sequence has completed in error</span></p><div class="table-wrap"><table style="margin-left: 0.0pt;" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><span>Bit</span></p></td><td class="confluenceTd"><p><span>Field</span></p></td></tr><tr><td class="confluenceTd"><p><span>5</span></p></td><td class="confluenceTd"><p><span>BIST full reset error (Step1)</span></p></td></tr><tr><td class="confluenceTd"><p><span>6</span></p></td><td class="confluenceTd"><p><span>BIST functional comparator tree force error (Step2)</span></p></td></tr><tr><td class="confluenceTd"><p><span>7</span></p></td><td class="confluenceTd"><p><span>BIST duplicate comparator tree force error (Step3)</span></p></td></tr><tr><td class="confluenceTd"><p><span>8</span></p></td><td class="confluenceTd"><p><span>BIST both comparator tree force error (Step4)</span></p></td></tr><tr><td class="confluenceTd"><p><span>9</span></p></td><td class="confluenceTd"><p><span>BIST final full reset error (Step5)</span></p></td></tr></tbody></table></div></td><td class="confluenceTd"><p><span>RO</span></p></td><td class="confluenceTd"><p><span>0x0</span></p></td></tr><tr><td class="confluenceTd"><p><span>4:0</span></p></td><td class="confluenceTd"><p><span>bist_done</span></p></td><td class="confluenceTd"><p><span>Each bit in this register represent on step of the BIST sequence. When the sequence starts, itâs reset. As each BIST step completes, its bit is set to 1</span></p><div class="table-wrap"><table style="margin-left: 0.0pt;" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><span>Bit</span></p></td><td class="confluenceTd"><p><span>Field</span></p></td></tr><tr><td class="confluenceTd"><p><span>0</span></p></td><td class="confluenceTd"><p><span>BIST full reset done (Step1)</span></p></td></tr><tr><td class="confluenceTd"><p><span>1</span></p></td><td class="confluenceTd"><p><span>BIST functional comparator tree force done (Step2)</span></p></td></tr><tr><td class="confluenceTd"><p><span>2</span></p></td><td class="confluenceTd"><p><span>BIST duplicate comparator tree force done (Step3)</span></p></td></tr><tr><td class="confluenceTd"><p><span>3</span></p></td><td class="confluenceTd"><p><span>BIST both comparator tree force done (Step4)</span></p></td></tr><tr><td class="confluenceTd"><p><span>4</span></p></td><td class="confluenceTd"><p><span>BIST final full reset done (Step5)</span></p></td></tr></tbody></table></div></td><td class="confluenceTd"><p><span>RO</span></p></td><td class="confluenceTd"><p><span>0x0</span></p></td></tr></tbody></table></div><h3 id="id-3.7.1-FunctionalSafetyController(FSC)-SCLFXRegisterBitAssignment"><span class="legacy-color-text-blue1">SCLFX Register Bit Assignment</span></h3><div class="table-wrap"><table style="margin-left: 0.0pt;" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Bit</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Name</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Description</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Access</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Reset</strong></span></p></td></tr><tr><td class="confluenceTd"><p><span>N-1:0</span></p></td><td class="confluenceTd"><p><span>latent_fault</span></p></td><td class="confluenceTd"><p><span>Each bit indicates a latent fault on the corresponding fault interface.</span></p></td><td class="confluenceTd"><p><span>RO</span></p></td><td class="confluenceTd"><p><span>0x0</span></p></td></tr></tbody></table></div><h3 id="id-3.7.1-FunctionalSafetyController(FSC)-SCMFXRegisterBitAssignment"><span class="legacy-color-text-blue1">SCMFX Register Bit Assignment</span></h3><div class="table-wrap"><table style="margin-left: 0.0pt;" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Bit</span></strong></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Name</span></strong></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Description</span></strong></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Access</span></strong></p></td><td class="confluenceTd"><p><strong><span class="legacy-color-text-blue1">Reset</span></strong></p></td></tr><tr><td class="confluenceTd"><p><span>N-1:0</span></p></td><td class="confluenceTd"><p><span>mission_fault</span></p></td><td class="confluenceTd"><p><span>Each bit indicates a mission fault on the corresponding fault interface.</span></p></td><td class="confluenceTd"><p><span>RO</span></p></td><td class="confluenceTd"><p><span>0x0</span></p></td></tr></tbody></table></div><h3 id="id-3.7.1-FunctionalSafetyController(FSC)-SCCETHFXRegisterBitAssignment"><span class="legacy-color-text-blue1">SCCETHFX Register Bit Assignment</span></h3><div class="table-wrap"><table style="margin-left: 0.0pt;" class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Bit</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Name</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Description</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Access</strong></span></p></td><td class="confluenceTd"><p><span class="legacy-color-text-blue1"><strong>Reset</strong></span></p></td></tr><tr><td class="confluenceTd"><p><span>N-1:0</span></p></td><td class="confluenceTd"><p><span>cerr_over_thresh</span></p></td><td class="confluenceTd"><p><span>Each bit indicates the amount of correctable errors went over the threshold on the corresponding fault interface.</span></p></td><td class="confluenceTd"><p><span>RO</span></p></td><td class="confluenceTd"><p><span>0x0</span></p><div><span><br/></span></div></td></tr></tbody></table></div><p>Â </p><p>Â </p><p>Â </p><p>Â </p><p>Â </p><p>Â </p>