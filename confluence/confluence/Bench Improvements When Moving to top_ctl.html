<h1 id="BenchImprovementsWhenMovingtotop_ctl-Rationale">Rationale</h1><p>The current top_nl bench is quadratic in complexity with the number of protocols supported. We have separate codepaths and comparisions for each of AXI→AXI, AXI→APB, APB→APB, and APB→AXI. By moving the main scoreboard to top_ctl, this main scoreboard complexity would be reduced to linear.</p><h1 id="BenchImprovementsWhenMovingtotop_ctl-Disadvantages">Disadvantages</h1><p>With the various native layers no longer in the end-to-end bench, we will need unit tests for the ATUI and ATUT NL blocks. This will require either software or RTL support to extract these blocks for a given top-level config into something amenable to unit testing.</p><p>We may be able to use existing top_nl configurations with 3 different checker infrastructures, though: one for ATUI_NL, on</p><h1 id="BenchImprovementsWhenMovingtotop_ctl-Advantages">Advantages</h1><ol><li>Elimination of quadratic scoreboard complexity</li><li>Reduction of duplicate bugs due to different signatures on AXI and APB tests</li><li>Some ATU NL benches can likely be done in formal</li></ol><h1 id="BenchImprovementsWhenMovingtotop_ctl-WorkItems">Work Items</h1><ol><li>move all initiator-side NL transformations into ctl_seq_item constructors from axi4/apb_seq_item</li><li>move all CTL transformations into ctl_seq_item::transform, separating initiator- and target-side splitting<br/><ol><li>initiator-side splitting</li><li>ID compression</li><li>address mapping</li></ol></li><li>move all target-side transformations into ctl_seq_item::convert_to_*<ol><li>These are currently mixed into the main transform logic or in the scoreboard</li><li>we can't do this in NL seq_item constructors because we may need to do target-side splitting</li></ol></li><li>Add initiator-side CTL monitors for our primary checking</li><li>with the transformations separated like this, structure debugging to allow better insight<ol><li>Instead of doing all the transforms at once, we will have a distinct set of objects at each point in the data flow</li></ol></li></ol>