<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1759724151042 {padding: 0px;}
div.rbtoc1759724151042 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1759724151042 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1759724151042'>
<ul class='toc-indentation'>
<li><a href='#ModelJiraProcess-Goals'>Goals</a></li>
<li><a href='#ModelJiraProcess-BugProcess'>Bug Process</a></li>
<li><a href='#ModelJiraProcess-RepeatabilityUnderRandomization'>Repeatability Under Randomization</a></li>
<li><a href='#ModelJiraProcess-EndResult'>End Result</a></li>
</ul>
</div></p><h1 id="ModelJiraProcess-Goals">Goals</h1><ul><li>keep clear who owns the next step in debug for all outstanding issues</li><li>keep record of what test found which bug, build regression</li><li>run statistics on what types of bugs are found, what are the weak features in units</li></ul><h1 id="ModelJiraProcess-BugProcess">Bug Process</h1><ol><li>when the unit of the bug code is known (IO-AIU, DMI) put it in Component field</li><li>Description should include failing log message and steps to reproduce including exact command line. If this is a new test, test should be saved for future regression.</li><li>Keep discussion relevant to debug on the ticket instead of email. When working on a bug involving more than one person, make sure they are all included as Watchers and keep the Assignee pointing to whoever needs to look at the current issue.</li><li>When issue is finally fixed so that test runs to completion with pass, then Assignee should change state to Resolved. If bug was found in one specific unit and Component field is not assigned yet, put the unit in Component field</li><li> If resolving the issue requires a code change then<ol><li>git pull the latest to local workspace</li><li>make changes in local workspace</li><li>rerun the test to make sure it passes or at least gets past the previous failing point</li><li>make test (runs the post checkin regression)</li><li>git commit and put the bug number in the commit comment in the form AN-###. For example, AN-300. This causes a link to be created in the Jira to the gitlab commit</li><li>if post checkin regression fails, you will get an email, please fix ASAP</li></ol></li><li>Let the original Reporter confirm the issue is fixed and change state to Closed.</li></ol><h1 id="ModelJiraProcess-RepeatabilityUnderRandomization">Repeatability Under Randomization</h1><p>It is important to put in the JIRA everything necessary to repeat the bug. If the failing test is a random test, then include the random seed. In some cases, as the model is updated, a JIRA may be filed with a failing test, but the test actually passes on the current model even though nothing has been checked in to fix the specific issue. In that case, please be sure to put the git commit number in the JIRA when the original fail was found. </p><p>With randomized nightly regressions, we may the different tests fail on different commits with the same failing symptom. When that happens, keep the bug open until the actual issue is fixed, and do debug on a stable failing case by doing any of the following</p><ol><li>Checking out the exact failing commit, debug and find a fix there, and check in the fix to the HEAD of integration branch. OR</li><li>Create a new branch on the failing commit with a name that includes the JIRA number, debug and fix on that branch, then merge the change back to integration branch</li><li>Use <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16171880/Run+a+List+of+Tests" data-linked-resource-id="16171880" data-linked-resource-version="11" data-linked-resource-type="page">run_list tool</a> with the scenario file to run a few hundred tests to see if you can reproduce on the current commit with a different seed.<ul><li>run_list.pl -m bin/ncore3_archsim --scenario-file &lt;failing test scn&gt; --random 200 --queue</li></ul></li><li>Check if there are any fails with similar signature in nightly regression. For example,<ul><li>grep 'Assertion.*reserve' /scratch/meperfmod/jenkins/angelo_*/angelo/build/run_list.*/*log</li></ul></li></ol><p>Keep in mind that just because a random test fails on a previous commit and passes on the current commit, then that doesn't necessarily mean the bug is fixed. If there have been no commits related to the problem area, then it's highly likely that the commits have just altered the timing so that the bug condition is no longer reached. And if the bug is still present, but was only seen in a random seed, it could be a while before it shows up again.</p><h1 id="ModelJiraProcess-EndResult">End Result</h1><p>At any point in time, anyone can look at the Jira to figure out general status, or at least know who to ask (Assignee)</p><p><br/></p>