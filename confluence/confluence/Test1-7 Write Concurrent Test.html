<p>The purpose of this test is to increase write traffic gradually and see the latency/BW impact in the system. The below is scenario:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 64.3432%;"><colgroup><col style="width: 11.0532%;"/><col style="width: 22.2106%;"/><col style="width: 22.3149%;"/><col style="width: 22.3149%;"/><col style="width: 22.1064%;"/></colgroup><tbody><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>NCAIU0</p></td><td class="confluenceTd"><p>NCAIU1</p></td><td class="confluenceTd"><p>NCAIU2</p></td><td class="confluenceTd"><p>NCAIU3</p></td></tr><tr><td class="confluenceTd"><p>Sequence 1</p></td><td class="confluenceTd"><p>Enabled WNSP, Cache disabled</p></td><td class="confluenceTd"><p>Enabled WNSP, Cache disabled</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>Sequence 2</p></td><td class="confluenceTd"><p>Enabled WNSP, Cache disabled</p></td><td class="confluenceTd"><p>Enabled WNSP, Cache disabled</p></td><td class="confluenceTd"><p>Enabled WNSP, Cache disabled</p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>Sequence 3</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>Sequence 4</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>Sequence 5</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td><td class="confluenceTd"><p>Enabled WLU, Cache miss</p></td></tr></tbody></table></div><p><strong>Experimental Environment:</strong></p><ul><li>Address increased by cache line, no overlap between NCAIUs</li><li>All cache misses</li><li>Back-to-back traffic</li><li>Zero latency at destination</li><li>All traffic is targeting DMI</li><li>All traffic is with QoS value 0</li></ul><p><strong><u>1) Observation</u></strong></p><ul><li>For WNSP, Utilization drops around 25% when three ncaiu0, 1, and 2 is enabled.</li><li>For the WLU, maximum BW is being observed as 75% regardless of the increase of the traffic.</li><li>NCAIU1 shows much higher latency then other initiators. For the snoop traffic and when all the initiators are activated concurrently shows around 500 cycle latency. Moreover, it shows similar BW number with other initiators.</li><li>The main bottleneck is DCE <strong>RB</strong></li><li>When compared to beta 3 RTL, non-coherent traffic (Case 1 and Case 2) does not have any perf degradation, and coherent case (Case3, 4 and 5) is observing 0.7~3% BW degradation.</li></ul><p><strong><u>2) Latency &amp; Utilization</u></strong></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="154" src="https://arterisip.atlassian.net/wiki/download/attachments/16164777/image2021-11-12_16-53-34.png?api=v2"></span></p><p><br/></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="https://arterisip.atlassian.net/wiki/download/attachments/16164777/image2021-11-7_16-33-27.png?api=v2"></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16164777/image2021-11-7_16-33-47.png?api=v2"></span></p><p><br/></p><p><strong><u>3)Â </u></strong><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16164777/image2021-11-7_16-35-57.png?api=v2"></span></p><p><strong><u>3) Resource and credit values at saturating point</u></strong></p><p>Picked the resource value at sequence 4.</p><p>CAIU / NCAIU (when QoS enabled)</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>OTT</p></td><td class="confluenceTd"><p>DCE0</p></td><td class="confluenceTd"><p>DCE1</p></td><td class="confluenceTd"><p>DMI</p></td></tr><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>CAIU: 96</p><p>NCAIU: 32</p><p>NCAIU1: 96</p></td><td class="confluenceTd"><p>CAIU: 10</p><p>NCAIU: 6</p></td><td class="confluenceTd"><p>CAIU: 10</p><p>NCAIU: 6</p></td><td class="confluenceTd"><p>CAIU: 10</p><p>NCAIU: 6</p></td></tr><tr><td class="confluenceTd"><p>CAIU</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>NCAIU0</p></td><td class="confluenceTd"><p>29.25829</p></td><td class="confluenceTd"><p>5.087678</p></td><td class="confluenceTd"><p>5.045024</p></td><td class="confluenceTd"><p>0</p></td></tr><tr><td class="confluenceTd"><p>NCAIU1</p></td><td class="confluenceTd"><p>44.88389</p></td><td class="confluenceTd"><p>5.812796</p></td><td class="confluenceTd"><p>5.800948</p></td><td class="confluenceTd"><p>0</p></td></tr><tr><td class="confluenceTd"><p>NCAIU2</p></td><td class="confluenceTd"><p>29.29147</p></td><td class="confluenceTd"><p>5.049763</p></td><td class="confluenceTd"><p>4.981043</p></td><td class="confluenceTd"><p>0</p></td></tr><tr><td class="confluenceTd"><p>NCAIU3</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr></tbody></table></div><p><br/></p><p>DCE0/DCE1(when QoS enabled)</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>ATT</p></td><td class="confluenceTd"><p>MRD</p></td><td class="confluenceTd"><p>SNP</p></td><td class="confluenceTd"><p>RB</p></td></tr><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>36</p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>8</p></td></tr><tr><td class="confluenceTd"><p>DCE 0 credit</p></td><td class="confluenceTd"><p>33.81043</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>7.815166</p></td></tr><tr><td class="confluenceTd"><p>DCE 1 credit</p></td><td class="confluenceTd"><p>33.8128</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>7.810427</p></td></tr></tbody></table></div><p><br/></p><p><strong><u>4) Comparison</u></strong></p><p><strong><u><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="158" src="https://arterisip.atlassian.net/wiki/download/attachments/16164777/image2021-11-12_17-40-45.png?api=v2"></span></u></strong></p><p>When compared to beta 3 RTL, non-coherent traffic (Case 1 and Case 2) does not have any perf degradation, and coherent case (Case3, 4 and 5) is observing 0.7~3% BW degradation.</p><p><br/></p><p><br/></p>