<h2 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-Date">Date</h2><p><time datetime="2018-03-01" class="date-past">01 Mar 2018</time></p><h2 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-Attendees">Attendees</h2><ul><li><p><a class="confluence-userlink user-mention" data-account-id="70121:3348fb54-d260-4625-b8db-37aa9a743214" href="https://arterisip.atlassian.net/wiki/people/70121:3348fb54-d260-4625-b8db-37aa9a743214?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Kurt Shuler (Deactivated)</a></p></li><li><p><a class="confluence-userlink user-mention" data-account-id="624674b5f40798007056fc6f" href="https://arterisip.atlassian.net/wiki/people/624674b5f40798007056fc6f?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Steve Kromer (Deactivated)</a></p></li><li><a class="confluence-userlink user-mention" data-account-id="624b3788699649006ae98fea" href="https://arterisip.atlassian.net/wiki/people/624b3788699649006ae98fea?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Ankit Shah (Deactivated)</a></li><li>Cadence: Marc Greenberg</li></ul><h2 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-Goals">Goals</h2><ul><li>Understand Cadence mem ctrl plans for future with LPDDR/DDR5, HBM, and ECC protection coming.</li></ul><h2 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-Discussionitems">Discussion items</h2><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Time</th><th class="confluenceTh">Item</th><th class="confluenceTh">Who</th><th class="confluenceTh">Notes</th></tr><tr><td class="confluenceTd"></td><td class="confluenceTd"></td><td class="confluenceTd"></td><td class="confluenceTd"><ul><li></li></ul></td></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd"> </td></tr></tbody></table></div><h2 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-Actionitems">Action items</h2><ul class="inline-task-list" data-inline-tasks-content-id="16167827"><li data-inline-task-id="1"><a class="confluence-userlink user-mention" data-account-id="70121:3348fb54-d260-4625-b8db-37aa9a743214" href="https://arterisip.atlassian.net/wiki/people/70121:3348fb54-d260-4625-b8db-37aa9a743214?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Kurt Shuler (Deactivated)</a> to organize webinar/live training by Marc to Arteris AE team. What does AE need to know about DDR4/LPDDR4/HBM?</li><li data-inline-task-id="15"><a class="confluence-userlink user-mention" data-account-id="70121:3348fb54-d260-4625-b8db-37aa9a743214" href="https://arterisip.atlassian.net/wiki/people/70121:3348fb54-d260-4625-b8db-37aa9a743214?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Kurt Shuler (Deactivated)</a> sync with Marc on where to get LPDDR5 details. If spec not available, is there a DDR5 vendor datasheet? <br/>NOTE: as of 2018-04-05, Marc has not been able to get us JEDEC info or DDR5 datasheets. JEDEC spec PDF has individual's name embedded in PDF. </li></ul>
<h2 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-Notes">Notes</h2><h3 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-Customers">Customers</h3><ul><li>Supports all options from one memory controller, different config</li><li>Customer databook for each customer can deliver in 24 hours if one of standard config</li><li>Cadence easily handles ASIL-B requirements with off the shelf solution. ASIL-D requirements would require SOW with more thorough detail</li><li>Requests for write buffer hits or prefetching capability have been denied, theory being that such things may be valuable way near source due to locality of reference, but no real benefit downstream near memory. Just make the controller a simple fast pipe to memory.</li></ul><p> <span style="font-size: 16.0px;font-weight: bold;">Cadence Controller</span></p><ul><li>reorder/noreorder is a runtime option. Though a strictly noreorder implementation may save some area, it is thought neligible, so they always build for reorder.</li><li>Controller logic is mostly datapath</li></ul><h3 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-ECC">ECC</h3><ul><li>Supports in-line ECC between MemCtl and Memory<ul><li>Background accesses for ECC hidden from master, though may impact latency</li></ul></li><li>When asked for end-to-end ECC, Cadence pushes back for just parity at NoC/MemCtl interface<ul><li>Concerns of too much variability when letting customer control ECC scheme</li></ul></li><li>Also unclear how to handle uncorrectable errors, though later Marc thought it wouldn't be much more than current parity handling</li><li>ECC at NoC/MemCtl interface not thought strictly necessary for ASIL-d, but some customers may push for it, (Arbe may be the first?). </li></ul><h3 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-LPDDR5Controller">LPDDR5 Controller</h3><ul><li>LPDDR5 will build with 2 independent channels, assumption being that customers will be using a NoC which is better suited to routing separate channels than MemCtl making the decision.</li><li>LPDDR5 have system C model</li><li>Databahn interface still available, but not thought worth it due to expertise required and what can go wrong. Most customers will choose AXI I/F</li><li>Test chip tapeout coming soon</li><li>LPDDR5 spec info:<ul><li>DRAM is same but signaling is different (ECC)</li><li>Still AXI primarily. Is faster, but spends higher % of time in refresh.</li><li>Increased error rates on I/F</li></ul></li></ul><p><span style="font-size: 16.0px;font-weight: bold;">HBM2 Controller</span></p><ul><li>One controller with one physical channel and two virtual channels per controller</li><li>HBM2 creates virtual channels, Ex: each HBM die = 16 virtual channels / ports<ul><li>Best of each defined as own address space with own MemCtl and NoC determines route</li><li>In the case of this much duplication, Databahn interface may make sense</li></ul></li><li>2 Tb/s</li><li>Connecting LLC to HBM2 w/16 channels?<ul><li>“split &amp; spray” option – split  bytes evenly per channel – low latency but higher power</li><li>Dedicated option – SoC architect assigns functions to channels</li></ul></li></ul><h3 id="id-2018-03-01Cadence/ArterisMemoryControllerMeetingnotes-DDRemergingtrends">DDR emerging trends</h3><ul><li>Refresh can consume on order of 400ns/3800, i.e. on the order of 10%, and will only get worse<ul><li>Per bank refresh to mitigate penalty, adds complexity to MemCtl to refresh other bank when not in use</li></ul></li><li>GPDDR6 viable for some instead of HBM<ul><li>But 32/64 data lines with 16g/18g  can have error rate approaching 100 errors/second on DDR data pins. Have to address retry within MemCtl, not really feasible to manage  upstream. </li></ul></li></ul><hr/><p> </p><p> </p>