<p>The intention of this test is to increase snoop traffic gradually and see the latency/BW impact in the system.</p><ul><li>Warm-up cache (integrated with CAIU0) before start sequences</li><li>Back-to-back traffic</li><li>Zero latency at destination</li><li>All traffic is with QoS value 0</li></ul><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>NCAIU0</p></td><td class="confluenceTd"><p>NCAIU1</p></td><td class="confluenceTd"><p>NCAIU2</p></td><td class="confluenceTd"><p>NCAI3</p></td></tr><tr><td class="confluenceTd"><p>Sequence 1</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>Sequence 2</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>Sequence 3</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>Sequence 4</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p>Accessing to DMI</p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>Sequence 5</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p>Snooping to CAIU0</p></td><td class="confluenceTd"><p>Accessing to DMI</p></td><td class="confluenceTd"><p>Accessing to DMI</p></td></tr></tbody></table></div><p><br/></p><p><strong><u>1)Observation</u></strong></p><ul><li>Maximum achievable snoop BW is 54.2%, because of the RB and MRD credit limit of the DCE.</li><li>If we insert more snoop traffic, it only increases the latency. Again NCAIU 1 shows worse latency.</li><li>Can get almost 95% of the BW when adding more traffic targeting DMI.</li></ul><p><br/></p><p><strong><u>2)Utilization</u></strong></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 57.047%;"><colgroup><col style="width: 12.2527%;"/><col style="width: 25.212%;"/><col style="width: 12.7238%;"/><col style="width: 12.2527%;"/><col style="width: 11.0733%;"/><col style="width: 12.4882%;"/><col style="width: 14.0239%;"/></colgroup><tbody><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>Enabled Init</p></td><td colspan="2" class="confluenceTd"><p>Nov 4th</p></td><td colspan="2" class="confluenceTd">Beta 3</td><td class="confluenceTd"><p>Improvement</p></td></tr><tr><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">BW (GB/s)</td><td colspan="1" class="confluenceTd">Util </td><td colspan="1" class="confluenceTd">BW (GB/s)</td><td colspan="1" class="confluenceTd">Util </td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><p>Sequence 1</p></td><td class="confluenceTd"><p>NCAIU0 snooping CAIU0</p></td><td class="confluenceTd"><p>20.493</p></td><td colspan="1" class="confluenceTd">49.26%</td><td colspan="1" class="confluenceTd">20.513</td><td colspan="1" class="confluenceTd">49.31%</td><td class="confluenceTd"><p>0%</p></td></tr><tr><td class="confluenceTd"><p>Sequence 2</p></td><td class="confluenceTd"><p>NCAIU0, 1 snooping CAIU0</p></td><td class="confluenceTd"><p>22.545</p></td><td colspan="1" class="confluenceTd">54.2%</td><td colspan="1" class="confluenceTd">23.312</td><td colspan="1" class="confluenceTd">56.04%</td><td class="confluenceTd">-3.3%</td></tr><tr><td class="confluenceTd"><p>Sequence 3</p></td><td class="confluenceTd"><p>NCAIU0, 1, and 2 snooping CAIU0</p></td><td class="confluenceTd"><p>22.55</p></td><td colspan="1" class="confluenceTd">54.21%</td><td colspan="1" class="confluenceTd">23.304</td><td colspan="1" class="confluenceTd">56.02%</td><td class="confluenceTd">-3.3%</td></tr><tr><td class="confluenceTd"><p>Sequence 4</p></td><td class="confluenceTd"><p>NCAIU0, 1 snooping CAIU0</p><p>NCAIU2 accessing DMI</p></td><td class="confluenceTd"><p>31.804</p></td><td colspan="1" class="confluenceTd">76.45%</td><td colspan="1" class="confluenceTd">31.987</td><td colspan="1" class="confluenceTd">76.89%</td><td class="confluenceTd">-0.5%</td></tr><tr><td class="confluenceTd"><p>Sequence 5</p></td><td class="confluenceTd"><p>NCAIU0, 1 snooping CAIU0</p><p>NCAIU2, 3 accessing DMI</p></td><td class="confluenceTd"><p>39.23</p></td><td colspan="1" class="confluenceTd">94.3%</td><td colspan="1" class="confluenceTd">39.921</td><td colspan="1" class="confluenceTd">95.96%</td><td class="confluenceTd">-1.7%</td></tr></tbody></table></div><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16165304/image2021-11-7_19-48-42.png?api=v2"></span></p><p><br/></p><p><strong><u>3) Average Latency (NCAIU native interface)</u></strong></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><br/></p></td><td colspan="4" class="confluenceTd">Nov 3</td><td colspan="4" class="confluenceTd">Beta 3</td></tr><tr><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">NCAIU0</td><td colspan="1" class="confluenceTd">NCAIU1</td><td colspan="1" class="confluenceTd">NCAIU2</td><td colspan="1" class="confluenceTd">NCAIU3</td><td colspan="1" class="confluenceTd">NCAIU0</td><td colspan="1" class="confluenceTd">NCAIU1</td><td colspan="1" class="confluenceTd">NCAIU2</td><td colspan="1" class="confluenceTd">NCAIU3</td></tr><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><p>Sequence 1</p></td><td class="confluenceTd">125.45</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">125.29</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><p>Sequence 2</p></td><td class="confluenceTd">238.25</td><td class="confluenceTd">241.1</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">230.46</td><td colspan="1" class="confluenceTd">233.55</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><p>Sequence 3</p></td><td class="confluenceTd">358.18</td><td class="confluenceTd">442.41</td><td class="confluenceTd">353.2</td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">346.31</td><td colspan="1" class="confluenceTd">427.33</td><td colspan="1" class="confluenceTd">341.86</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><p>Sequence 4</p></td><td class="confluenceTd">252.79</td><td class="confluenceTd">344.73</td><td class="confluenceTd">248.38</td><td class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">252.86</td><td colspan="1" class="confluenceTd">337.02</td><td colspan="1" class="confluenceTd">248.48</td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><td class="confluenceTd"><p>Sequence 5</p></td><td class="confluenceTd">263.62</td><td class="confluenceTd">388.77</td><td class="confluenceTd">261.11</td><td class="confluenceTd">261.2</td><td colspan="1" class="confluenceTd">259.27</td><td colspan="1" class="confluenceTd">381.95</td><td colspan="1" class="confluenceTd">260.91</td><td colspan="1" class="confluenceTd">255.65</td></tr></tbody></table></div><p><br/></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16165304/image2021-11-7_19-50-27.png?api=v2"></span></p><p><br/></p><p><strong><u>4) Resource and credit values at saturating point</u></strong></p><p>Picked the resource value at sequence 3.</p><p>CAIU / NCAIU (when QoS enabled)</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>OTT</p></td><td class="confluenceTd"><p>DCE0</p></td><td class="confluenceTd"><p>DCE1</p></td><td class="confluenceTd"><p>DMI</p></td></tr><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>CAIU: 96</p><p>NCAIU: 32</p><p>NCAIU1: 96</p></td><td class="confluenceTd"><p>CAIU: 10</p><p>NCAIU: 6</p></td><td class="confluenceTd"><p>CAIU: 10</p><p>NCAIU: 6</p></td><td class="confluenceTd"><p>CAIU: 10</p><p>NCAIU: 6</p></td></tr><tr><td class="confluenceTd"><p>CAIU</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>NCAIU0</p></td><td class="confluenceTd"><p>29.89189</p></td><td class="confluenceTd"><p>2.135135</p></td><td class="confluenceTd"><p>2.256757</p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>NCAIU1</p></td><td class="confluenceTd"><p>45.84234</p></td><td class="confluenceTd"><p>3.18018</p></td><td class="confluenceTd"><p>3.396396</p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>NCAIU2</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr><tr><td class="confluenceTd"><p>NCAIU3</p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p><br/></p></td></tr></tbody></table></div><p><br/></p><p>DCE0/DCE1(when QoS enabled)</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>ATT</p></td><td class="confluenceTd"><p>MRD</p></td><td class="confluenceTd"><p>SNP</p></td><td class="confluenceTd"><p>RB</p></td></tr><tr><td class="confluenceTd"><p><br/></p></td><td class="confluenceTd"><p>36</p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>8</p></td></tr><tr><td class="confluenceTd"><p>DCE 0 credit</p></td><td class="confluenceTd"><p>33.86712</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>3.867117</p></td><td class="confluenceTd"><p>7.867117</p></td></tr><tr><td class="confluenceTd"><p>DCE 1 credit</p></td><td class="confluenceTd"><p>33.86712</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>3.867117</p></td><td class="confluenceTd"><p>7.867117</p></td></tr></tbody></table></div><p><br/></p><p><strong><u>5) BW Comparisons (Beta 3 RTL vs. 11/3)</u></strong></p><p>Red is beta RTL, and blue is RTL release at Nov 3rd. </p><p><strong><u><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="https://arterisip.atlassian.net/wiki/download/attachments/16165304/image2021-11-7_20-33-47.png?api=v2"></span></u></strong></p><p><br/></p><p><a class="external-link" href="https://arteris-my.sharepoint.com/:x:/p/junie_um/EWu7LvAFly1FlIJH9wURbQ4Bem5OU8LAOFynlagjsCQqSg?e=mUukf6" rel="nofollow">https://arteris-my.sharepoint.com/:x:/p/junie_um/EWu7LvAFly1FlIJH9wURbQ4Bem5OU8LAOFynlagjsCQqSg?e=mUukf6</a></p><p><br/></p>