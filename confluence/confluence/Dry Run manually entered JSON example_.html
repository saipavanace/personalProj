<h2 id="DryRunmanuallyenteredJSONexample:-Copyandpastethefollowingcommandstoyourshell(assumingtcsh):">Copy and paste the following commands to your shell (assuming tcsh):</h2><p style="margin-left: 30.0px;">mkdir dryrun<br/>cd dryrun<br/>module load node/lts<br/>git clone <a class="external-link" href="mailto:git@gitlab.arteris.com" rel="nofollow">git@gitlab.arteris.com</a>:hardware/hw-sym.git hw-sym<br/>git clone <a class="external-link" href="mailto:git@gitlab.arteris.com" rel="nofollow">git@gitlab.arteris.com</a>:hardware/hw-lib.git hw-lib<br/>git clone <a class="external-link" href="mailto:git@gitlab.arteris.com" rel="nofollow">git@gitlab.arteris.com</a>:hardware/hw-ncr.git hw-ncr<br/>git clone <a class="external-link" href="mailto:git@gitlab.arteris.com" rel="nofollow">git@gitlab.arteris.com</a>:hardware/hw-ccp.git hw-ccp<br/>mkdir debug<br/>setenv ATP_TOP `pwd`/hw-sym/dv/tb/top/dryrun_legato<br/>cd debug<br/>ln -s ../hw-sym/dv/tb/top/dryrun_legato/run_dryrun<br/>mkdir dryrun_code<br/>cd dryrun_code<br/>ln -s ../../hw-lib/verilog/dffre.v .<br/>cd ..<br/> </p><h2 id="DryRunmanuallyenteredJSONexample:-Youshouldnowbereadytocreatesomeverilog:">You should now be ready to create some verilog:</h2><p style="margin-left: 30.0px;">./run_dryrun dryrun_top.json gen_wrapper.tachl dryrun_code<br/> </p><p>Run a quick LINT check on the code to see if everything is working</p><p style="margin-left: 30.0px;">cd dryrun_code<br/>verilator --lint-only ./gen_wrapper_0.v -I. --error-limit 0 -Wno-IMPLICIT -Werror-PINMISSING<br/>verilator --lint-only ./gen_wrapper_1.v -I. --error-limit 0 -Wno-IMPLICIT -Werror-PINMISSING<br/>verilator --lint-only ./gen_wrapper_1.v -I. --error-limit 0 -Wno-IMPLICIT -Werror-PINMISSING </p><p>You can't run verilator and gen_wrapper.v, because there is a Ncore block whose params has asserts turned on.</p><h2 id="DryRunmanuallyenteredJSONexample:-Youcanrunoneofthesubblocks,likeatp_network_y,allonitslonesome:">You can run one of the sub blocks, like atp_network_y, all on its lonesome:</h2><p style="margin-left: 30.0px;">cd ..<br/>./run_dryrun atp_network_y.json gen_wrapper.tachl dryrun_code<br/>cd dryrun_code<br/>verilator --lint-only ./gen_wrapper.v -I. --error-limit 0 -Wno-IMPLICIT -Werror-PINMISSING</p><h2 id="DryRunmanuallyenteredJSONexample:-MyVerilogDUTwrappersforCharlieDemo:">My Verilog DUT wrappers for Charlie Demo:</h2><p style="margin-left: 30.0px;">ln -s ../../hw-sym/dv/tb/top/dryrun_legato/*.v .<br/>source /engr/dev/tools/script/snps-eng.sh<br/>source /engr/dev/tools/script/mentor-eng.sh</p><h2 id="DryRunmanuallyenteredJSONexample:-TheJSONfilesthatdrivethiscodegenerationareat:">The JSON files that drive this code generation are at:</h2><p>                hw-sym/dv/tb/top/dryrun_legato</p><h2 id="DryRunmanuallyenteredJSONexample:-Thecodehierarchyis:">The code hierarchy is:</h2><p>dryrun_top<br/>                (ncore blocks to go here in the future)<br/>                smi_network_y<br/>                                smi_pkt (x6)<br/>                                smi_depkt (x6)<br/>                                atp_network_y<br/>                                                sym_switch (x7)<br/>                smi_network_g<br/>                                smi_pkt (x5)<br/>                                smi_depkt (x5)<br/>                                atp_network_g<br/>                                                sym_switch (x5)<br/>                                                sym_pipe_adapter (x10)<br/>                smi_network_b<br/>                                smi_pkt (x4)<br/>                                smi_depkt (x4)<br/>                                atb_network_b<br/>                                                sym_switch (x4)<br/>                                                sym_pipe_adapter (x8)</p><h2 id="DryRunmanuallyenteredJSONexample:-Therearehardcodedpacketdefinitionsthatsitat:">There are hardcoded packet definitions that sit at:</h2><p>                hw-sym/dv/tb/top/dryrun_legato/cpr<br/>                                packetATP_b.packet.cpr<br/>                                packetATP_g.packet.cpr<br/>                                packetATP_y.packet.cpr </p><h2 id="DryRunmanuallyenteredJSONexample:-TherethreeflavorsofsmiandappinterfacesarecontrolledthefollowingJSONfiles">There three flavors of smi and app interfaces are controlled the following JSON files<span style="font-size: 14.0px;"> </span></h2><p>               smi_b.json<br/>                smi_g.json<br/>                smi_y.json</p><p>               atp_b.json<br/>                atp_g.json<br/>                atp_y.json </p><h2 id="DryRunmanuallyenteredJSONexample:-So,tochangethewidthsonthebluenetwork,youneedtosynchronizeeditstothreefiles:">So, to change the widths on the blue network, you need to synchronize edits to three files:</h2><p>               packetATP_b.packet.cpr<br/>                smi_b.json<br/>                atp_b.json</p><p>For now, we’re assuming HP=0 (header and fist beat of data on same cycle).</p><h2 id="DryRunmanuallyenteredJSONexample:-Theroutesarecontainedinthesmi_pkt*.jsonfilesunderthepathLutparameter:">The routes are contained in the smi_pkt*.json files under the pathLut parameter:</h2><p>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt0_b.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt0_g.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt0_pkt1_y.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt1_b.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt1_g.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt2_b.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt2_g.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt2_pkt3_y.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt3_b.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt3_g.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt4_g.json<br/>                hw-sym/dv/tb/top/dryrun_legato/smi_pkt4_pkt5_y.json</p>