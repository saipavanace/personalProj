<p><span class="legacy-color-text-blue3">This is a JS class that can be found in the following path and file:</span><br/><strong>hw-lib/js/lib_utils.js</strong></p><h2 id="classPkdArray-BaseClass">Base Class</h2><p>None</p><h2 id="classPkdArray-Composition">Composition</h2><p><a class="external-link" href="https://confluence.arteris.com/display/ENGR/class+Slice" rel="nofollow" style="text-decoration: none;">class Slice</a></p><h2 id="classPkdArray-Description">Description</h2><p><span class="legacy-color-text-blue3">The class implements the proposal for a packed array implementation mentioned here: <a class="external-link" href="https://confluence.arteris.com/display/ENGR/Support+for+packed+data-structures+in+TACHL" rel="nofollow" style="text-decoration: none;">Support for packed data-structures in TACHL</a>. The class provides a way to access a set of fields of equal width and type, packed onto a bus to fetch, by index, information such as the field's position, width, associated values etc. The class also supports hierarchical access of packed fields (array of structs or array of arrays).</span></p><p><span class="legacy-color-text-blue3">The class itself is initialized with a packed data-structure representation ( An object with width and length properties ) to create an instance of a packed array. The index must be a positive integer or zero.</span></p><h2 id="classPkdArray-Properties"><span class="legacy-color-text-blue3">Properties</span></h2><p><span class="legacy-color-text-blue3">The class provides the following properties:</span></p><ol><li><em>start</em><span> </span>: Position of the most-significant bit of the packed array instance</li><li><em>end</em><span> </span>: Position of the least-significant bit of the packed array instance</li><li><em>width</em><span> </span>: Width of the packed array</li><li><em>length</em><span> </span>: Number of fields at the top-level struct. Hierarchical fields are not counted.</li></ol><p><br/></p><h2 id="classPkdArray-Interface(Methods)">Interface (Methods)</h2><p>All class methods described below are non-mutating (except the constructor). The class provides the following interface:</p><h5 id="classPkdArray-constructor(arrayInfo,options)"><em>constructor ( arrayInfo, options )</em></h5><p>Creates an instance of <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156285/class+PkdArray">class PkdArray</a> initialized with the packed array represented by <em>arrayinfo</em>.<span> The <em>options</em> parameter is optional. The parameter <em>arrayInfo</em> is expected to be an object with the following properties:</span></p><ol><li><em>width</em>. A positive integer. This specifies the width of each value in the array. If <em>packType</em><span> </span>= &quot;struct&quot; or &quot;array&quot;, this field is optional and can be computed internally. Otherwise this field must exist.</li><li><em>length</em>. A positive integer. This specified the length of the array or the number of values it holds.</li><li><em>value</em>. This specifies an associated value stored with each struct member. If <em>packType</em><span> </span>= &quot;struct&quot; or &quot;array&quot; and <em>unpack</em><span> </span>= true, the value is interpreted as another packed structure allowing hierarchical access into its fields. If <em>packType</em><span> </span>is undefined or empty, this field is optional and can be of any type.</li><li><em>packType</em>. String. This specifies the type of value stored in a field. It can take one of the following values: &quot;struct&quot; or &quot;array&quot;. This field is optional. If undefined, the stored <em>value</em><span> </span>is assumed to be of non-packed value.</li><li>valueEndian: String. This specifies the endianness of the packed structure in <em>value</em> if <em>packType</em> = &quot;struct&quot; or &quot;array&quot;.</li></ol><p><br/></p><p>The parameter <em>options</em><span> </span>is expected to be an object with the following properties:</p><ol><li><em>endian</em>: String. Supported values = &quot;little&quot;, &quot;big&quot;. This specifies the order in which the fields appear on a bus from LSB to MSB. If endian = &quot;little&quot;, the first field in the array occupies the least significant bits. Otherwise the first field in the array occupies the most significant bits. Default: &quot;big&quot;.</li><li><em>unpack</em>: Boolean. When<span> </span><em>true</em>, fields with <em>packType</em> = &quot;struct&quot;, the value is replaced by an instance of <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156641/class+PkdStruct" data-linked-resource-id="16156641" data-linked-resource-version="3" data-linked-resource-type="page">class PkdStruct</a> initialized with the same<span> </span><em>value</em>, and fields with <em>packType</em><span> </span>= &quot;array&quot;, the value is replaced by an instance of <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156285/class+PkdArray">class PkdArray</a> initialized with the same <em>value</em>. If false, the value is not interpreted as a packed data-structure. Default: true.</li><li><em>start.</em> A positive integer or zero. Sets the position of the most-significant bit of the packed struct. Default: end + width-of-struct -1.</li><li><em>end</em>. A positive integer or zero. Sets the position of the least-significant bit of the packed struct. Default: 0 if start is undefined. start - width-of-struct + 1 otherwise.</li></ol><p><br/></p><h5 id="classPkdArray-idx(i)"><em>idx ( i )</em></h5><p>Returns the associated <em>value</em><span> </span>stored at the specified index, if<span> </span><em>unpack</em><span> </span>= false or <em>packType</em> = undefined or empty. If <em>unpack</em><span> </span>= true, and <em>packType</em><span> </span>= &quot;struct&quot;, then the value returned is an instance of <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156641/class+PkdStruct" data-linked-resource-id="16156641" data-linked-resource-version="3" data-linked-resource-type="page">class PkdStruct</a>. If<span> </span><em>unpack</em><span> </span>= false, and <em>packType</em><span> </span>= &quot;array&quot;, then the value returned is an instance of <a href="https://arterisip.atlassian.net/wiki/spaces/ENGR/pages/16156285/class+PkdArray">class PkdArray</a>.</p><p><br/></p><h5 id="classPkdArray-slice(i)"><em>slice ( i )</em></h5><p>Returns an instance of <a class="external-link" href="https://confluence.arteris.com/display/ENGR/class+Slice" rel="nofollow" style="text-decoration: none;">class Slice</a> that represents the position and width of the specified value at index i in the packed array.</p><p><br/></p><p><br/></p><p><br/></p>