<p>09-23-2021 <a class="external-link" href="https://webfile.arteris.com/~troyh/7nm_config10/09-23-new/buckets/dce_a/dce_a_dc_max_functional_1.00/Internal_StartEnd_Point/index.html" rel="nofollow">dce_a Internal_StartEnd_Point Drop 1.00 (arteris.com)</a></p><p>10-27-2021 <a class="external-link" href="https://webfile.arteris.com/~troyh/config10_lite/10-27-2021/buckets/dce_a/dce_a_dc_max_functional_1.00/Internal_StartEnd_Point/index.html" rel="nofollow">dce_a Internal_StartEnd_Point Drop 1.00 (arteris.com)</a></p><p><br/></p><p>(1)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/18a69450388928bfaeb893f72639ba9fa77f82ee" rel="nofollow">DCE timing fix for att_entry_req_mrd_valid (18a69450) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>dce_att_entry.tachl : Fix att_entry_req_mrd_valid (the request to the MRDreq arbiter) by removing the early signal (that traverses the MRD credit arbiter grant signal).</p><p><strong>This fix adds 1 cycle latency</strong>.</p><pre>Worst Slack: -0.17335
----------------------------------------------------------------------
Path: 1
  Startpoint: dce_func_unit/dce_tm/ATT_ENTRIES[18].att_entry/mrd_pending_q0_dffre/q_reg[0]
              (rising edge-triggered flip-flop clocked by clk_reg_a_clk_dom_a_clk_subdom_a_clk)
  Endpoint: dce_func_unit/dce_conc_mux/mrd_req_fifo/fifo/mem1_dffre/q_reg[74]
            (rising edge-triggered flip-flop clocked by clk_reg_a_clk_dom_a_clk_subdom_a_clk)
  Path Group: flop2flop
  Path Type: max</pre><p>(2)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/8b24cc985fe64bcf33ac7281d42c738f8d62208a" rel="nofollow">DCE timing fix for att_recall_avail (8b24cc98) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/c43b09fe37d1fd0b8b1860ec9679c228579aa35d" rel="nofollow">Fix att_recall_avail to ensure it will never collide with att_req_avail (c43b09fe) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>dce_tm.tachl: Fix att_recall_avail by doing find first from MSB. (Note: att_avail is always find first from LSB). This breaks the long timing path previously introduced by having two find first modules in series, sandwiched by a level of gating logic.</p><p>(3)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/d06ce9c2077bf3b0829ed8060acbfbe6d3bdd37a" rel="nofollow">DCE timing fix (d06ce9c2) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>dce_att_entry.tachl: Fix snp_req_arb_valid (the request to the SNPreq arbiter) by removing the early signal (that traverses the SNP credit arbiter grant signal).</p><p><strong>This fix adds 1 cycle latency</strong>.</p><p>(4)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/31c687f26c92d393d6e0b521ff1270d96d8cd895" rel="nofollow">DCE timing fix (31c687f2) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>dce_tm.tachl: Fix att_count by only summing the late signals in the final adder.</p><p>dce_tm.tachl: Fix att_recall_alloc_valid by using logic_tree.</p><p>dce_tm.tachl: Fix tm_busy_org by using logic tree.</p><p>(5)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/6bf66067989d37036daeb9a688de46e7b3cd87ba" rel="nofollow">DCE timing fix (6bf66067) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>dce_tm.tachl: Fix dm_recall_alloc_ready by using logic tree.</p><p>(6)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/a7ee8f6e330f57b38a3386adf7f958599e0bd75d" rel="nofollow">DCE timing fix (a7ee8f6e) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>dce_att_entry.tachl: Fix att_rb_id_req by removing the early signal (that traverses the RBID arbiter grant signal).</p><p><strong>This fix adds 1 cycle latency.</strong></p><p>(7)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/6c343043bea1ec62d93506e97a053e00d0b0c2b2" rel="nofollow">DCE timing fix: disable skid buffer bypass (6c343043) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>dce_skid_buffer.tachl: Disable bypass in the CMDreq buffer and the UPDreq buffer.</p><p><strong>This fix adds 1 cycle latency.</strong></p><p>(8)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/87ec3ef6cf0107300cd1dcfb53589fdcf5b2c7c6" rel="nofollow">DCE timing fix for rbid path (87ec3ef6) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>dce_rbid.tachl: recode combinatorial logic to speed up timing.</p><p>(9)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/21c94c3f5fb071e8e5df484664b23c1750238295" rel="nofollow">DCE timing fix for SMI TX* paths (21c94c3f) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>cpr/tachl/dce.tachl.cpr : DCE TM to SMI TX0,1,2 paths.</p><p><strong>This fix adds 1 cycle latency.</strong></p><p>(10) Tie off all engineering debug register bits to Directory Manager.</p><p>NOTE: cfg_vb_i chains together 2 long combinatorial paths.  cfg_rc_i also affects the same path.</p><p>wire t_cfg_stall_update = cfg_i[21]; //Stall Update if p1/p2 valid.<br/>wire t_cfg_wb = cfg_i[20]; //Require TM WriteBack (rmW).<br/>wire t_cfg_rc = cfg_i[19]; //Recall if pipe is empty<br/>wire [1:0] t_cfg_save = cfg_i[18:17]; //Disable VB recovery on {wr,up}<br/>wire t_cfg_vb = cfg_i[16]; //Disable Victim Buffer<br/>wire [2:0] t_cfg_skid = cfg_i[15:13]; //VB almost full recall<br/>wire [2:0] t_cfg_throttle = cfg_i[12:10]; //One request every n cycles<br/>wire t_cfg_single = cfg_i[9]; //depipelined<br/>wire t_cfg_stall_p1 = cfg_i[8]; //Stall if p1 valid<br/>wire t_cfg_stall_p2 = cfg_i[7]; //Stall if p2 valid<br/>wire t_cfg_stall_rr = cfg_i[6]; //Stall if retry pending<br/>wire t_cfg_stall_wr = cfg_i[5]; //Stall until TM writes<br/>wire t_cfg_retry_rc = cfg_i[4]; //Retry if Recalling<br/>wire t_cfg_retry_bb = cfg_i[3]; //Retry back-2-back collision<br/>wire [WN-1:0] t_cfg_busy = cfg_busy_i; //Mark individual ways as busy<br/>wire [FN-1:0] t_cfg_null_err = cfg_filter_i; //Null filter on errors<br/>wire t_cfg_null_rtr = cfg_i[2]; //Turn retry into NULL response<br/>wire t_cfg_null_all = cfg_i[1]; //NULL filter always<br/>wire t_cfg_alloc = cfg_i[0]; //all requests allocate a way</p><p>(11)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/423491b656baff003469d8825e682ec07fefdad6" rel="nofollow">DCE timing fix: now using faster version of rr_arb_comb_mux/arb_comb. (423491b6) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>(12)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/9e8b4881d607290707ca8e834359d0708e4f6cb9" rel="nofollow">DCE timing fix: add a FIFO between DCE Skid Buffer CMDreq output and DCE... (9e8b4881) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p><strong>This fix adds 1 cycle latency</strong> to the CMDreq path. But the latency can be saved by configuring the DCE Skid Buffer from non-bypassable to bypassable. See (7) above.</p><p>(13)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/2b9735541ecacd9d08bf56b3b92e22e10c918f87" rel="nofollow">DCE timing fix (2b973554) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>  Startpoint: dce_func_unit/dce_tm/p1_req_wakeup_valid_dffre/q_reg[*]</p><p>  Endpoint: dce_func_unit/dce_tm/att_wake_next_vec_q0_dffre/q_reg[*]</p><p>(14)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/503a7a9eed776e921acd3986ef09d7ed85907a66" rel="nofollow">DCE timing improvement for q_vb_* multiplexing (503a7a9e) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>(15)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/f973a3951559e9d59e2aa637f4902e856e88bf6c" rel="nofollow">DCE directory timing improvement for w_p2_eibv, w_vb_wbv, w_vb_shits. (f973a395) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>(16)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/f7fa6e13e8db4d11c7bc17d2266473d929c4c6f7" rel="nofollow">Timing improvements for dce_dir.tachl (f7fa6e13) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>to speed up arbiter grant</p><p>(17)</p><p><s><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/dd665188ddaefb063ea553d2feaaba26d2b6e65a" rel="nofollow">DCE timing fix for the TM Wakeup/Retry path (dd665188) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></s></p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/4b2759ac72345e6a2f9f4326c22507da9af8160d" rel="nofollow">Undo previous DCE timing fix for the TM Wakeup/Retry path (4b2759ac) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p><p>(18)</p><p><a class="external-link" href="http://gitlab.arteris.com/hardware/hw-ncr/-/commit/5fa088a13584758ba257c9d35d0ef80c4d35a557" rel="nofollow">DCE timing fix: store ATT vector in onehot code in the Retry Buffer (5fa088a1) · Commits · hardware / hw-ncr · GitLab (arteris.com)</a></p>