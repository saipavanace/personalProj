<h2 id="HW-SYM2021-05-20Meetingnotes:AccessingattributesgeneratedbydesignTACHLbuildfromDV-Date">Date</h2><p><time datetime="2021-05-20" class="date-past">20 May 2021</time></p><h2 id="HW-SYM2021-05-20Meetingnotes:AccessingattributesgeneratedbydesignTACHLbuildfromDV-Attendees">Attendees</h2><ul><li><p><a class="confluence-userlink user-mention" data-account-id="624b3798699649006ae98ff8" href="https://arterisip.atlassian.net/wiki/people/624b3798699649006ae98ff8?ref=confluence" target="_blank" data-linked-resource-id="756836" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Darshan Alagud</a></p></li><li><p><a class="confluence-userlink user-mention" data-account-id="624501c02e101c006a8e1314" href="https://arterisip.atlassian.net/wiki/people/624501c02e101c006a8e1314?ref=confluence" target="_blank" data-linked-resource-id="669169" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Allan Lobo</a></p></li><li><a class="confluence-userlink user-mention" data-account-id="624b37fc258562006fa692fa" href="https://arterisip.atlassian.net/wiki/people/624b37fc258562006fa692fa?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">John Coddington (Deactivated)</a></li><li><a class="confluence-userlink user-mention" data-account-id="5ed63c82037d930c16bd8c73" href="https://arterisip.atlassian.net/wiki/people/5ed63c82037d930c16bd8c73?ref=confluence" target="_blank" data-linked-resource-id="327834" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Saad Zahid</a></li><li><a class="confluence-userlink user-mention" data-account-id="624b374545ece00069cca858" href="https://arterisip.atlassian.net/wiki/people/624b374545ece00069cca858?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Ben Chen (Deactivated)</a></li><li><a class="confluence-userlink user-mention" data-account-id="624b36f5ed4d6b0070161efb" href="https://arterisip.atlassian.net/wiki/people/624b36f5ed4d6b0070161efb?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Benny Winefeld (Deactivated)</a></li><li><a class="confluence-userlink user-mention current-user-mention" data-account-id="624b3807a629c30068a79f50" href="https://arterisip.atlassian.net/wiki/people/624b3807a629c30068a79f50?ref=confluence" target="_blank" data-linked-resource-id="790813" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Sai Pavan Yaraguti</a></li><li><a class="confluence-userlink user-mention" data-account-id="624b38261da0e100713c9b4b" href="https://arterisip.atlassian.net/wiki/people/624b38261da0e100713c9b4b?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">Bill Chandler (Deactivated)</a></li></ul><h2 id="HW-SYM2021-05-20Meetingnotes:AccessingattributesgeneratedbydesignTACHLbuildfromDV-Goals">Goals</h2><ul><li>DV requires certain information that can only be generated post design-TACHL build. Goal is to figure out a good way to provide them this information.</li></ul><h2 id="HW-SYM2021-05-20Meetingnotes:AccessingattributesgeneratedbydesignTACHLbuildfromDV-Discussionitems">Discussion items</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Time</th><th class="confluenceTh">Item</th><th class="confluenceTh">Who</th><th class="confluenceTh">Notes</th></tr><tr><td class="confluenceTd"></td><td class="confluenceTd">Design TACHL build needs to be run twice</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><ul><li>If DV requires information that can only be generated post-TACHL build of design/DUT, we are forced to do TACHL build of design twice: <br/>1. Once to generate attributes that include design related information. This will be used to generate dv.json.<br/>2. Once again to generate all Verilog and SV files, using dv.json from step above, including tb_wrapper.v and all instances in the instance hierarchy below.</li><li>We might be able to avoid building design twice, if TACHL supported a way to blackbox design while generating Step 2 above. But we are unlikely to go down this path for R1.</li></ul></td></tr><tr><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">Examples of DV required information</td><td colspan="1" class="confluenceTd"><p><br/></p></td><td colspan="1" class="confluenceTd"><ul><li>HDL paths or Verilog instance hierarchy paths. DV needs them for backdoor access to registers - to put or read values in design registers during simulation.</li><li>Address-space path of every apb_csr instance in a given SW visible block (ATUI/T, firewall etc.).</li><li>interruptBitTrees</li><li>All the above information will be available through dv.json.</li></ul></td></tr><tr><td class="confluenceTd"><br/></td><td class="confluenceTd"> No reads from disk</td><td class="confluenceTd"><br/></td><td class="confluenceTd"><ul><li>Because Maestro doesn't want to allow any reads from disk, functions that generate the above params should not rely on reading *.attr files or *.v files. Instead they must expect a JSON object with all the attributes of every module in the design.</li><li>John will have to generate instance paths by looking at attributes instead of by scanning *.v files.</li></ul></td></tr><tr><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">Who calls the functions</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><ul><li>The functions to compute the information required by DV above will be called inside DV Tachl files to begin with. But they can be later absorbed into Aria if required.</li></ul></td></tr></tbody></table></div><h2 id="HW-SYM2021-05-20Meetingnotes:AccessingattributesgeneratedbydesignTACHLbuildfromDV-Actionitems">Action items</h2><ul class="inline-task-list" data-inline-tasks-content-id="16158514"><li data-inline-task-id="1"><a class="confluence-userlink user-mention" data-account-id="624501c02e101c006a8e1314" href="https://arterisip.atlassian.net/wiki/people/624501c02e101c006a8e1314?ref=confluence" target="_blank" data-linked-resource-id="669169" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Allan Lobo</a>Provide attributes JSON object/associative-array with module-names as properties/keys and their attributes as values, in the dv.json.</li><li data-inline-task-id="16"><a class="confluence-userlink user-mention" data-account-id="624b37fc258562006fa692fa" href="https://arterisip.atlassian.net/wiki/people/624b37fc258562006fa692fa?ref=confluence" target="_blank" data-base-url="https://arterisip.atlassian.net/wiki">John Coddington (Deactivated)</a>Refactor existing functions that scan Verilog files to instead read the above attributes object to build instance-paths.</li><li data-inline-task-id="17"><a class="confluence-userlink user-mention" data-account-id="624b3798699649006ae98ff8" href="https://arterisip.atlassian.net/wiki/people/624b3798699649006ae98ff8?ref=confluence" target="_blank" data-linked-resource-id="756836" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://arterisip.atlassian.net/wiki">Darshan Alagud</a>Define a convenient data-structure for DV to access HDL paths and call John's functions to provide this to DV.</li></ul>