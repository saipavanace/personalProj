<p>This page will be updated to clarify/modify some elements. </p><ul><li><strong>Create a new directory to build rtl. Use below cmds to build rtl.</strong></li></ul><p>o   mkdir ncore3_hw_config_10_rtlbuild_0929_zwld_synth</p><p>o   cd ncore3_hw_config_10_rtlbuild_0929_zwld_synth</p><p>o   Run all these steps from here</p><p><br/></p><ol><li><strong>/engr/dev/tools/script/setup_concerto</strong></li><li><strong>source SOURCEME.csh ncore3.0.1</strong></li><li><strong>$WORK_TOP/dv/scripts/refresh_rtl</strong></li><li><strong>source $WORK_TOP/SOURCEME_image.tcsh</strong></li><li><strong>mkdir &lt;My_synthesis_directory&gt;</strong></li><li><strong>cd &lt;My_synthesis_directory&gt;</strong></li><li><s><strong>maestro -c -s test_projects/ncore_v3.0_configs/base_configs/hw_config_10/hw_config_10.tcl <span class="legacy-color-text-red2">hw_config_10 has AssertOn true and some memories are FLOP. This causes the synthesis to fail for some of the block. We will create another configuration soon to fix the issue and it will be updated here.</span></strong></s></li><li><s><strong>maestro -c -s /home/bmadon/hw_config_10_synthesis/hw_config_10.tcl This configuration was updated so that all memories are SRAMS. It removes assertOn.</strong></s></li><li><strong>maestro -c -s ../../test_projects/ncore_v3.0_configs/base_configs/hw_config_10_lite/hw_config_10_lite.tcl</strong></li></ol><p><br/></p><p>Note: maestro creates output folder and few sub-directories under it.</p><p><br/></p><ul><li><strong>Adding memory wrappers (hw_config_10 wrappers are ready for you to use)</strong></li></ul><p>Note: memories are expected in the same directory where output directory exists.</p><p>           Memory cut sizes may change if config changes, then new memories must be generated.</p><p><br/></p><p>o  <s> cp -r /scratch/smusini/memory_wrappers_repo/7nm/hw_config_10/memories .</s></p><ul><li><s>cp -r /home/bmadon/memories/ . <span class="legacy-color-text-red2">For now take the memories from my folder, I ll connect with Shiva to update the wrappers. The cache memories are still instanciated as flops. Now the CAIU also have SRAM for the ott entries (used to be flops). The memories were fortunately the same size as the NCAIUS.</span></s></li><li><span class="legacy-color-text-red2">Memories wrappers need to be resized. To use flops in the meantime do :</span></li><li><span class="legacy-color-text-red2">cp -r output/rtl/models/memories ./ </span></li></ul><p>o   ls -ltd output/ memories/</p><p>drwxr-xr-x  3 smusini employees 37 Sep 29 16:17 memories/</p><p>drwxr-xr-x 11 smusini employees 12 Sep 29 16:07 output/</p><p>           </p><ul><li><strong>Updating design files</strong></li></ul><p>Note: Synthesis flow is expecting placeholder.v files also should exist in design folder.</p><p>           If not copied, you will see linking errors.</p><p><br/></p><p>o   cp output/rtl/placeholders/*.v  output/rtl/design/</p><p><br/></p><ul><li><strong>Update blocks for Synthesis ready</strong> (run it from where 1 -5 steps were run)</li></ul><ol><li><strong>node /home/smusini/Aria/run_aria_ncore3_zero_wireload.js</strong></li></ol><p><a class="external-link" href="https://confluence.arteris.com/display/ENGR/Content+of+zerowire+load+aria+script" rel="nofollow">For more information on the content of script </a></p><p>Note: ARIA script is a java script. Moving forward ARIA script will be discontinued. For now, use it.</p><p><br/></p><ul><li><strong>Update blocks to run Zero wire load Synthesis. Copy zwld conversion script to output/synthesis/synopsys/scripts</strong></li></ul><p>o   <strong>cp /home/troyh/zwld_conversion/zwld_synth_conversion.csh  output/synthesis/synopsys/scripts</strong></p><p>o   Update the blocks list for which you need to run zwld synthesis locally. Run this script from scripts folder.</p><p>o   <strong>cd output/synthesis/synopsys/scripts</strong></p><p>    <strong> source zwld_synth_conversion.csh</strong></p><p>Note: above scripts modifies the dc_config.json file and copies run.cmd into the block. You can see the content of the file by clicking <a class="external-link" href="https://confluence.arteris.com/display/ENGR/zwld_synth_conversion.csh" rel="nofollow">here</a></p><p><br/></p><ul><li><strong>Run block synthesis locally from the scripts/&lt;blocks&gt; directory. Source license file before launching run cmd.</strong></li></ul><p>o   source /engr/dev/tools/script/snps-eng.sh</p><p>o   cd dve_a</p><p>o   source run.cmd</p><p><br/></p><p>This launches dc synthesis and creates all required reports to analyze. I made the flow simpler to mainly see hierarchical timing path.</p><p>Things to check before the synthesis :</p><p>In output/synthesis/synospsys/scripts/&lt;module&gt; :</p><ul style="list-style-type: square;"><li>Make sure that the macro dbs appear in dc_config.json</li><li>in &lt;module&gt;.read_design.tcl at the end of the file make sure that the external mems path are the one in the memories folder that you copied and the macros should also appear there.</li></ul><p>If this is not the case it is likely that aria was not run appropriately. It will cause one of two issues : unresolved reference or flops instead of an SRAM macros blowing off the synthesis.</p><p>Debug after synthesis : </p><p>1) Unresolved reference related to internal_mem</p><p>This is likely due to using a configuration which have memory set as FLOP instead of SRAM.</p><p>2) Unresolved reference related to placeholder</p><p>It is likely that the updating desing file step was forgotten (cp output/rtl/placeholder/*.v  output/rtl/design/)</p><p>3) In the event that the configuration has asserton True, and the assertion are not gated off, it does not appear to cause unresolved references and seem to be ignored by the synthesis tool.</p><p><br/></p>